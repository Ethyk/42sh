[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[1;33m~[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m                                                                                                                                                                                                                                                                                            

----------------------------------------------------------------

[37;1m42sh/builtins/export/002-export-basic-key-value-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `export` may declare a new environment variable.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851_NAME"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME=TOKEN201711141851_VALUE'[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/003-export-basic-key-value-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `export` may declare a new environment variable and is able to display it later.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851_NAME"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE
  02: export[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=["]?TOKEN201711141851_VALUE["]?$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME=TOKEN201711141851_VALUE'[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/004-export-empty-variable-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that exporting an empty variable does not add it to the environment.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851
  02: ./display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==87124==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000317f2 at pc 0x00010b23bd6c bp 0x7fff549ec010 sp 0x7fff549ec008
  03: READ of size 1 at 0x6020000317f2 thread T0
  04:     #0 0x10b23bd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10b23d35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10b23ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10b26c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10b26aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10b2330e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10b231b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10b232232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10b22f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10b230607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10b230944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10b232539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10b22d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10b22dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10b22e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10b213e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000317f2 is located 0 bytes to the right of 2-byte region [0x6020000317f0,0x6020000317f2)
  28: allocated by thread T0 here:
  29:     #0 0x10b400ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10b27e49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10b2811bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10b23cb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10b23d15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10b23ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10b26c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10b26aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10b2330e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10b231b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10b232232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10b22f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10b230607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10b230944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10b232539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10b22f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10b22d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10b22dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10b22e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10b213e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000062a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000062b0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000062c0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fa
  60:   0x1c04000062d0: fa fa fd fa fa fa fd fa fa fa 00 06 fa fa fd fd
  61:   0x1c04000062e0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000062f0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c0400006300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006310: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006320: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006330: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006340: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==87124==ABORTING
  88: ./lib/main.sh: line 102: 87124 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/005-export-empty-variable-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that exporting an empty variable does not add it to the environment, but can be displayed with the builtin `export`.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851
  02: export[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  01: LDFLAGS=-L/Users/ade-sede/.brew/opt/llvm/lib -Wl, -rpath,/Users/ade-sede/.brew/opt/llvm/lib
  02: rvm_use_flag=
  03: rvm_bin_path=/Users/ade-sede/.rvm/bin
  04: TPLUGS=/Users/ade-sede/.dotfiles/tmux/.tmux/plugins/
  05: TERM_PROGRAM=iTerm.app
  06: rvm_quiet_flag=
  07: rvm_gemstone_url=
  08: HOMEBREW_TEMP=/tmp/ade-sede/Homebrew/Temp
  09: TERM=xterm-256color
  10: SHELL=42sh
  11: MYVIMRC=/Users/ade-sede/.dotfiles/vim/.vimrc
  12: rvm_docs_type=
  13: TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0002hg4000m3s/T/
  14: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.mn0HppoxWy/Render
  15: TERM_PROGRAM_VERSION=3.1.2
  16: rvm_hook=
  17: i3RC=/Users/ade-sede/.dotfiles/config/.config/i3/config
  18: TERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  19: USER=ade-sede
  20: rvm_gemstone_package_file=
  21: _system_type=Darwin
  22: rvm_path=/Users/ade-sede/.rvm
  23: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.fvnX9tXifG/Listeners
  24: __CF_USER_TEXT_ENCODING=0x5079:0x0:0x0
  25: rvm_proxy=
  26: rvm_ruby_file=
  27: HOMEBREW_CACHE=/tmp/ade-sede/Homebrew/Caches
  28: DOTFILES=/Users/ade-sede/.dotfiles
  29: rvm_silent_flag=
  30: rvm_prefix=/Users/ade-sede
  31: rvm_ruby_make=
  32: MAIL=adrien.de.sede@gmail.com
  33: PATH=/Users/ade-sede/.dotfiles/scripts:/Users/ade-sede/.brew/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/munki:/Users/ade-sede/.rvm/bin
  34: ZSHRC=/Users/ade-sede/.dotfiles/zsh/.zshrc
  35: ASAN_SYMBOLIZER_PATH=/Users/ade-sede/.brew/opt/llvm/bin/llvm-symbolizer
  36: PWD=/Users/ade-sede/42ShellTester/tmp
  37: EDITOR=vim
  38: rvm_sdk=
  39: BASE16_THEME=base16-nord
  40: LANG=en_US.UTF-8
  41: ITERM_PROFILE=ade-sede
  42: KEYTIMEOUT=1
  43: _system_arch=x86_64
  44: PROMPT_FILE=/Users/ade-sede/.dotfiles/zsh/.zsh_prompt.zsh
  45: TERMITERC=/Users/ade-sede/.dotfiles/config/.config/termite/config
  46: XPC_FLAGS=0x0
  47: _system_version=10.12
  48: XPC_SERVICE_NAME=0
  49: rvm_version=1.29.3 (latest)
  50: rvm_script_name=
  51: rvm_pretty_print_flag=
  52: SHLVL=3
  53: HOME=/Users/ade-sede
  54: COLORFGBG=7;0
  55: rvm_ruby_mode=
  56: ITERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  57: LOGNAME=ade-sede
  58: rvm_alias_expanded=
  59: VISUAL=vim
  60: rvm_wrapper_name=
  61: LLDB=/usr/bin/lldb
  62: BAR=/Users/ade-sede/.dotfiles/config/.config/i3blocks/config
  63: TMUXRC=/Users/ade-sede/.dotfiles/tmux/.tmux.conf
  64: rvm_nightly_flag=
  65: TODO=/Users/ade-sede/.dotfiles/TODO
  66: rvm_ruby_make_install=
  67: rvm_niceness=
  68: rvm_ruby_bits=
  69: rvm_bin_flag=
  70: rvm_only_path_flag=
  71: _system_name=OSX
  72: COLORTERM=truecolor
  73: OLDPWD=/Users/ade-sede/42ShellTester
  74: _=/Users/ade-sede/projects/42sh/42sh
  75: HISTFILE=.42sh_history
  76: PS1=$> 
  77: PS2=dquote> 
  78: PS3=quote> [0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/006-export-update-env-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that exporting the same variable twice in a row does result in an updated variable, but not in a duplicated variable.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851_NAME"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE1
  02: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE2
  03: ./display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME=TOKEN201711141851_VALUE1'[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/007-existing-environment-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that exporting an existing variable results in an updated variable.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE1"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE2
  02: ./display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME=TOKEN201711141851_VALUE2'[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/008-local-to-environment[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a declared local variable may be exported to the environment with the builtin `export`.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE
  02: export TOKEN201711141851_NAME
  03: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==87870==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032032 at pc 0x00010db05d6c bp 0x7fff52122010 sp 0x7fff52122008
  03: READ of size 1 at 0x602000032032 thread T0
  04:     #0 0x10db05d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10db0735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10db05a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10db361ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10db34ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10dafd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10dafbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10dafc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10daf92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10dafa607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10dafa944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10dafc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10daf75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10daf7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10daf85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10dadde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000032032 is located 0 bytes to the right of 2-byte region [0x602000032030,0x602000032032)
  28: allocated by thread T0 here:
  29:     #0 0x10dcc9ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10db4849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10db4b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10db06b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10db0715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10db05a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10db361ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10db34ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10dafd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10dafbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10dafc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10daf92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10dafa607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10dafa944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10dafc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10daf9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10daf75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10daf7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10daf85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10dadde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000063b0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000063c0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c04000063d0: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c04000063e0: fa fa 00 06 fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000063f0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c0400006400: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006410: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006420: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006430: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006440: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006450: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==87870==ABORTING
  88: ./lib/main.sh: line 102: 87870 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/009-export-with-equal-but-no-value-part1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if the builtin export works fine with equal sign but no value. This test is based on the environment variables return.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME='[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/010-export-with-equal-but-no-value-part2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if the builtin export works fine with equal sign but no value. This test is based on the local variables return.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711141851_NAME=
  02: export[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: 42sh: parse error near `TOKEN201711141851_NAME='[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/001-invalid-identifier-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that trying to export an invalid variable identifier results in error.[0m

  STDIN:
[38;5;239m  01: export 42=TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `(not.*identifier|must begin.*letter)`[0m
[38;5;239m  01: Wrong assignement :: key cannot be fully numeric or contain reserved symbols[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/002-invalid-identifier-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that trying to export an invalid variable identifier results in error.[0m

  STDIN:
[38;5;239m  01: export .=TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `(not.*identifier|must begin.*letter)`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/003-illegal-option[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the builtin `export` with an illegal option results in an error and a failure exit status.[0m

  STDIN:
[38;5;239m  01: export -w[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Ii]nvalid|[Ii]llegal) (option|argument)`[0m
[38;5;239m  01: Wrong option -w[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/mixed/002-export-and-tmp-env-part2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m   The purpose of this test is to check that modifying the environment for the builtin `export` results in an added environment variable.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851_NAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE export TOKEN201711141851_NAME
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==89141==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031b92 at pc 0x00010475bd6c bp 0x7fff5b4cc010 sp 0x7fff5b4cc008
  03: READ of size 1 at 0x602000031b92 thread T0
  04:     #0 0x10475bd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10475d35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10475ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10478c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10478aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1047530e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x104751b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x104752232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10474f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x104750607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x104750944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x104752539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10474d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10474dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10474e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x104733e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031b92 is located 0 bytes to the right of 2-byte region [0x602000031b90,0x602000031b92)
  28: allocated by thread T0 here:
  29:     #0 0x104926ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10479e49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1047a11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10475cb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10475d15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10475ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10478c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10478aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1047530e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x104751b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x104752232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10474f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x104750607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x104750944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x104752539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10474f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10474d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10474dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10474e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x104733e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006320: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006330: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  59:   0x1c0400006340: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 06
  60:   0x1c0400006350: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006360: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c0400006370: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006390: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000063a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000063b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000063c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==89141==ABORTING
  88: ./lib/main.sh: line 102: 89141 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/options/002-export-p-param-and-token-should-add-local-var-only-part1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if export with -p option + token , add the variable into export list but not in env list. And don't display the export variable on stdout.[0m

  Before test:
[38;5;239m  01: rm -f "./stored_env"
  02: unset "TOKEN201711141851_NAME"
  03: export | awk 'BEGIN {FS="="} $0 !~ /^(OLDPWD|_)/ {print $1"="}' > "./stored_env"[0m

  STDIN:
[38;5;239m  01: export -p TOKEN201711141851_NAME
  02: export[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_each_regex_of_file `./stored_env`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME`[0m
[38;5;239m  01: LDFLAGS=-L/Users/ade-sede/.brew/opt/llvm/lib -Wl, -rpath,/Users/ade-sede/.brew/opt/llvm/lib
  02: rvm_use_flag=
  03: rvm_bin_path=/Users/ade-sede/.rvm/bin
  04: TPLUGS=/Users/ade-sede/.dotfiles/tmux/.tmux/plugins/
  05: TERM_PROGRAM=iTerm.app
  06: rvm_quiet_flag=
  07: rvm_gemstone_url=
  08: HOMEBREW_TEMP=/tmp/ade-sede/Homebrew/Temp
  09: TERM=xterm-256color
  10: SHELL=42sh
  11: MYVIMRC=/Users/ade-sede/.dotfiles/vim/.vimrc
  12: rvm_docs_type=
  13: TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0002hg4000m3s/T/
  14: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.mn0HppoxWy/Render
  15: TERM_PROGRAM_VERSION=3.1.2
  16: rvm_hook=
  17: i3RC=/Users/ade-sede/.dotfiles/config/.config/i3/config
  18: TERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  19: USER=ade-sede
  20: rvm_gemstone_package_file=
  21: _system_type=Darwin
  22: rvm_path=/Users/ade-sede/.rvm
  23: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.fvnX9tXifG/Listeners
  24: __CF_USER_TEXT_ENCODING=0x5079:0x0:0x0
  25: rvm_proxy=
  26: rvm_ruby_file=
  27: HOMEBREW_CACHE=/tmp/ade-sede/Homebrew/Caches
  28: DOTFILES=/Users/ade-sede/.dotfiles
  29: rvm_silent_flag=
  30: rvm_prefix=/Users/ade-sede
  31: rvm_ruby_make=
  32: MAIL=adrien.de.sede@gmail.com
  33: PATH=/Users/ade-sede/.dotfiles/scripts:/Users/ade-sede/.brew/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/munki:/Users/ade-sede/.rvm/bin
  34: ZSHRC=/Users/ade-sede/.dotfiles/zsh/.zshrc
  35: ASAN_SYMBOLIZER_PATH=/Users/ade-sede/.brew/opt/llvm/bin/llvm-symbolizer
  36: PWD=/Users/ade-sede/42ShellTester/tmp
  37: EDITOR=vim
  38: rvm_sdk=
  39: BASE16_THEME=base16-nord
  40: LANG=en_US.UTF-8
  41: ITERM_PROFILE=ade-sede
  42: KEYTIMEOUT=1
  43: _system_arch=x86_64
  44: PROMPT_FILE=/Users/ade-sede/.dotfiles/zsh/.zsh_prompt.zsh
  45: TERMITERC=/Users/ade-sede/.dotfiles/config/.config/termite/config
  46: XPC_FLAGS=0x0
  47: _system_version=10.12
  48: XPC_SERVICE_NAME=0
  49: rvm_version=1.29.3 (latest)
  50: rvm_script_name=
  51: rvm_pretty_print_flag=
  52: SHLVL=3
  53: HOME=/Users/ade-sede
  54: COLORFGBG=7;0
  55: rvm_ruby_mode=
  56: ITERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  57: LOGNAME=ade-sede
  58: rvm_alias_expanded=
  59: VISUAL=vim
  60: rvm_wrapper_name=
  61: LLDB=/usr/bin/lldb
  62: BAR=/Users/ade-sede/.dotfiles/config/.config/i3blocks/config
  63: TMUXRC=/Users/ade-sede/.dotfiles/tmux/.tmux.conf
  64: rvm_nightly_flag=
  65: TODO=/Users/ade-sede/.dotfiles/TODO
  66: rvm_ruby_make_install=
  67: rvm_niceness=
  68: rvm_ruby_bits=
  69: rvm_bin_flag=
  70: rvm_only_path_flag=
  71: _system_name=OSX
  72: COLORTERM=truecolor
  73: OLDPWD=/Users/ade-sede/42ShellTester
  74: _=/Users/ade-sede/projects/42sh/42sh
  75: HISTFILE=.42sh_history
  76: PS1=$> 
  77: PS2=dquote> 
  78: PS3=quote> 
  79: LDFLAGS=-L/Users/ade-sede/.brew/opt/llvm/lib -Wl, -rpath,/Users/ade-sede/.brew/opt/llvm/lib
  80: rvm_use_flag=
  81: rvm_bin_path=/Users/ade-sede/.rvm/bin
  82: TPLUGS=/Users/ade-sede/.dotfiles/tmux/.tmux/plugins/
  83: TERM_PROGRAM=iTerm.app
  84: rvm_quiet_flag=
  85: rvm_gemstone_url=
  86: HOMEBREW_TEMP=/tmp/ade-sede/Homebrew/Temp
  87: TERM=xterm-256color
  88: SHELL=42sh
  89: MYVIMRC=/Users/ade-sede/.dotfiles/vim/.vimrc
  90: rvm_docs_type=
  91: TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0002hg4000m3s/T/
  92: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.mn0HppoxWy/Render
  93: TERM_PROGRAM_VERSION=3.1.2
  94: rvm_hook=
  95: i3RC=/Users/ade-sede/.dotfiles/config/.config/i3/config
  96: TERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  97: USER=ade-sede
  98: rvm_gemstone_package_file=
  99: _system_type=Darwin
  100: rvm_path=/Users/ade-sede/.rvm
  101: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.fvnX9tXifG/Listeners
  102: __CF_USER_TEXT_ENCODING=0x5079:0x0:0x0
  103: rvm_proxy=
  104: rvm_ruby_file=
  105: HOMEBREW_CACHE=/tmp/ade-sede/Homebrew/Caches
  106: DOTFILES=/Users/ade-sede/.dotfiles
  107: rvm_silent_flag=
  108: rvm_prefix=/Users/ade-sede
  109: rvm_ruby_make=
  110: MAIL=adrien.de.sede@gmail.com
  111: PATH=/Users/ade-sede/.dotfiles/scripts:/Users/ade-sede/.brew/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/munki:/Users/ade-sede/.rvm/bin
  112: ZSHRC=/Users/ade-sede/.dotfiles/zsh/.zshrc
  113: ASAN_SYMBOLIZER_PATH=/Users/ade-sede/.brew/opt/llvm/bin/llvm-symbolizer
  114: PWD=/Users/ade-sede/42ShellTester/tmp
  115: EDITOR=vim
  116: rvm_sdk=
  117: BASE16_THEME=base16-nord
  118: LANG=en_US.UTF-8
  119: ITERM_PROFILE=ade-sede
  120: KEYTIMEOUT=1
  121: _system_arch=x86_64
  122: PROMPT_FILE=/Users/ade-sede/.dotfiles/zsh/.zsh_prompt.zsh
  123: TERMITERC=/Users/ade-sede/.dotfiles/config/.config/termite/config
  124: XPC_FLAGS=0x0
  125: _system_version=10.12
  126: XPC_SERVICE_NAME=0
  127: rvm_version=1.29.3 (latest)
  128: rvm_script_name=
  129: rvm_pretty_print_flag=
  130: SHLVL=3
  131: HOME=/Users/ade-sede
  132: COLORFGBG=7;0
  133: rvm_ruby_mode=
  134: ITERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  135: LOGNAME=ade-sede
  136: rvm_alias_expanded=
  137: VISUAL=vim
  138: rvm_wrapper_name=
  139: LLDB=/usr/bin/lldb
  140: BAR=/Users/ade-sede/.dotfiles/config/.config/i3blocks/config
  141: TMUXRC=/Users/ade-sede/.dotfiles/tmux/.tmux.conf
  142: rvm_nightly_flag=
  143: TODO=/Users/ade-sede/.dotfiles/TODO
  144: rvm_ruby_make_install=
  145: rvm_niceness=
  146: rvm_ruby_bits=
  147: rvm_bin_flag=
  148: rvm_only_path_flag=
  149: _system_name=OSX
  150: COLORTERM=truecolor
  151: OLDPWD=/Users/ade-sede/42ShellTester
  152: _=/Users/ade-sede/projects/42sh/42sh
  153: HISTFILE=.42sh_history
  154: PS1=$> 
  155: PS2=dquote> 
  156: PS3=quote> [0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/options/003-export-p-param-and-token-should-add-local-var-only-part2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `export` with option `-p` results in an added variable into the export list but not from the environment.[0m

  Before test:
[38;5;239m  01: rm -f "./stored_env"
  02: unset "TOKEN201711141851_NAME"
  03: export | awk 'BEGIN {FS="="} $0 !~ /^(OLDPWD|_)/ {print $1"="}' > "./stored_env"[0m

  STDIN:
[38;5;239m  01: export -p TOKEN201711141851_NAME
  02: ./display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_each_regex_of_file `./stored_env`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_NAME`[0m
[38;5;239m  01: LDFLAGS=-L/Users/ade-sede/.brew/opt/llvm/lib -Wl, -rpath,/Users/ade-sede/.brew/opt/llvm/lib
  02: rvm_use_flag=
  03: rvm_bin_path=/Users/ade-sede/.rvm/bin
  04: TPLUGS=/Users/ade-sede/.dotfiles/tmux/.tmux/plugins/
  05: TERM_PROGRAM=iTerm.app
  06: rvm_quiet_flag=
  07: rvm_gemstone_url=
  08: HOMEBREW_TEMP=/tmp/ade-sede/Homebrew/Temp
  09: TERM=xterm-256color
  10: SHELL=42sh
  11: MYVIMRC=/Users/ade-sede/.dotfiles/vim/.vimrc
  12: rvm_docs_type=
  13: TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0002hg4000m3s/T/
  14: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.mn0HppoxWy/Render
  15: TERM_PROGRAM_VERSION=3.1.2
  16: rvm_hook=
  17: i3RC=/Users/ade-sede/.dotfiles/config/.config/i3/config
  18: TERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  19: USER=ade-sede
  20: rvm_gemstone_package_file=
  21: _system_type=Darwin
  22: rvm_path=/Users/ade-sede/.rvm
  23: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.fvnX9tXifG/Listeners
  24: __CF_USER_TEXT_ENCODING=0x5079:0x0:0x0
  25: rvm_proxy=
  26: rvm_ruby_file=
  27: HOMEBREW_CACHE=/tmp/ade-sede/Homebrew/Caches
  28: DOTFILES=/Users/ade-sede/.dotfiles
  29: rvm_silent_flag=
  30: rvm_prefix=/Users/ade-sede
  31: rvm_ruby_make=
  32: MAIL=adrien.de.sede@gmail.com
  33: PATH=/Users/ade-sede/.dotfiles/scripts:/Users/ade-sede/.brew/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/munki:/Users/ade-sede/.rvm/bin
  34: ZSHRC=/Users/ade-sede/.dotfiles/zsh/.zshrc
  35: ASAN_SYMBOLIZER_PATH=/Users/ade-sede/.brew/opt/llvm/bin/llvm-symbolizer
  36: PWD=/Users/ade-sede/42ShellTester/tmp
  37: EDITOR=vim
  38: rvm_sdk=
  39: BASE16_THEME=base16-nord
  40: LANG=en_US.UTF-8
  41: ITERM_PROFILE=ade-sede
  42: KEYTIMEOUT=1
  43: _system_arch=x86_64
  44: PROMPT_FILE=/Users/ade-sede/.dotfiles/zsh/.zsh_prompt.zsh
  45: TERMITERC=/Users/ade-sede/.dotfiles/config/.config/termite/config
  46: XPC_FLAGS=0x0
  47: _system_version=10.12
  48: XPC_SERVICE_NAME=0
  49: rvm_version=1.29.3 (latest)
  50: rvm_script_name=
  51: rvm_pretty_print_flag=
  52: SHLVL=3
  53: HOME=/Users/ade-sede
  54: COLORFGBG=7;0
  55: rvm_ruby_mode=
  56: ITERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  57: LOGNAME=ade-sede
  58: rvm_alias_expanded=
  59: VISUAL=vim
  60: rvm_wrapper_name=
  61: LLDB=/usr/bin/lldb
  62: BAR=/Users/ade-sede/.dotfiles/config/.config/i3blocks/config
  63: TMUXRC=/Users/ade-sede/.dotfiles/tmux/.tmux.conf
  64: rvm_nightly_flag=
  65: TODO=/Users/ade-sede/.dotfiles/TODO
  66: rvm_ruby_make_install=
  67: rvm_niceness=
  68: rvm_ruby_bits=
  69: rvm_bin_flag=
  70: rvm_only_path_flag=
  71: _system_name=OSX
  72: COLORTERM=truecolor
  73: OLDPWD=/Users/ade-sede/42ShellTester
  74: _=/Users/ade-sede/projects/42sh/42sh
  75: HISTFILE=.42sh_history
  76: PS1=$> 
  77: PS2=dquote> 
  78: PS3=quote> [0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==90390==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031d72 at pc 0x00010c468d6c bp 0x7fff537bf010 sp 0x7fff537bf008
  03: READ of size 1 at 0x602000031d72 thread T0
  04:     #0 0x10c468d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c46a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c468a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c4991ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c497ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c4600e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c45eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c45f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c45c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c45d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c45d944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c45f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10c45a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10c45ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10c45b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10c440e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031d72 is located 0 bytes to the right of 2-byte region [0x602000031d70,0x602000031d72)
  28: allocated by thread T0 here:
  29:     #0 0x10c631ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10c4ab49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10c4ae1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10c469b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10c46a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10c468a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10c4991ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10c497ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10c4600e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10c45eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10c45f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10c45c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10c45d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10c45d944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10c45f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10c45c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10c45a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10c45ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10c45b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10c440e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006350: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006360: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006370: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fa
  60:   0x1c0400006380: fa fa fd fa fa fa fd fa fa fa 00 06 fa fa fd fd
  61:   0x1c0400006390: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000063a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000063b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000063c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000063d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000063e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000063f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==90390==ABORTING
  88: ./lib/main.sh: line 102: 90390 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/options/004-export-n-param[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m   The purpose of this test is to check that using the builtin `export` with option `-n` results in a removed environment variable.[0m

  Before test:
[38;5;239m  01: export TOKEN201711141851_NAME=TOKEN201711141851_VALUE[0m

  STDIN:
[38;5;239m  01: export -n TOKEN201711141851_NAME
  02: export
  03: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711141851_NAME`[0m
[38;5;239m  01: LDFLAGS=-L/Users/ade-sede/.brew/opt/llvm/lib -Wl, -rpath,/Users/ade-sede/.brew/opt/llvm/lib
  02: rvm_use_flag=
  03: rvm_bin_path=/Users/ade-sede/.rvm/bin
  04: TPLUGS=/Users/ade-sede/.dotfiles/tmux/.tmux/plugins/
  05: TERM_PROGRAM=iTerm.app
  06: rvm_quiet_flag=
  07: rvm_gemstone_url=
  08: HOMEBREW_TEMP=/tmp/ade-sede/Homebrew/Temp
  09: TERM=xterm-256color
  10: SHELL=42sh
  11: MYVIMRC=/Users/ade-sede/.dotfiles/vim/.vimrc
  12: rvm_docs_type=
  13: TMPDIR=/var/folders/zz/zyxvpxvq6csfxvn_n0002hg4000m3s/T/
  14: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.mn0HppoxWy/Render
  15: TERM_PROGRAM_VERSION=3.1.2
  16: OLDPWD=/Users/ade-sede/42ShellTester
  17: rvm_hook=
  18: i3RC=/Users/ade-sede/.dotfiles/config/.config/i3/config
  19: TERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  20: USER=ade-sede
  21: rvm_gemstone_package_file=
  22: _system_type=Darwin
  23: rvm_path=/Users/ade-sede/.rvm
  24: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.fvnX9tXifG/Listeners
  25: __CF_USER_TEXT_ENCODING=0x5079:0x0:0x0
  26: rvm_proxy=
  27: rvm_ruby_file=
  28: HOMEBREW_CACHE=/tmp/ade-sede/Homebrew/Caches
  29: DOTFILES=/Users/ade-sede/.dotfiles
  30: rvm_silent_flag=
  31: rvm_prefix=/Users/ade-sede
  32: rvm_ruby_make=
  33: MAIL=adrien.de.sede@gmail.com
  34: PATH=/Users/ade-sede/.dotfiles/scripts:/Users/ade-sede/.brew/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/munki:/Users/ade-sede/.rvm/bin
  35: ZSHRC=/Users/ade-sede/.dotfiles/zsh/.zshrc
  36: ASAN_SYMBOLIZER_PATH=/Users/ade-sede/.brew/opt/llvm/bin/llvm-symbolizer
  37: PWD=/Users/ade-sede/42ShellTester/tmp
  38: EDITOR=vim
  39: rvm_sdk=
  40: BASE16_THEME=base16-nord
  41: LANG=en_US.UTF-8
  42: ITERM_PROFILE=ade-sede
  43: KEYTIMEOUT=1
  44: _system_arch=x86_64
  45: PROMPT_FILE=/Users/ade-sede/.dotfiles/zsh/.zsh_prompt.zsh
  46: TERMITERC=/Users/ade-sede/.dotfiles/config/.config/termite/config
  47: XPC_FLAGS=0x0
  48: _system_version=10.12
  49: XPC_SERVICE_NAME=0
  50: rvm_version=1.29.3 (latest)
  51: rvm_script_name=
  52: rvm_pretty_print_flag=
  53: SHLVL=3
  54: HOME=/Users/ade-sede
  55: COLORFGBG=7;0
  56: rvm_ruby_mode=
  57: ITERM_SESSION_ID=w0t0p1:A03E79A6-D7AF-4254-A96A-FD399F8CAC58
  58: LOGNAME=ade-sede
  59: rvm_alias_expanded=
  60: VISUAL=vim
  61: TOKEN201711141851_NAME=TOKEN201711141851_VALUE
  62: rvm_wrapper_name=
  63: LLDB=/usr/bin/lldb
  64: BAR=/Users/ade-sede/.dotfiles/config/.config/i3blocks/config
  65: TMUXRC=/Users/ade-sede/.dotfiles/tmux/.tmux.conf
  66: rvm_nightly_flag=
  67: TODO=/Users/ade-sede/.dotfiles/TODO
  68: rvm_ruby_make_install=
  69: rvm_niceness=
  70: rvm_ruby_bits=
  71: rvm_bin_flag=
  72: rvm_only_path_flag=
  73: _system_name=OSX
  74: COLORTERM=truecolor
  75: _=/Users/ade-sede/projects/42sh/42sh
  76: HISTFILE=.42sh_history
  77: PS1=$> 
  78: PS2=dquote> 
  79: PS3=quote> [0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: Wrong option -n
  02: =================================================================
  03: ==90917==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032b32 at pc 0x000105fc1d6c bp 0x7fff59c65fd0 sp 0x7fff59c65fc8
  04: READ of size 1 at 0x602000032b32 thread T0
  05:     #0 0x105fc1d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  06:     #1 0x105fc335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  07:     #2 0x105fc1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  08:     #3 0x105ff21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  09:     #4 0x105ff0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  10:     #5 0x105fb90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  11:     #6 0x105fb7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  12:     #7 0x105fb8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  13:     #8 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  14:     #9 0x105fb52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  15:     #10 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  16:     #11 0x105fb6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  17:     #12 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  18:     #13 0x105fb6944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  19:     #14 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  20:     #15 0x105fb8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  21:     #16 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  22:     #17 0x105fb35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  23:     #18 0x105fb3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  24:     #19 0x105fb45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  25:     #20 0x105f99e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  26:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  27: 
  28: 0x602000032b32 is located 0 bytes to the right of 2-byte region [0x602000032b30,0x602000032b32)
  29: allocated by thread T0 here:
  30:     #0 0x106186ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  31:     #1 0x10600449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  32:     #2 0x1060071bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  33:     #3 0x105fc2b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  34:     #4 0x105fc315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  35:     #5 0x105fc1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  36:     #6 0x105ff21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  37:     #7 0x105ff0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  38:     #8 0x105fb90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  39:     #9 0x105fb7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  40:     #10 0x105fb8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  41:     #11 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  42:     #12 0x105fb52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  43:     #13 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  44:     #14 0x105fb6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  45:     #15 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  46:     #16 0x105fb6944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  47:     #17 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  48:     #18 0x105fb8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  49:     #19 0x105fb5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  50:     #20 0x105fb35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  51:     #21 0x105fb3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  52:     #22 0x105fb45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  53:     #23 0x105f99e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  54:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  55: 
  56: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  57: Shadow bytes around the buggy address:
  58:   0x1c0400006510: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006520: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  60:   0x1c0400006530: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  61:   0x1c0400006540: fa fa 00 06 fa fa fd fd fa fa 00 00 fa fa fd fd
  62:   0x1c0400006550: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  63: =>0x1c0400006560: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006570: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006590: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000065a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68:   0x1c04000065b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  69: Shadow byte legend (one shadow byte represents 8 application bytes):
  70:   Addressable:           00
  71:   Partially addressable: 01 02 03 04 05 06 07 
  72:   Heap left redzone:       fa
  73:   Freed heap region:       fd
  74:   Stack left redzone:      f1
  75:   Stack mid redzone:       f2
  76:   Stack right redzone:     f3
  77:   Stack after return:      f5
  78:   Stack use after scope:   f8
  79:   Global redzone:          f9
  80:   Global init order:       f6
  81:   Poisoned by user:        f7
  82:   Container overflow:      fc
  83:   Array cookie:            ac
  84:   Intra object redzone:    bb
  85:   ASan internal:           fe
  86:   Left alloca redzone:     ca
  87:   Right alloca redzone:    cb
  88: ==90917==ABORTING
  89: ./lib/main.sh: line 102: 90917 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/001-escape-single-character-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` outside enclosing characters double-quote `"` or signle-quote `'` results in a preserved following character.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==91088==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010e9e6d6c bp 0x7fff51241010 sp 0x7fff51241008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10e9e6d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10e9e835c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10e9e6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ea171ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ea15ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10e9de0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10e9dcb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10e9dd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10e9da2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10e9db607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10e9db8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10e9dd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10e9d85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10e9d8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10e9d95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10e9bee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10ebabffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10ea2949f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10ea2c1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10e9e7b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10e9e815a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10e9e6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ea171ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ea15ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10e9de0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10e9dcb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10e9dd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10e9da2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10e9db607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10e9db8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10e9dd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10e9da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10e9d85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10e9d8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10e9d95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10e9bee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==91088==ABORTING
  88: ./lib/main.sh: line 102: 91088 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/002-escape-single-character-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` outside enclosing characters double-quote `"` or signle-quote `'` results in a preserved following character.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\\TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851\TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==91306==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000108ab6d6c bp 0x7fff57171010 sp 0x7fff57171008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x108ab6d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x108ab835c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108ab6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x108ae71ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108ae5ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x108aae0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108aacb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108aad232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x108aaa2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108aab607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x108aab8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108aad539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x108aa85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108aa8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x108aa95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x108a8ee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x108c7affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x108af949f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x108afc1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108ab7b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x108ab815a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108ab6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x108ae71ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108ae5ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x108aae0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108aacb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108aad232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x108aaa2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108aab607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x108aab8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108aad539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108aaa155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x108aa85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108aa8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x108aa95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x108a8ee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==91306==ABORTING
  88: ./lib/main.sh: line 102: 91306 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/003-escape-single-character-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` outside enclosing characters double-quote `"` or signle-quote `'` results in a preserved following character.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\\\TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851\TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==91468==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010857ad6c bp 0x7fff576ad010 sp 0x7fff576ad008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10857ad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10857c35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10857aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1085ab1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1085a9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1085720e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108570b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108571232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10856e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10856f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10856f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108571539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10856c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10856cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10856d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x108552e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x108743ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1085bd49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1085c01bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10857bb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10857c15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10857aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1085ab1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1085a9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1085720e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108570b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108571232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10856e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10856f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10856f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108571539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10856e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10856c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10856cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10856d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x108552e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==91468==ABORTING
  88: ./lib/main.sh: line 102: 91468 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/004-escape-single-character-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` outside enclosing characters double-quote `"` or signle-quote `'` results in a preserved following character.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\\\\TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851\\TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==91672==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x000104323d6c bp 0x7fff5b904010 sp 0x7fff5b904008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x104323d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10432535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x104323a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1043541ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x104352ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10431b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x104319b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10431a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1043172a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x104318607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1043188c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10431a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1043155c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x104315da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1043165ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1042fbe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x1044ecffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10436649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1043691bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x104324b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10432515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x104323a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1043541ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x104352ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10431b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x104319b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10431a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1043172a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x104318607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1043188c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10431a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x104317155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1043155c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x104315da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1043165ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1042fbe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==91672==ABORTING
  88: ./lib/main.sh: line 102: 91672 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/005-escape-single-character-5[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` outside enclosing characters double-quote `"` or signle-quote `'` results in a preserved following character.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TEST4\041TEST[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TEST4041TEST$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==91894==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x000109395d6c bp 0x7fff56892010 sp 0x7fff56892008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x109395d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10939735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x109395a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1093c61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1093c4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10938d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10938bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10938c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1093892a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10938a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10938a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10938c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1093875c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x109387da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1093885ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10936de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10955cffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1093d849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1093db1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x109396b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10939715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x109395a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1093c61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1093c4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10938d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10938bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10938c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1093892a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10938a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10938a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10938c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x109389155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1093875c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x109387da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1093885ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10936de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==91894==ABORTING
  88: ./lib/main.sh: line 102: 91894 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/brace-expansion/001-it-does-not-expand-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that escaping braces does not result in an expansion process.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout \{1..2} {1\..2} {1.\.2} {1..2\}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^[{]1..2}@[{]1..2}@[{]1..2}@[{]1..2}@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==92064==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030992 at pc 0x00010a943d6c bp 0x7fff552e4010 sp 0x7fff552e4008
  03: READ of size 1 at 0x602000030992 thread T0
  04:     #0 0x10a943d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a94535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a943a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a9741ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a972ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a93b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a939b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a93a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a9372a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a938607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a9388c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a93a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a9355c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a935da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a9365ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a91be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030992 is located 0 bytes to the right of 2-byte region [0x602000030990,0x602000030992)
  28: allocated by thread T0 here:
  29:     #0 0x10ab07ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a98649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a9891bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a944b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a94515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a943a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a9741ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a972ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a93b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a939b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a93a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a9372a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a938607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a9388c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a93a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a937155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a9355c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a935da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a9365ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a91be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000060f0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006100: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006110: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006120: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c0400006130: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==92064==ABORTING
  88: ./lib/main.sh: line 102: 92064 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/brace-expansion/002-it-expands-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using multiple escape characters `\\` results in a good behavior with the brace expansion.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout \\{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^\1@\2@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==92278==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010ba18d6c bp 0x7fff5420f010 sp 0x7fff5420f008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10ba18d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10ba1a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10ba18a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ba491ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ba47ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10ba100e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10ba0eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10ba0f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10ba0c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10ba0d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10ba0d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10ba0f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10ba0a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10ba0ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10ba0b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10b9f0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10c534ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10ba5b49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10ba5e1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10ba19b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10ba1a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10ba18a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ba491ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ba47ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10ba100e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10ba0eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10ba0f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10ba0c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10ba0d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10ba0d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10ba0f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10ba0c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10ba0a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10ba0ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10ba0b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10b9f0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==92278==ABORTING
  88: ./lib/main.sh: line 102: 92278 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/brace-expansion/003-it-expands-braces-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using multiple escape characters `\\` results in a good behavior with the brace expansion.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout \\\{1..2} \\\\{1..2} \\\\\{1..2} \\\\\\{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^\[{]1..2}@\\1@\\2@\\[{]1..2}@\\\1@\\\2@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==92515==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030a52 at pc 0x00010cea2d6c bp 0x7fff52d85010 sp 0x7fff52d85008
  03: READ of size 1 at 0x602000030a52 thread T0
  04:     #0 0x10cea2d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10cea435c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10cea2a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ced31ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ced1ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10ce9a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10ce98b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10ce99232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10ce962a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10ce97607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10ce978c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10ce99539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10ce945c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10ce94da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10ce955ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10ce7ae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030a52 is located 0 bytes to the right of 2-byte region [0x602000030a50,0x602000030a52)
  28: allocated by thread T0 here:
  29:     #0 0x10d06affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10cee549f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10cee81bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10cea3b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10cea415a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10cea2a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ced31ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ced1ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10ce9a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10ce98b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10ce99232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10ce962a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10ce97607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10ce978c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10ce99539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10ce96155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10ce945c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10ce94da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10ce955ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10ce7ae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000060f0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006100: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006110: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006120: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006130: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006140: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==92515==ABORTING
  88: ./lib/main.sh: line 102: 92515 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/bracket-expansion/002-escaped-inversion-mark[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with an inversion mark `!` or `^` as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'b' 'c' 'd' 'e' 'f' '!' '^'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [\!abc]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [\^abc][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `!@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `[\^]@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `b@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `c@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `d@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `e@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `f@`[0m
[31m[1;33m  WARNING    might match_regex `^!@a@b@c@$`[0m
[31m[1;33m  WARNING    might match_regex `^[\^]@a@b@c@$`[0m
[38;5;239m  01: c@b@a@!@
  02: c@b@a@^@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/bracket-expansion/003-it-takes-escaped-bracket-as-pattern-character[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a closing bracket ']' may be escaped in a backet expansion pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'b' 'c' 'd' 'e' 'f' ']'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [abc\]def]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [abc\\\]def]
  03: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [abc\\\\\]def]
  04: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [abc\\\\\\\]def][0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `a@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `b@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `c@` 4 times[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `]@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `d@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `e@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `f@` 4 times[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `def`[0m
[31m[1;33m  WARNING    might match_regex `^]@a@b@c@d@e@f@$`[0m
[38;5;239m  01: [abc]def]@
  02: [abc\]def]@
  03: [abc\\]def]@
  04: [abc\\\]def]@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/variable-expansion/001-escape-variable-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a backslash `\\` before the symbol of variable expansion `$` does not result in variable expansion.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \$TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_VALUE`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==94183==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x000106a04d6c bp 0x7fff59222fd0 sp 0x7fff59222fc8
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x106a04d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x106a0635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x106a04a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x106a351ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x106a33ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1069fc0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1069fab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1069fb232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1069f82a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1069f9607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1069f98c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1069fb539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1069f65c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1069f6da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1069f75ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1069dce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x106bcaffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x106a4749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x106a4a1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x106a05b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x106a0615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x106a04a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x106a351ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x106a33ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1069fc0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1069fab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1069fb232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1069f82a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1069f9607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1069f98c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1069fb539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1069f8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1069f65c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1069f6da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1069f75ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1069dce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==94183==ABORTING
  88: ./lib/main.sh: line 102: 94183 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/variable-expansion/002-it-does-not-escape-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using two backslashes `\\` before the symbol of variable expansion `$` does result in variable expansion.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\$TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_NAME`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_VALUE`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==94432==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000305b2 at pc 0x00010d282d6c bp 0x7fff529a4fd0 sp 0x7fff529a4fc8
  03: READ of size 1 at 0x6020000305b2 thread T0
  04:     #0 0x10d282d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10d28435c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10d282a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10d2b31ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10d2b1ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10d27a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10d278b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10d279232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10d2762a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10d277607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10d2778c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10d279539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10d2745c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10d274da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10d2755ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10d25ae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000305b2 is located 0 bytes to the right of 2-byte region [0x6020000305b0,0x6020000305b2)
  28: allocated by thread T0 here:
  29:     #0 0x10d44dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10d2c549f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10d2c81bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10d283b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10d28415a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10d282a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10d2b31ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10d2b1ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10d27a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10d278b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10d279232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10d2762a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10d277607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10d2778c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10d279539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10d276155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10d2745c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10d274da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10d2755ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10d25ae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006080: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000060a0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==94432==ABORTING
  88: ./lib/main.sh: line 102: 94432 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/variable-expansion/003-escape-variable-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using three backslashes `\\` before the symbol of variable expansion `$` does not result in variable expansion.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\\$TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_VALUE`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==94650==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000305b2 at pc 0x00010affbd6c bp 0x7fff54c2bfd0 sp 0x7fff54c2bfc8
  03: READ of size 1 at 0x6020000305b2 thread T0
  04:     #0 0x10affbd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10affd35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10affba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10b02c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10b02aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10aff30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10aff1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10aff2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10afef2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10aff0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10aff08c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10aff2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10afed5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10afedda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10afee5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10afd3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000305b2 is located 0 bytes to the right of 2-byte region [0x6020000305b0,0x6020000305b2)
  28: allocated by thread T0 here:
  29:     #0 0x10b1c4ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10b03e49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10b0411bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10affcb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10affd15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10affba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10b02c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10b02aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10aff30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10aff1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10aff2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10afef2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10aff0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10aff08c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10aff2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10afef155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10afed5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10afedda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10afee5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10afd3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006080: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000060a0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==94650==ABORTING
  88: ./lib/main.sh: line 102: 94650 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/001-simple-ascending-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {a..e}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^a@b@c@d@e@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==94866==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010de25d6c bp 0x7fff51e02010 sp 0x7fff51e02008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10de25d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10de2735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10de25a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10de561ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10de54ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10de1d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10de1bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10de1c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10de192a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10de1a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10de1a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10de1c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10de175c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10de17da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10de185ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10ddfde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10dfecffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10de6849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10de6b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10de26b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10de2715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10de25a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10de561ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10de54ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10de1d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10de1bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10de1c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10de192a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10de1a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10de1a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10de1c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10de19155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10de175c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10de17da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10de185ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10ddfde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==94866==ABORTING
  88: ./lib/main.sh: line 102: 94866 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/002-simple-ascending-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{a..e}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851aTOKEN201711141851@TOKEN201711141851bTOKEN201711141851@TOKEN201711141851cTOKEN201711141851@TOKEN201711141851dTOKEN201711141851@TOKEN201711141851eTOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==95056==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010f8add6c bp 0x7fff5037a010 sp 0x7fff5037a008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10f8add6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10f8af35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10f8ada1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10f8de1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10f8dcff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10f8a50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10f8a3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10f8a4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10f8a12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10f8a2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10f8a28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10f8a4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10f89f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10f89fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10f8a05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10f885e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10fa76ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10f8f049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10f8f31bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10f8aeb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10f8af15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10f8ada1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10f8de1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10f8dcff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10f8a50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10f8a3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10f8a4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10f8a12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10f8a2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10f8a28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10f8a4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10f8a1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10f89f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10f89fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10f8a05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10f885e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==95056==ABORTING
  88: ./lib/main.sh: line 102: 95056 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/003-simple-ascending-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {A..E}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^A@B@C@D@E@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==95245==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010c96ad6c bp 0x7fff532bd010 sp 0x7fff532bd008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10c96ad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c96c35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c96aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c99b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c999ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c9620e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c960b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c961232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c95e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c95f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c95f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c961539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10c95c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10c95cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10c95d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10c942e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10cb34ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10c9ad49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10c9b01bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10c96bb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10c96c15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10c96aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10c99b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10c999ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10c9620e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10c960b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10c961232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10c95e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10c95f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10c95f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10c961539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10c95e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10c95c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10c95cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10c95d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10c942e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==95245==ABORTING
  88: ./lib/main.sh: line 102: 95245 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/004-simple-descending-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {E..A}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^E@D@C@B@A@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==95443==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x0001048cdd6c bp 0x7fff5b35a010 sp 0x7fff5b35a008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x1048cdd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1048cf35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1048cda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1048fe1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1048fcff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1048c50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1048c3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1048c4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1048c12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1048c2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1048c28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1048c4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1048bf5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1048bfda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1048c05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1048a5e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x104a98ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10491049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1049131bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1048ceb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1048cf15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1048cda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1048fe1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1048fcff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1048c50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1048c3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1048c4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1048c12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1048c2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1048c28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1048c4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1048c1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1048bf5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1048bfda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1048c05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1048a5e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==95443==ABORTING
  88: ./lib/main.sh: line 102: 95443 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/005-simple-descending-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{E..A}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851ETOKEN201711141851@TOKEN201711141851DTOKEN201711141851@TOKEN201711141851CTOKEN201711141851@TOKEN201711141851BTOKEN201711141851@TOKEN201711141851ATOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==95635==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010a617d6c bp 0x7fff55610010 sp 0x7fff55610008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10a617d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a61935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a617a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a6481ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a646ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a60f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a60db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a60e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a60b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a60c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a60c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a60e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a6095c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a609da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a60a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a5efe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10a7e0ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a65a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a65d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a618b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a61915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a617a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a6481ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a646ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a60f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a60db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a60e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a60b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a60c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a60c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a60e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a60b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a6095c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a609da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a60a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a5efe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==95635==ABORTING
  88: ./lib/main.sh: line 102: 95635 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/006-simple-descending-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with an ASCII range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{e..a}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851e@TOKEN201711141851d@TOKEN201711141851c@TOKEN201711141851b@TOKEN201711141851a@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==95842==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010a9d5d6c bp 0x7fff55252010 sp 0x7fff55252008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10a9d5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a9d735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a9d5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10aa061ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10aa04ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a9cd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a9cbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a9cc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a9c92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a9ca607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a9ca8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a9cc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a9c75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a9c7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a9c85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a9ade4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10ab9dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10aa1849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10aa1b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a9d6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a9d715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a9d5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10aa061ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10aa04ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a9cd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a9cbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a9cc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a9c92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a9ca607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a9ca8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a9cc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a9c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a9c75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a9c7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a9c85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a9ade4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==95842==ABORTING
  88: ./lib/main.sh: line 102: 95842 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/007-identical-start-and-end[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a range of single ASCII value.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {f..f}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^f@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==96031==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010283cd6c bp 0x7fff5d3eb010 sp 0x7fff5d3eb008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10283cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10283e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10283ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10286d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10286bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1028340e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x102832b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x102833232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1028302a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x102831607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1028318c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x102833539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10282e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10282eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10282f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x102814e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x102a04ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10287f49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1028821bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10283db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10283e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10283ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10286d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10286bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1028340e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x102832b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x102833232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1028302a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x102831607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1028318c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x102833539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x102830155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10282e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10282eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10282f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x102814e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==96031==ABORTING
  88: ./lib/main.sh: line 102: 96031 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/008-multiple-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with multiple brace patterns.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {a..b}{c..d}{e..f}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^ace@acf@ade@adf@bce@bcf@bde@bdf@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==96239==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010296fd6c bp 0x7fff5d2b8010 sp 0x7fff5d2b8008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10296fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10297135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10296fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1029a01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10299eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1029670e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x102965b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x102966232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1029632a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x102964607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1029648c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x102966539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1029615c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x102961da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1029625ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x102947e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x102b37ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1029b249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1029b51bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x102970b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10297115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10296fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1029a01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10299eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1029670e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x102965b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x102966232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1029632a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x102964607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1029648c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x102966539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x102963155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1029615c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x102961da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1029625ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x102947e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==96239==ABORTING
  88: ./lib/main.sh: line 102: 96239 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/009-multiple-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with multiple brace patterns.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{a..b}abc{Z..X}def{s..s}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851aabcZdefs@TOKEN201711141851aabcYdefs@TOKEN201711141851aabcXdefs@TOKEN201711141851babcZdefs@TOKEN201711141851babcYdefs@TOKEN201711141851babcXdefs@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==96442==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010dd4fd6c bp 0x7fff51ed8010 sp 0x7fff51ed8008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10dd4fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10dd5135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10dd4fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10dd801ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10dd7eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10dd470e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10dd45b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10dd46232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10dd432a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10dd44607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10dd448c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10dd46539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10dd415c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10dd41da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10dd425ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10dd27e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10df1affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10dd9249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10dd951bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10dd50b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10dd5115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10dd4fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10dd801ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10dd7eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10dd470e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10dd45b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10dd46232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10dd432a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10dd44607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10dd448c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10dd46539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10dd43155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10dd415c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10dd41da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10dd425ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10dd27e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==96442==ABORTING
  88: ./lib/main.sh: line 102: 96442 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/010-big-range[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with a big numeric range.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {A..z}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^A@B@C@D@E@F@G@H@I@J@K@L@M@N@O@P@Q@R@S@T@U@V@W@X@Y@Z@.+@.?@.+@.+@_@.+@a@b@c@d@e@f@g@h@i@j@k@l@m@n@o@p@q@r@s@t@u@v@w@x@y@z@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==96631==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010a3e6d6c bp 0x7fff55841010 sp 0x7fff55841008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10a3e6d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a3e835c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a3e6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a4171ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a415ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a3de0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a3dcb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a3dd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a3da2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a3db607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a3db8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a3dd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a3d85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a3d8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a3d95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a3bee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10a5adffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a42949f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a42c1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a3e7b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a3e815a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a3e6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a4171ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a415ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a3de0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a3dcb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a3dd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a3da2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a3db607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a3db8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a3dd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a3da155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a3d85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a3d8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a3d95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a3bee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==96631==ABORTING
  88: ./lib/main.sh: line 102: 96631 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/errors/001-invalid-pattern-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that invalid braces expansion patterns does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout {A}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^{A}$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==96846==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000103e47d6c bp 0x7fff5bde0010 sp 0x7fff5bde0008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x103e47d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x103e4935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103e47a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x103e781ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103e76ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x103e3f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x103e3db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x103e3e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x103e3b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103e3c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x103e3c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x103e3e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x103e395c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x103e39da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x103e3a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x103e1fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x104011ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x103e8a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x103e8d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x103e48b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x103e4915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x103e47a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x103e781ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x103e76ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x103e3f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x103e3db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x103e3e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x103e3b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x103e3c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x103e3c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x103e3e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x103e3b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x103e395c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x103e39da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x103e3a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x103e1fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==96846==ABORTING
  88: ./lib/main.sh: line 102: 96846 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/errors/002-invalid-pattern-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that invalid braces expansion patterns does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout {B..}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^{B..}$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==97046==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010a5bdd6c bp 0x7fff5566a010 sp 0x7fff5566a008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10a5bdd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a5bf35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a5bda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a5ee1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a5ecff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a5b50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a5b3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a5b4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a5b12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a5b2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a5b28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a5b4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a5af5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a5afda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a5b05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a595e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10a788ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a60049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a6031bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a5beb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a5bf15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a5bda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a5ee1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a5ecff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a5b50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a5b3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a5b4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a5b12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a5b2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a5b28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a5b4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a5b1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a5af5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a5afda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a5b05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a595e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==97046==ABORTING
  88: ./lib/main.sh: line 102: 97046 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/errors/003-invalid-pattern-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that invalid braces expansion patterns does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout {..C}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^{..C}$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==97288==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010bf35d6c bp 0x7fff53cf2010 sp 0x7fff53cf2008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10bf35d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10bf3735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10bf35a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10bf661ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10bf64ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10bf2d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10bf2bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10bf2c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10bf292a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10bf2a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10bf2a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10bf2c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10bf275c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10bf27da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10bf285ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10bf0de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10c0feffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10bf7849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10bf7b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10bf36b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10bf3715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10bf35a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10bf661ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10bf64ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10bf2d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10bf2bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10bf2c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10bf292a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10bf2a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10bf2a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10bf2c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10bf29155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10bf275c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10bf27da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10bf285ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10bf0de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==97288==ABORTING
  88: ./lib/main.sh: line 102: 97288 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/errors/004-invalid-pattern-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that invalid braces expansion patterns does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout {Q..C..1}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^{Q..C..1}$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==97463==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010534fd6c bp 0x7fff5a8d8010 sp 0x7fff5a8d8008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10534fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10535135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10534fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1053801ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10537eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1053470e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x105345b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x105346232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1053432a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x105344607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1053448c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x105346539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1053415c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x105341da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1053425ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x105327e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x105518ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10539249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1053951bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x105350b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10535115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10534fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1053801ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10537eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1053470e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x105345b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x105346232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1053432a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x105344607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1053448c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x105346539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x105343155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1053415c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x105341da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1053425ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x105327e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==97463==ABORTING
  88: ./lib/main.sh: line 102: 97463 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/list-of-values/001-nothing-to-be-done[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion is not processed when neither range `..` nor comma `,` tokens is specified.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout {TOKEN201711141851}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `{TOKEN201711141851}`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==97706==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000105dbdd6c bp 0x7fff59e6a010 sp 0x7fff59e6a008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x105dbdd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x105dbf35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x105dbda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x105dee1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x105decff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x105db50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x105db3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x105db4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x105db12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x105db2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x105db28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x105db4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x105daf5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x105dafda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x105db05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x105d95e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x105f87ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x105e0049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x105e031bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x105dbeb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x105dbf15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x105dbda1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x105dee1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x105decff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x105db50e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x105db3b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x105db4232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x105db12a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x105db2607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x105db28c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x105db4539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x105db1155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x105daf5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x105dafda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x105db05ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x105d95e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==97706==ABORTING
  88: ./lib/main.sh: line 102: 97706 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/list-of-values/002-simple-test-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion is processed when at least one comma `,` is encountered.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {TOKEN201711141851_A,TOKEN201711141851_B}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_A@TOKEN201711141851_B@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==97938==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x0001037aad6c bp 0x7fff5c47d010 sp 0x7fff5c47d008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x1037aad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1037ac35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1037aaa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1037db1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1037d9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1037a20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1037a0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1037a1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10379e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10379f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10379f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1037a1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10379c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10379cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10379d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x103782e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x103970ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1037ed49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1037f01bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1037abb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1037ac15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1037aaa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1037db1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1037d9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1037a20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1037a0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1037a1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10379e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10379f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10379f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1037a1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10379e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10379c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10379cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10379d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x103782e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==97938==ABORTING
  88: ./lib/main.sh: line 102: 97938 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/list-of-values/003-simple-test-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion is processed with a list of three patterns.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {TOKEN201711141851_A,TOKEN201711141851_B,TOKEN201711141851_C}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_A@TOKEN201711141851_B@TOKEN201711141851_C@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==98121==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000107813d6c bp 0x7fff58414010 sp 0x7fff58414008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x107813d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10781535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x107813a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1078441ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x107842ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10780b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x107809b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10780a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1078072a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x107808607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1078088c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10780a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1078055c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x107805da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1078065ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1077ebe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x1079dcffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10785649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1078591bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x107814b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10781515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x107813a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1078441ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x107842ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10780b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x107809b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10780a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1078072a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x107808607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1078088c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10780a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x107807155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1078055c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x107805da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1078065ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1077ebe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==98121==ABORTING
  88: ./lib/main.sh: line 102: 98121 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/001-simple-ascending-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {1..5}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^1@2@3@4@5@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==98286==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010aa7fd6c bp 0x7fff551a8010 sp 0x7fff551a8008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10aa7fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10aa8135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10aa7fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10aab01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10aaaeff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10aa770e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10aa75b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10aa76232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10aa732a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10aa74607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10aa748c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10aa76539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10aa715c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10aa71da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10aa725ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10aa57e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10ac44ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10aac249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10aac51bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10aa80b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10aa8115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10aa7fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10aab01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10aaaeff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10aa770e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10aa75b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10aa76232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10aa732a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10aa74607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10aa748c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10aa76539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10aa73155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10aa715c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10aa71da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10aa725ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10aa57e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==98286==ABORTING
  88: ./lib/main.sh: line 102: 98286 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/002-simple-ascending-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{1..5}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN2017111418511TOKEN201711141851@TOKEN2017111418512TOKEN201711141851@TOKEN2017111418513TOKEN201711141851@TOKEN2017111418514TOKEN201711141851@TOKEN2017111418515TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==98501==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010a665d6c bp 0x7fff555c2010 sp 0x7fff555c2008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10a665d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a66735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a665a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a6961ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a694ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a65d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a65bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a65c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a6592a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a65a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a65a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a65c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a6575c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a657da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a6585ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a63de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10a82effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a6a849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a6ab1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a666b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a66715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a665a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a6961ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a694ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a65d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a65bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a65c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a6592a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a65a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a65a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a65c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a659155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a6575c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a657da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a6585ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a63de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==98501==ABORTING
  88: ./lib/main.sh: line 102: 98501 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/003-simple-ascending-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{1..+5}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN2017111418511@TOKEN2017111418512@TOKEN2017111418513@TOKEN2017111418514@TOKEN2017111418515@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==98718==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010a850d6c bp 0x7fff553d7010 sp 0x7fff553d7008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10a850d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a85235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a850a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a8811ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a87fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a8480e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a846b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a847232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a8442a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a845607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a8458c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a847539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a8425c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a842da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a8435ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a828e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10aa18ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a89349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a8961bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a851b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a85215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a850a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a8811ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a87fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a8480e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a846b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a847232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a8442a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a845607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a8458c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a847539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a844155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a8425c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a842da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a8435ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a828e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==98718==ABORTING
  88: ./lib/main.sh: line 102: 98718 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/004-simple-ascending-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {-5..0}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^-5TOKEN201711141851@-4TOKEN201711141851@-3TOKEN201711141851@-2TOKEN201711141851@-1TOKEN201711141851@0TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==98894==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010b9e5d6c bp 0x7fff54242010 sp 0x7fff54242008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10b9e5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10b9e735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10b9e5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ba161ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ba14ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10b9dd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10b9dbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10b9dc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10b9d92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10b9da607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10b9da8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10b9dc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10b9d75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10b9d7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10b9d85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10b9bde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10bbabffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10ba2849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10ba2b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10b9e6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10b9e715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10b9e5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ba161ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ba14ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10b9dd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10b9dbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10b9dc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10b9d92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10b9da607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10b9da8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10b9dc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10b9d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10b9d75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10b9d7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10b9d85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10b9bde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==98894==ABORTING
  88: ./lib/main.sh: line 102: 98894 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/005-simple-ascending-5[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in ascending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {-100..-98}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^-100TOKEN201711141851@-99TOKEN201711141851@-98TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==99056==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000103f5ed6c bp 0x7fff5bcc9010 sp 0x7fff5bcc9008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x103f5ed6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x103f6035c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103f5ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x103f8f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103f8dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x103f560e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x103f54b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x103f55232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x103f522a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103f53607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x103f538c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x103f55539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x103f505c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x103f50da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x103f515ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x103f36e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x104128ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x103fa149f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x103fa41bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x103f5fb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x103f6015a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x103f5ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x103f8f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x103f8dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x103f560e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x103f54b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x103f55232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x103f522a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x103f53607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x103f538c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x103f55539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x103f52155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x103f505c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x103f50da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x103f515ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x103f36e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==99056==ABORTING
  88: ./lib/main.sh: line 102: 99056 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/006-simple-descending-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {5..1}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^5@4@3@2@1@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==99281==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000106e6ed6c bp 0x7fff58db9010 sp 0x7fff58db9008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x106e6ed6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x106e7035c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x106e6ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x106e9f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x106e9dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x106e660e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x106e64b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x106e65232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x106e622a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x106e63607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x106e638c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x106e65539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x106e605c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x106e60da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x106e615ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x106e46e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x107037ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x106eb149f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x106eb41bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x106e6fb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x106e7015a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x106e6ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x106e9f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x106e9dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x106e660e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x106e64b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x106e65232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x106e622a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x106e63607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x106e638c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x106e65539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x106e62155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x106e605c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x106e60da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x106e615ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x106e46e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==99281==ABORTING
  88: ./lib/main.sh: line 102: 99281 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/007-simple-descending-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{5..1}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN2017111418515TOKEN201711141851@TOKEN2017111418514TOKEN201711141851@TOKEN2017111418513TOKEN201711141851@TOKEN2017111418512TOKEN201711141851@TOKEN2017111418511TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==99488==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010a46bd6c bp 0x7fff557bc010 sp 0x7fff557bc008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10a46bd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a46d35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a46ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a49c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a49aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a4630e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a461b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a462232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a45f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a460607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a4608c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a462539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a45d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a45dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a45e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a443e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10a632ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a4ae49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a4b11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a46cb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a46d15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a46ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a49c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a49aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a4630e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a461b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a462232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a45f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a460607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a4608c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a462539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a45f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a45d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a45dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a45e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a443e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==99488==ABORTING
  88: ./lib/main.sh: line 102: 99488 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/008-simple-descending-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{5..+1}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN2017111418515@TOKEN2017111418514@TOKEN2017111418513@TOKEN2017111418512@TOKEN2017111418511@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==99628==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000100e77d6c bp 0x7fff5edb0010 sp 0x7fff5edb0008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x100e77d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x100e7935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x100e77a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x100ea81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x100ea6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x100e6f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x100e6db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x100e6e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x100e6b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x100e6c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x100e6c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x100e6e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x100e695c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x100e69da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x100e6a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x100e4fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x101042ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x100eba49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x100ebd1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x100e78b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x100e7915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x100e77a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x100ea81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x100ea6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x100e6f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x100e6db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x100e6e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x100e6b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x100e6c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x100e6c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x100e6e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x100e6b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x100e695c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x100e69da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x100e6a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x100e4fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==99628==ABORTING
  88: ./lib/main.sh: line 102: 99628 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/009-simple-descending-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {0..-5}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^0TOKEN201711141851@-1TOKEN201711141851@-2TOKEN201711141851@-3TOKEN201711141851@-4TOKEN201711141851@-5TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==99846==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x0001075e5d6c bp 0x7fff58642010 sp 0x7fff58642008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x1075e5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1075e735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1075e5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1076161ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x107614ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1075dd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1075dbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1075dc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1075d92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1075da607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1075da8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1075dc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1075d75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1075d7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1075d85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1075bde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x1077abffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10762849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10762b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1075e6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1075e715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1075e5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1076161ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x107614ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1075dd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1075dbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1075dc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1075d92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1075da607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1075da8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1075dc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1075d9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1075d75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1075d7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1075d85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1075bde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==99846==ABORTING
  88: ./lib/main.sh: line 102: 99846 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/010-simple-descending-5[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a numeric range in descending order.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {-98..-100}TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^-98TOKEN201711141851@-99TOKEN201711141851@-100TOKEN201711141851@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==181==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x00010edd4d6c bp 0x7fff50e53010 sp 0x7fff50e53008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x10edd4d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10edd635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10edd4a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ee051ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ee03ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10edcc0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10edcab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10edcb232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10edc82a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10edc9607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10edc98c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10edcb539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10edc65c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10edc6da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10edc75ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10edace4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10ef98ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10ee1749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10ee1a1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10edd5b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10edd615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10edd4a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ee051ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ee03ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10edcc0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10edcab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10edcb232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10edc82a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10edc9607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10edc98c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10edcb539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10edc8155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10edc65c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10edc6da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10edc75ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10edace4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==181==ABORTING
  88: ./lib/main.sh: line 102:   181 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/011-identical-positive-start-and-end[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a range of single value.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {42..42}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^42@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==362==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x0001081d7d6c bp 0x7fff57a50010 sp 0x7fff57a50008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x1081d7d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1081d935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1081d7a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1082081ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108206ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1081cf0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1081cdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1081ce232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1081cb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1081cc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1081cc8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1081ce539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1081c95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1081c9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1081ca5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1081afe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x1083a2ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10821a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10821d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1081d8b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1081d915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1081d7a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1082081ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108206ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1081cf0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1081cdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1081ce232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1081cb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1081cc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1081cc8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1081ce539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1081cb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1081c95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1081c9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1081ca5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1081afe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==362==ABORTING
  88: ./lib/main.sh: line 102:   362 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/012-identical-negative-start-and-end[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brace expansion does work with a range of single value.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {-42..-42}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^-42@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==560==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000108d8ad6c bp 0x7fff56e9d010 sp 0x7fff56e9d008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x108d8ad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x108d8c35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108d8aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x108dbb1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108db9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x108d820e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108d80b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108d81232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x108d7e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108d7f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x108d7f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108d81539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x108d7c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108d7cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x108d7d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x108d62e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x108f54ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x108dcd49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x108dd01bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108d8bb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x108d8c15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108d8aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x108dbb1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108db9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x108d820e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108d80b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108d81232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x108d7e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108d7f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x108d7f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108d81539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108d7e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x108d7c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108d7cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x108d7d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x108d62e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==560==ABORTING
  88: ./lib/main.sh: line 102:   560 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/013-multiple-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with multiple brace patterns.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {1..2}{3..4}{5..6}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^135@136@145@146@235@236@245@246@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==791==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000102c83d6c bp 0x7fff5cfa4010 sp 0x7fff5cfa4008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x102c83d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x102c8535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x102c83a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x102cb41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x102cb2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x102c7b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x102c79b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x102c7a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x102c772a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x102c78607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x102c788c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x102c7a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x102c755c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x102c75da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x102c765ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x102c5be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x102e49ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x102cc649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x102cc91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x102c84b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x102c8515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x102c83a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x102cb41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x102cb2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x102c7b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x102c79b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x102c7a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x102c772a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x102c78607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x102c788c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x102c7a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x102c77155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x102c755c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x102c75da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x102c765ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x102c5be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==791==ABORTING
  88: ./lib/main.sh: line 102:   791 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/014-multiple-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with multiple brace patterns.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout TOKEN201711141851{1..2}abc{-50..-53}def{0..0}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN2017111418511abc-50def0@TOKEN2017111418511abc-51def0@TOKEN2017111418511abc-52def0@TOKEN2017111418511abc-53def0@TOKEN2017111418512abc-50def0@TOKEN2017111418512abc-51def0@TOKEN2017111418512abc-52def0@TOKEN2017111418512abc-53def0@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==969==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030532 at pc 0x000103354d6c bp 0x7fff5c8d3010 sp 0x7fff5c8d3008
  03: READ of size 1 at 0x602000030532 thread T0
  04:     #0 0x103354d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10335635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103354a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1033851ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103383ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10334c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10334ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10334b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1033482a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103349607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1033498c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10334b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1033465c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x103346da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1033475ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10332ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030532 is located 0 bytes to the right of 2-byte region [0x602000030530,0x602000030532)
  28: allocated by thread T0 here:
  29:     #0 0x10351affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10339749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10339a1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x103355b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10335615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x103354a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1033851ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x103383ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10334c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10334ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10334b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1033482a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x103349607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1033498c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10334b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x103348155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1033465c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x103346da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1033475ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10332ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006090: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==969==ABORTING
  88: ./lib/main.sh: line 102:   969 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/numeric-range/015-big-range[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with a big numeric range.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {-100..100}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^-100@-99@-98@-97@-96@-95@-94@-93@-92@-91@-90@-89@-88@-87@-86@-85@-84@-83@-82@-81@-80@-79@-78@-77@-76@-75@-74@-73@-72@-71@-70@-69@-68@-67@-66@-65@-64@-63@-62@-61@-60@-59@-58@-57@-56@-55@-54@-53@-52@-51@-50@-49@-48@-47@-46@-45@-44@-43@-42@-41@-40@-39@-38@-37@-36@-35@-34@-33@-32@-31@-30@-29@-28@-27@-26@-25@-24@-23@-22@-21@-20@-19@-18@-17@-16@-15@-14@-13@-12@-11@-10@-9@-8@-7@-6@-5@-4@-3@-2@-1@0@1@2@3@4@5@6@7@8@9@10@11@12@13@14@15@16@17@18@19@20@21@22@23@24@25@26@27@28@29@30@31@32@33@34@35@36@37@38@39@40@41@42@43@44@45@46@47@48@49@50@51@52@53@54@55@56@57@58@59@60@61@62@63@64@65@66@67@68@69@70@71@72@73@74@75@76@77@78@79@80@81@82@83@84@85@86@87@88@89@90@91@92@93@94@95@96@97@98@99@100@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==1129==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000103b2ad6c bp 0x7fff5c0fd010 sp 0x7fff5c0fd008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x103b2ad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x103b2c35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103b2aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x103b5b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103b59ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x103b220e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x103b20b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x103b21232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x103b1e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103b1f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x103b1f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x103b21539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x103b1c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x103b1cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x103b1d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x103b02e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x103cf3ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x103b6d49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x103b701bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x103b2bb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x103b2c15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x103b2aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x103b5b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x103b59ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x103b220e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x103b20b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x103b21232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x103b1e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x103b1f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x103b1f8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x103b21539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x103b1e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x103b1c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x103b1cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x103b1d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x103b02e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==1129==ABORTING
  88: ./lib/main.sh: line 102:  1129 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/multi/001-range-and-char[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brackets expansion works with a range and 2 characters as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '1' '2' '3' 'a' 'b' 'z' 'C' '-' '[a-z-2]' 'a-z-2'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [a-z-2][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `-@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `2@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `b@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `z@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `3@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `C@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]a-z-2]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a-z-2@`[0m
[31m[1;33m  WARNING    might match_regex `^-@2@a@b@z@$`[0m
[38;5;239m  01: z@b@a@2@-@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/multi/002-reverse-range-and-chars[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brackets expansion works with 2 patterns.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a4' 'a3' 'a2' 'a42' 'a[42]' 'z4' 'z3' 'z2' 'z42' 'z[42]' '42'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [!a-y][42]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [^a-y][42][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `42@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `z4@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `z2@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `z3@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `z42@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `z[[]42]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a3@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a42@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a[[]42]@`[0m
[31m[1;33m  WARNING    might match_regex `^42@z2@z4@$`[0m
[38;5;239m  01: z4@z2@42@
  02: a4@a2@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/multi/003-reverse-multi-hard[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check how the value inside multiple brackets are parsed with bracket as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '][' 'a[' '1['[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [!]az][[]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [^]az][[][0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `1[[]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `][[]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a[[]@`[0m
[31m[1;33m  WARNING    might match_regex `^1[[]@$`[0m
[38;5;239m  01: [!]az][[]@
  02: [^]az][[]@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/multi/004-simple-bracket+char+range[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to control if 2 patterns splited by a minus characters can be match.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a-0' 'a-1' 'a-2' 'b-0' 'b-1' 'b-2' 'Z-0' 'Z-1' 'Z-2' 'a1' 'Z9' 'D4'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [aZ]-[1-9][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `a-1@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `a-2@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `Z-1@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `Z-2@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a-0@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `b-0@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `b-1@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `b-2@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a1@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `Z9@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `D4@`[0m
[31m[1;33m  WARNING    might match_regex `^Z-1@Z-2@a-1@a-2@$`[0m
[38;5;239m  01: Z-2@Z-1@a-2@a-1@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/not/001-simple-opposit-match[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with the inversion mark `!` or `^`. The expected behavior is the reversion of the following pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' '1' 'Z' 'd' 'e' 'f' 'def'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [!a1Z]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [^a1Z][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `d@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `e@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `f@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `def@`[0m
[31m[1;33m  WARNING    might match_regex `^d@e@f@$`[0m
[38;5;239m  01: f@e@d@
  02: Z@a@1@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/not/002-simple-opposite-range[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with the inversion mark `!` or `^`. The expected behavior is the reversion of the following pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'b' 'c' 'z' '1' '2' '3' '42'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [!a-z]
  02: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [^a-z][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `1@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `2@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `3@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `42@`[0m
[31m[1;33m  WARNING    might match_regex `^1@2@3@$`[0m
[38;5;239m  01: 3@2@1@
  02: z@c@b@a@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/range-pattern/001-alpha-range[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with the following pattern `[a-z]`.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'f' 'z' 'A' '1' '[a-z]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [a-z][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `f@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `z@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `A@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]a-z]@`[0m
[31m[1;33m  WARNING    might match_regex `^a@f@z@$`[0m
[38;5;239m  01: z@f@a@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/range-pattern/002-numeric-range[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with the following pattern `[0-9]`.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '4' '2' '1' '9' 'a' 'C' '[0-9]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [0-9][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `1@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `2@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `4@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `9@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `C@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]0-9]@`[0m
[31m[1;33m  WARNING    might match_regex `^1@2@4@9@$`[0m
[38;5;239m  01: 9@4@2@1@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/range-pattern/003-ascii-range-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if the bracket expansion works with the following pattern []-z].
  One test use the following range which is the default range for bash:
  < > , ; : ! ' " ( ) [ ] { } @ $ \ # % 1 2 3 4 5 6 7 8 9 a A b B c C d D e E f F g G h H i I j J k K l L m M n N o O p P q Q r R s S t T u U v V w W x X y Y z
  The other use the ascii value, which does make more sense.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '2' 'a' 'B' 'c' 'Z' '[' ']' '[]-z]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout []-z][0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `a@`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `c@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `2@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `B@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `Z@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]@`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `[[]]-z]@`[0m
[31m[1;33m  WARNING    might match_regex `^]@a@c@$`[0m
[38;5;239m  01: []-z]@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/range-pattern/004-ascii-range-2[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with the following pattern `[1-z]`.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '2' 'a' 'B' 'c' 'Z' ']' '[' '[1-z]' '1-z' '-'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [1-z][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `2@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `B@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `c@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `Z@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `]@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `[[]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `-@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1-z@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]1-z]@`[0m
[31m[1;33m  WARNING    might match_regex `^2@B@Z@[[]@]@a@c@$`[0m
[38;5;239m  01: Z@c@B@a@]@[@2@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/simple-pattern/001-simple-list[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with a simple list of characters as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'b' 'c' 'd' 'e' 'f' '[bca]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [bca][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `b@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `c@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `d@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `e@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `f@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]bca]@`[0m
[31m[1;33m  WARNING    might match_regex `^a@b@c@$`[0m
[38;5;239m  01: c@b@a@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/simple-pattern/003-brackets-as-pattern[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with an opening bracket `[` and a closing bracket `]` as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch '[' ']' 'a' 'Z' '[][]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [][][0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[[]@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `a@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `Z@`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `[[]][[]]@`[0m
[31m[1;33m  WARNING    might match_regex `^[[]@]@$`[0m
[38;5;239m  01: [][]@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/simple-pattern/004-multi-bracket-multi-char[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to match a file name which contain a bracket as first character.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 21 23 24 25 26 27 28 29 ']' '[' '[12][34]' '1234'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout [12][34][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `13@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `14@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `23@`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `24@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `0[0-9]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1[0-2]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1[5-9]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `2[0-2]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `2[5-9]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `[[]12][[]34]@`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `1234@`[0m
[31m[1;33m  WARNING    might match_regex `^13@14@23@24@$`[0m
[38;5;239m  01: 24@23@14@13@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/bracket-expansion/single-char-pattern/002-closing-bracket-char[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the brackets expansion works with a closing bracket `]` as pattern.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch ']' '[]]'[0m

  STDIN:
[38;5;239m  01: /Users/ade-sede/42ShellTester/tmp/write_all_arguments_on_stdout []][0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `]@`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `[[]]]@`[0m
[31m[1;33m  WARNING    might match_regex `^]@$`[0m
[38;5;239m  01: []]@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/001-declare-and-expand-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring and expanding a local variable does work.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE
  02: ./write_on_stdout_and_stderr $TOKEN201711141851_NAME $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE$`[0m
[38;5;239m  01: =================================================================
  02: ==5895==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030e92 at pc 0x000104480d6c bp 0x7fff5b7a7010 sp 0x7fff5b7a7008
  03: READ of size 1 at 0x602000030e92 thread T0
  04:     #0 0x104480d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10448235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x104480a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1044b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1044afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1044780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x104476b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x104477232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1044742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x104475607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x104475944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x104477539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1044725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x104472da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1044735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x104458e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030e92 is located 0 bytes to the right of 2-byte region [0x602000030e90,0x602000030e92)
  28: allocated by thread T0 here:
  29:     #0 0x10492dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1044c349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1044c61bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x104481b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10448215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x104480a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1044b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1044afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1044780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x104476b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x104477232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1044742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x104475607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x104475944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x104477539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x104474155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1044725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x104472da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1044735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x104458e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006180: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  58:   0x1c0400006190: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c04000061a0: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c04000061b0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000061c0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000061d0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006210: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006220: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==5895==ABORTING
  88: ./lib/main.sh: line 102:  5895 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/002-declare-and-expand-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that an empty variable is not expanded as an empty string and results in any new argument in the command line.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=
  02: ./write_on_stdout_and_stderr $TOKEN201711141851_NAME $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `write on stdout`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `write on stderr`[0m
[38;5;239m  01: =================================================================
  02: ==6101==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030dd2 at pc 0x00010e409d6c bp 0x7fff5181e010 sp 0x7fff5181e008
  03: READ of size 1 at 0x602000030dd2 thread T0
  04:     #0 0x10e409d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10e40b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10e409a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10e43a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10e438ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10e4010e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10e3ffb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10e400232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10e3fd2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10e3fe607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10e3fe944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10e400539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10e3fb5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10e3fbda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10e3fc5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10e3e1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030dd2 is located 0 bytes to the right of 2-byte region [0x602000030dd0,0x602000030dd2)
  28: allocated by thread T0 here:
  29:     #0 0x10e5d3ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10e44c49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10e44f1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10e40ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10e40b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10e409a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10e43a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10e438ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10e4010e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10e3ffb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10e400232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10e3fd2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10e3fe607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10e3fe944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10e400539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10e3fd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10e3fb5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10e3fbda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10e3fc5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10e3e1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006160: fa fa fd fa fa fa fd fa fa fa 01 fa fa fa fd fd
  58:   0x1c0400006170: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  59:   0x1c0400006180: fa fa 01 fa fa fa fd fd fa fa 00 00 fa fa fd fa
  60:   0x1c0400006190: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c04000061a0: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000061b0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==6101==ABORTING
  88: ./lib/main.sh: line 102:  6101 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/003-unknown-variable-does-not-result-in-new-argument[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that an unknown variable is not expanded as an empty string and results in any new argument in the command line.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711141851_UNKNOWN"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout $TOKEN201711141851_UNKNOWN TOKEN201711141851_DISPLAYED[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_DISPLAYED`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==6325==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030672 at pc 0x00010fb20d6c bp 0x7fff50107010 sp 0x7fff50107008
  03: READ of size 1 at 0x602000030672 thread T0
  04:     #0 0x10fb20d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10fb2235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10fb20a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10fb511ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10fb4fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10fb180e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10fb16b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10fb17232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10fb142a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10fb15607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10fb158c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10fb17539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10fb125c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10fb12da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10fb135ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10faf8e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030672 is located 0 bytes to the right of 2-byte region [0x602000030670,0x602000030672)
  28: allocated by thread T0 here:
  29:     #0 0x10fce7ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10fb6349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10fb661bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10fb21b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10fb2215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10fb20a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10fb511ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10fb4fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10fb180e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10fb16b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10fb17232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10fb142a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10fb15607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10fb158c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10fb17539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10fb14155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10fb125c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10fb12da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10fb135ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10faf8e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000060b0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060c0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==6325==ABORTING
  88: ./lib/main.sh: line 102:  6325 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/004-existing-variable-in-environment-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is initialize a local variable named as an environment variable and check if it's update the existing environment variable.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE_OLD"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE_NEW
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE_NEW$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE_OLD$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==6518==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030c92 at pc 0x00010661cd6c bp 0x7fff5960afd0 sp 0x7fff5960afc8
  03: READ of size 1 at 0x602000030c92 thread T0
  04:     #0 0x10661cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10661e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10661ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10664d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10664bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1066140e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x106612b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x106613232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1066102a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x106611607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x106611944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x106613539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10660e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10660eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10660f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1065f4e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030c92 is located 0 bytes to the right of 2-byte region [0x602000030c90,0x602000030c92)
  28: allocated by thread T0 here:
  29:     #0 0x1067e0ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10665f49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1066621bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10661db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10661e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10661ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10664d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10664bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1066140e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x106612b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x106613232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1066102a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x106611607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x106611944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x106613539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x106610155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10660e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10660eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10660f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1065f4e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006140: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  58:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  59:   0x1c0400006160: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 06
  60:   0x1c0400006170: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006180: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c0400006190: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==6518==ABORTING
  88: ./lib/main.sh: line 102:  6518 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/005-existing-variable-in-environment-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is initialize a local variable named as an environment variable and check if it's update the existing environment variable.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==6716==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030bd2 at pc 0x000106bb8d6c bp 0x7fff5906efd0 sp 0x7fff5906efc8
  03: READ of size 1 at 0x602000030bd2 thread T0
  04:     #0 0x106bb8d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x106bba35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x106bb8a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x106be91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x106be7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x106bb00e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x106baeb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x106baf232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x106bac2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x106bad607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x106bad944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x106baf539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x106baa5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x106baada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x106bab5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x106b90e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030bd2 is located 0 bytes to the right of 2-byte region [0x602000030bd0,0x602000030bd2)
  28: allocated by thread T0 here:
  29:     #0 0x106d7effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x106bfb49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x106bfe1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x106bb9b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x106bba15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x106bb8a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x106be91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x106be7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x106bb00e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x106baeb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x106baf232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x106bac2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x106bad607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x106bad944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x106baf539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x106bac155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x106baa5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x106baada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x106bab5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x106b90e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006120: fa fa fd fa fa fa 01 fa fa fa fd fd fa fa 00 00
  58:   0x1c0400006130: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 01 fa
  59:   0x1c0400006140: fa fa fd fd fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006150: fa fa fd fa fa fa 00 06 fa fa fd fd fa fa 00 00
  61:   0x1c0400006160: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006170: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==6716==ABORTING
  88: ./lib/main.sh: line 102:  6716 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/006-existing-variable-in-environment-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that variable expansion takes the environment variables into account.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==6921==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x00010225fd6c bp 0x7fff5d9c7fd0 sp 0x7fff5d9c7fc8
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x10225fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10226135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10225fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1022901ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10228eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1022570e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x102255b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x102256232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1022532a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x102254607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1022548c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x102256539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1022515c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x102251da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1022525ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x102237e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x10242affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1022a249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1022a51bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x102260b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10226115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10225fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1022901ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10228eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1022570e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x102255b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x102256232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1022532a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x102254607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1022548c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x102256539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x102253155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1022515c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x102251da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1022525ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x102237e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==6921==ABORTING
  88: ./lib/main.sh: line 102:  6921 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/007-multiple-declaration-at-a-time[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring multiple variables in the same command line does work.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME1=TOKEN201711141851_VALUE1 TOKEN201711141851_NAME2=TOKEN201711141851_VALUE2 TOKEN201711141851_NAME3=TOKEN201711141851_VALUE3
  02: ./write_on_stdout_and_stderr $TOKEN201711141851_NAME1 $TOKEN201711141851_NAME1
  03: ./write_on_stdout $TOKEN201711141851_NAME2
  04: ./write_on_stderr $TOKEN201711141851_NAME3[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE1$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE2$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_VALUE3$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE1$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_VALUE2$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE3$`[0m
[38;5;239m  01: =================================================================
  02: ==7143==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032352 at pc 0x00010f429d6c bp 0x7fff507fdeb0 sp 0x7fff507fdea8
  03: READ of size 1 at 0x602000032352 thread T0
  04:     #0 0x10f429d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10f42b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10f429a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10f45a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10f458ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10f4210e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10f41fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10f420232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10f41d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10f41e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10f41e944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10f41e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  20:     #16 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10f41e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  22:     #18 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x10f420539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  24:     #20 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x10f41b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  26:     #22 0x10f41bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  27:     #23 0x10f41c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  28:     #24 0x10f401e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  29:     #25 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  30: 
  31: 0x602000032352 is located 0 bytes to the right of 2-byte region [0x602000032350,0x602000032352)
  32: allocated by thread T0 here:
  33:     #0 0x10f5f1ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  34:     #1 0x10f46c49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  35:     #2 0x10f46f1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  36:     #3 0x10f42ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  37:     #4 0x10f42b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  38:     #5 0x10f429a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  39:     #6 0x10f45a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  40:     #7 0x10f458ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  41:     #8 0x10f4210e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  42:     #9 0x10f41fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  43:     #10 0x10f420232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  44:     #11 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #12 0x10f41d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  46:     #13 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #14 0x10f41e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  48:     #15 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #16 0x10f41e944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  50:     #17 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  51:     #18 0x10f41e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  52:     #19 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  53:     #20 0x10f41e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  54:     #21 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  55:     #22 0x10f420539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  56:     #23 0x10f41d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  57:     #24 0x10f41b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  58:     #25 0x10f41bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  59:     #26 0x10f41c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  60:     #27 0x10f401e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  61:     #28 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  62: 
  63: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  64: Shadow bytes around the buggy address:
  65:   0x1c0400006410: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  66:   0x1c0400006420: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  67:   0x1c0400006430: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  68:   0x1c0400006440: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  69:   0x1c0400006450: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  70: =>0x1c0400006460: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  71:   0x1c0400006470: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  72:   0x1c0400006480: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  73:   0x1c0400006490: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  74:   0x1c04000064a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  75:   0x1c04000064b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  76: Shadow byte legend (one shadow byte represents 8 application bytes):
  77:   Addressable:           00
  78:   Partially addressable: 01 02 03 04 05 06 07 
  79:   Heap left redzone:       fa
  80:   Freed heap region:       fd
  81:   Stack left redzone:      f1
  82:   Stack mid redzone:       f2
  83:   Stack right redzone:     f3
  84:   Stack after return:      f5
  85:   Stack use after scope:   f8
  86:   Global redzone:          f9
  87:   Global init order:       f6
  88:   Poisoned by user:        f7
  89:   Container overflow:      fc
  90:   Array cookie:            ac
  91:   Intra object redzone:    bb
  92:   ASan internal:           fe
  93:   Left alloca redzone:     ca
  94:   Right alloca redzone:    cb
  95: ==7143==ABORTING
  96: ./lib/main.sh: line 102:  7143 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/008-multiple-declaration-with-same-name[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring the same variable several times in the same command line does work and does not result in error.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE1 TOKEN201711141851_NAME=TOKEN201711141851_VALUE2 TOKEN201711141851_NAME=TOKEN201711141851_VALUE3
  02: ./write_on_stdout $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_VALUE1$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851_VALUE2$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE3$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==7369==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031412 at pc 0x000100127d6c bp 0x7fff5fb00010 sp 0x7fff5fb00008
  03: READ of size 1 at 0x602000031412 thread T0
  04:     #0 0x100127d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10012935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x100127a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1001581ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x100156ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10011f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10011db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10011e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10011b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10011c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10011c944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10011e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1001195c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x100119da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10011a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1000ffe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031412 is located 0 bytes to the right of 2-byte region [0x602000031410,0x602000031412)
  28: allocated by thread T0 here:
  29:     #0 0x1008a6ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10016a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10016d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x100128b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10012915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x100127a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1001581ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x100156ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10011f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10011db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10011e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10011b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10011c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10011c944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10011e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10011b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1001195c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x100119da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10011a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1000ffe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006230: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  58:   0x1c0400006240: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006250: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006260: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006270: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c0400006280: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006290: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000062c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000062d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==7369==ABORTING
  88: ./lib/main.sh: line 102:  7369 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/009-last-exit-status[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the special variable `$?` may be expanded with the last exit status.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 42
  02: ./write_on_stderr $?[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^42$`[0m
[38;5;239m  01: =================================================================
  02: ==7567==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030c72 at pc 0x000108079d6c bp 0x7fff57badf50 sp 0x7fff57badf48
  03: READ of size 1 at 0x602000030c72 thread T0
  04:     #0 0x108079d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10807b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108079a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1080aa1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1080a8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1080710e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10806fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108070232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10806d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10806e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10806e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10806e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  20:     #16 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x108070539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  22:     #18 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x10806b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  24:     #20 0x10806bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  25:     #21 0x10806c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  26:     #22 0x108051e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  27:     #23 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  28: 
  29: 0x602000030c72 is located 0 bytes to the right of 2-byte region [0x602000030c70,0x602000030c72)
  30: allocated by thread T0 here:
  31:     #0 0x108241ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  32:     #1 0x1080bc49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  33:     #2 0x1080bf1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  34:     #3 0x10807ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  35:     #4 0x10807b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  36:     #5 0x108079a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  37:     #6 0x1080aa1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  38:     #7 0x1080a8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  39:     #8 0x1080710e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  40:     #9 0x10806fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  41:     #10 0x108070232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  42:     #11 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #12 0x10806d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  44:     #13 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #14 0x10806e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  46:     #15 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #16 0x10806e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  48:     #17 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #18 0x10806e903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  50:     #19 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  51:     #20 0x108070539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  52:     #21 0x10806d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  53:     #22 0x10806b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  54:     #23 0x10806bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  55:     #24 0x10806c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  56:     #25 0x108051e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  57:     #26 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  58: 
  59: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  60: Shadow bytes around the buggy address:
  61:   0x1c0400006130: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  62:   0x1c0400006140: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  63:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  64:   0x1c0400006160: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  65:   0x1c0400006170: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  66: =>0x1c0400006180: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  67:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  69:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  70:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  71:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  72: Shadow byte legend (one shadow byte represents 8 application bytes):
  73:   Addressable:           00
  74:   Partially addressable: 01 02 03 04 05 06 07 
  75:   Heap left redzone:       fa
  76:   Freed heap region:       fd
  77:   Stack left redzone:      f1
  78:   Stack mid redzone:       f2
  79:   Stack right redzone:     f3
  80:   Stack after return:      f5
  81:   Stack use after scope:   f8
  82:   Global redzone:          f9
  83:   Global init order:       f6
  84:   Poisoned by user:        f7
  85:   Container overflow:      fc
  86:   Array cookie:            ac
  87:   Intra object redzone:    bb
  88:   ASan internal:           fe
  89:   Left alloca redzone:     ca
  90:   Right alloca redzone:    cb
  91: ==7567==ABORTING
  92: ./lib/main.sh: line 102:  7567 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/inline-environment-variable/001-local-variable-shouldnt-be-set[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary does not result in local variable declaration but a modified environment for the command.[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_VALUE ./display_env
  02: ./write_on_stderr $TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_VALUE`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `write on stderr`[0m
[38;5;239m  01: =================================================================
  02: ==7759==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030c72 at pc 0x00010e70bd6c bp 0x7fff5151bf50 sp 0x7fff5151bf48
  03: READ of size 1 at 0x602000030c72 thread T0
  04:     #0 0x10e70bd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10e70d35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10e70ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10e73c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10e73aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10e7030e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10e701b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10e702232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10e6ff2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10e700607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10e7008c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10e700903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  20:     #16 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10e702539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  22:     #18 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x10e6fd5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  24:     #20 0x10e6fdda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  25:     #21 0x10e6fe5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  26:     #22 0x10e6e3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  27:     #23 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  28: 
  29: 0x602000030c72 is located 0 bytes to the right of 2-byte region [0x602000030c70,0x602000030c72)
  30: allocated by thread T0 here:
  31:     #0 0x10e8d4ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  32:     #1 0x10e74e49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  33:     #2 0x10e7511bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  34:     #3 0x10e70cb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  35:     #4 0x10e70d15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  36:     #5 0x10e70ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  37:     #6 0x10e73c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  38:     #7 0x10e73aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  39:     #8 0x10e7030e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  40:     #9 0x10e701b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  41:     #10 0x10e702232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  42:     #11 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #12 0x10e6ff2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  44:     #13 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #14 0x10e700607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  46:     #15 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #16 0x10e7008c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  48:     #17 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #18 0x10e700903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  50:     #19 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  51:     #20 0x10e702539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  52:     #21 0x10e6ff155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  53:     #22 0x10e6fd5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  54:     #23 0x10e6fdda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  55:     #24 0x10e6fe5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  56:     #25 0x10e6e3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  57:     #26 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  58: 
  59: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  60: Shadow bytes around the buggy address:
  61:   0x1c0400006130: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  62:   0x1c0400006140: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  63:   0x1c0400006150: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  64:   0x1c0400006160: fa fa fd fa fa fa fd fa fa fa 00 06 fa fa fd fd
  65:   0x1c0400006170: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  66: =>0x1c0400006180: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  67:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  69:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  70:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  71:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  72: Shadow byte legend (one shadow byte represents 8 application bytes):
  73:   Addressable:           00
  74:   Partially addressable: 01 02 03 04 05 06 07 
  75:   Heap left redzone:       fa
  76:   Freed heap region:       fd
  77:   Stack left redzone:      f1
  78:   Stack mid redzone:       f2
  79:   Stack right redzone:     f3
  80:   Stack after return:      f5
  81:   Stack use after scope:   f8
  82:   Global redzone:          f9
  83:   Global init order:       f6
  84:   Poisoned by user:        f7
  85:   Container overflow:      fc
  86:   Array cookie:            ac
  87:   Intra object redzone:    bb
  88:   ASan internal:           fe
  89:   Left alloca redzone:     ca
  90:   Right alloca redzone:    cb
  91: ==7759==ABORTING
  92: ./lib/main.sh: line 102:  7759 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/001-truncating[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711141851_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_FILENAME
  02: ./write_on_stdout TOKEN201711141851_VALUE > $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==7978==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031072 at pc 0x00010daa3d6c bp 0x7fff52184010 sp 0x7fff52184008
  03: READ of size 1 at 0x602000031072 thread T0
  04:     #0 0x10daa3d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10daa535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10daa3a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10dad41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10dad2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10da9b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10da99b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10da9a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10da972a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10da98607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10da98944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10da9a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10da955c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10da95da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10da965ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10da7be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031072 is located 0 bytes to the right of 2-byte region [0x602000031070,0x602000031072)
  28: allocated by thread T0 here:
  29:     #0 0x10dc6cffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10dae649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10dae91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10daa4b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10daa515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10daa3a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10dad41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10dad2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10da9b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10da99b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10da9a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10da972a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10da98607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10da98944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10da9a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10da97155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10da955c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10da95da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10da965ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10da7be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000061b0: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  58:   0x1c04000061c0: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  59:   0x1c04000061d0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c04000061e0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000061f0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c0400006200: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c0400006210: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006220: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006230: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006240: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006250: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==7978==ABORTING
  88: ./lib/main.sh: line 102:  7978 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711141851_FILENAME` matching_regex `^TOKEN201711141851_VALUE$`[0m
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/002-appending[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711141851_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_FILENAME
  02: ./write_on_stdout TOKEN201711141851_VALUE1 >> $TOKEN201711141851_NAME
  03: ./write_on_stdout TOKEN201711141851_VALUE2 >> $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==8205==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031ad2 at pc 0x000103bd6d6c bp 0x7fff5c050f50 sp 0x7fff5c050f48
  03: READ of size 1 at 0x602000031ad2 thread T0
  04:     #0 0x103bd6d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x103bd835c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103bd6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x103c071ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103c05ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x103bce0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x103bccb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x103bcd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x103bca2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103bcb607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x103bcb944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x103bcb903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  20:     #16 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x103bcd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  22:     #18 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x103bc85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  24:     #20 0x103bc8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  25:     #21 0x103bc95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  26:     #22 0x103baee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  27:     #23 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  28: 
  29: 0x602000031ad2 is located 0 bytes to the right of 2-byte region [0x602000031ad0,0x602000031ad2)
  30: allocated by thread T0 here:
  31:     #0 0x103d9dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  32:     #1 0x103c1949f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  33:     #2 0x103c1c1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  34:     #3 0x103bd7b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  35:     #4 0x103bd815a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  36:     #5 0x103bd6a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  37:     #6 0x103c071ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  38:     #7 0x103c05ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  39:     #8 0x103bce0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  40:     #9 0x103bccb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  41:     #10 0x103bcd232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  42:     #11 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #12 0x103bca2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  44:     #13 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #14 0x103bcb607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  46:     #15 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #16 0x103bcb944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  48:     #17 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #18 0x103bcb903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  50:     #19 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  51:     #20 0x103bcd539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  52:     #21 0x103bca155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  53:     #22 0x103bc85c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  54:     #23 0x103bc8da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  55:     #24 0x103bc95ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  56:     #25 0x103baee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  57:     #26 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  58: 
  59: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  60: Shadow bytes around the buggy address:
  61:   0x1c0400006300: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  62:   0x1c0400006310: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  63:   0x1c0400006320: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  64:   0x1c0400006330: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  65:   0x1c0400006340: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  66: =>0x1c0400006350: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  67:   0x1c0400006360: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68:   0x1c0400006370: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  69:   0x1c0400006380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  70:   0x1c0400006390: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  71:   0x1c04000063a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  72: Shadow byte legend (one shadow byte represents 8 application bytes):
  73:   Addressable:           00
  74:   Partially addressable: 01 02 03 04 05 06 07 
  75:   Heap left redzone:       fa
  76:   Freed heap region:       fd
  77:   Stack left redzone:      f1
  78:   Stack mid redzone:       f2
  79:   Stack right redzone:     f3
  80:   Stack after return:      f5
  81:   Stack use after scope:   f8
  82:   Global redzone:          f9
  83:   Global init order:       f6
  84:   Poisoned by user:        f7
  85:   Container overflow:      fc
  86:   Array cookie:            ac
  87:   Intra object redzone:    bb
  88:   ASan internal:           fe
  89:   Left alloca redzone:     ca
  90:   Right alloca redzone:    cb
  91: ==8205==ABORTING
  92: ./lib/main.sh: line 102:  8205 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711141851_FILENAME` matching_regex `^TOKEN201711141851_VALUE1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711141851_FILENAME` matching_regex `^TOKEN201711141851_VALUE2$`[0m
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/003-reading[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711141851_FILENAME"
  02: echo "TOKEN201711141851_VALUE" > "TOKEN201711141851_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851_NAME=TOKEN201711141851_FILENAME
  02: ./read_on_stdin < $TOKEN201711141851_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_VALUE@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==8445==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030f92 at pc 0x000108630d6c bp 0x7fff575f7010 sp 0x7fff575f7008
  03: READ of size 1 at 0x602000030f92 thread T0
  04:     #0 0x108630d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10863235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108630a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1086611ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10865fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1086280e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108626b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108627232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1086242a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108625607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x108625944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108627539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1086225c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108622da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1086235ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x108608e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030f92 is located 0 bytes to the right of 2-byte region [0x602000030f90,0x602000030f92)
  28: allocated by thread T0 here:
  29:     #0 0x1087f7ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10867349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1086761bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108631b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10863215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108630a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1086611ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10865fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1086280e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108626b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108627232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1086242a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108625607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x108625944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108627539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108624155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1086225c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108622da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1086235ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x108608e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000061a0: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  58:   0x1c04000061b0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  59:   0x1c04000061c0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 00
  60:   0x1c04000061d0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000061e0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000061f0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006210: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006220: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006230: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006240: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==8445==ABORTING
  88: ./lib/main.sh: line 102:  8445 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/tilde-expansion/001-process-tilde-expansion[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the tilde expansion `~` in variable declaration.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: TOKEN201711141851=~
  02: ./write_on_stdout TILDE:$TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TILDE:~`[0m
[31m[1;33m  WARNING    might match_regex `TILDE:/TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==8656==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030d12 at pc 0x000108834d6c bp 0x7fff573f3010 sp 0x7fff573f3008
  03: READ of size 1 at 0x602000030d12 thread T0
  04:     #0 0x108834d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10883635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108834a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1088651ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108863ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10882c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10882ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10882b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1088282a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108829607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x108829944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10882b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1088265c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108826da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1088275ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10880ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030d12 is located 0 bytes to the right of 2-byte region [0x602000030d10,0x602000030d12)
  28: allocated by thread T0 here:
  29:     #0 0x1089f8ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10887749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10887a1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108835b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10883615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108834a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1088651ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108863ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10882c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10882ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10882b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1088282a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108829607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x108829944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10882b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108828155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1088265c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108826da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1088275ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10880ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006150: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 02 fa
  58:   0x1c0400006160: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa 02 fa
  59:   0x1c0400006170: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006180: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006190: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000061a0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==8656==ABORTING
  88: ./lib/main.sh: line 102:  8656 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/001-it-works[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the symbol double quote `"` does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "SIMPLE TEXT WITH SPACES"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `SIMPLE TEXT WITH SPACES`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==9030==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x000101ec7d6c bp 0x7fff5dd60010 sp 0x7fff5dd60008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x101ec7d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x101ec935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x101ec7a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x101ef81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x101ef6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x101ebf0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x101ebdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x101ebe232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x101ebb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x101ebc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x101ebc8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x101ebe539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x101eb95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x101eb9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x101eba5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x101e9fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x102090ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x101f0a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x101f0d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x101ec8b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x101ec915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x101ec7a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x101ef81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x101ef6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x101ebf0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x101ebdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x101ebe232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x101ebb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x101ebc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x101ebc8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x101ebe539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x101ebb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x101eb95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x101eb9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x101eba5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x101e9fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==9030==ABORTING
  88: ./lib/main.sh: line 102:  9030 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/002-concatenated-strings[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a mixed argument with multiple inhibited parts is considered as a single argument.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr A"B"CDEF"GHIJ""KLMNO" "P"QRS"T""U""V"WXYZ[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `ABCDEFGHIJKLMNO`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `PQRSTUVWXYZ`[0m
[38;5;239m  01: =================================================================
  02: ==9225==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030732 at pc 0x00010e373d6c bp 0x7fff518b4010 sp 0x7fff518b4008
  03: READ of size 1 at 0x602000030732 thread T0
  04:     #0 0x10e373d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10e37535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10e373a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10e3a41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10e3a2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10e36b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10e369b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10e36a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10e3672a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10e368607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10e3688c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10e36a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10e3655c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10e365da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10e3665ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10e34be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030732 is located 0 bytes to the right of 2-byte region [0x602000030730,0x602000030732)
  28: allocated by thread T0 here:
  29:     #0 0x10e537ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10e3b649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10e3b91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10e374b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10e37515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10e373a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10e3a41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10e3a2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10e36b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10e369b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10e36a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10e3672a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10e368607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10e3688c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10e36a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10e367155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10e3655c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10e365da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10e3665ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10e34be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000060a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000060b0: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c04000060c0: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000060d0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060e0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==9225==ABORTING
  88: ./lib/main.sh: line 102:  9225 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/003-first-argument-inhibited[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the shell implementation has no special case for the first argument.[0m

  STDIN:
[38;5;239m  01: "./write_on_stdout_and_stderr" TOKEN201711141851_STDOUT TOKEN201711141851_STDERR[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_STDOUT`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_STDERR`[0m
[38;5;239m  01: =================================================================
  02: ==9443==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030672 at pc 0x00010c578d6c bp 0x7fff536af010 sp 0x7fff536af008
  03: READ of size 1 at 0x602000030672 thread T0
  04:     #0 0x10c578d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c57a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c578a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c5a91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c5a7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c5700e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c56eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c56f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c56c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c56d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c56d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c56f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10c56a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10c56ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10c56b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10c550e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030672 is located 0 bytes to the right of 2-byte region [0x602000030670,0x602000030672)
  28: allocated by thread T0 here:
  29:     #0 0x10c73cffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10c5bb49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10c5be1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10c579b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10c57a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10c578a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10c5a91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10c5a7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10c5700e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10c56eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10c56f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10c56c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10c56d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10c56d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10c56f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10c56c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10c56a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10c56ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10c56b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10c550e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000060b0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060c0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==9443==ABORTING
  88: ./lib/main.sh: line 102:  9443 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/004-multiline-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "
  02: TOKEN201711141851_FIRST
  03: TOKEN201711141851_SECOND
  04: TOKEN201711141851_THIRD
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_SECOND$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_THIRD$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==9628==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030b52 at pc 0x00010492cd6c bp 0x7fff5b2fb010 sp 0x7fff5b2fb008
  03: READ of size 1 at 0x602000030b52 thread T0
  04:     #0 0x10492cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10492e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10492ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10495d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10495bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1049240e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x104922b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x104923232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1049202a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x104921607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1049218c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x104923539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10491e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10491eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10491f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x104904e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030b52 is located 0 bytes to the right of 2-byte region [0x602000030b50,0x602000030b52)
  28: allocated by thread T0 here:
  29:     #0 0x104af2ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10496f49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1049721bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10492db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10492e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10492ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10495d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10495bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1049240e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x104922b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x104923232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1049202a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x104921607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1049218c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x104923539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x104920155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10491e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10491eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10491f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x104904e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006110: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006120: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006130: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006140: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006160: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==9628==ABORTING
  88: ./lib/main.sh: line 102:  9628 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/005-multiline-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr "
  02: "TOKEN201711141851"_FIRST
  03: TOKEN201711141851_SECOND" "TOKEN201711141851_THIRD
  04: TOKEN201711141851_FOU"RT"H
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_SECOND$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_THIRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FOURTH$`[0m
[38;5;239m  01: =================================================================
  02: ==9852==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030cd2 at pc 0x000101ee0d6c bp 0x7fff5dd47010 sp 0x7fff5dd47008
  03: READ of size 1 at 0x602000030cd2 thread T0
  04:     #0 0x101ee0d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x101ee235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x101ee0a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x101f111ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x101f0fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x101ed80e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x101ed6b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x101ed7232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x101ed42a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x101ed5607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x101ed58c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x101ed7539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x101ed25c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x101ed2da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x101ed35ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x101eb8e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030cd2 is located 0 bytes to the right of 2-byte region [0x602000030cd0,0x602000030cd2)
  28: allocated by thread T0 here:
  29:     #0 0x1020aaffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x101f2349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x101f261bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x101ee1b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x101ee215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x101ee0a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x101f111ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x101f0fff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x101ed80e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x101ed6b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x101ed7232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x101ed42a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x101ed5607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x101ed58c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x101ed7539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x101ed4155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x101ed25c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x101ed2da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x101ed35ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x101eb8e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006140: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006160: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006170: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006180: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006190: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==9852==ABORTING
  88: ./lib/main.sh: line 102:  9852 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/001-escape-double-quote-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a double-quote `"` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\"TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851"TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==10059==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010d549d6c bp 0x7fff526de010 sp 0x7fff526de008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10d549d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10d54b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10d549a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10d57a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10d578ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10d5410e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10d53fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10d540232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10d53d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10d53e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10d53e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10d540539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10d53b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10d53bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10d53c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10d521e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10d710ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10d58c49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10d58f1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10d54ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10d54b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10d549a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10d57a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10d578ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10d5410e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10d53fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10d540232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10d53d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10d53e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10d53e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10d540539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10d53d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10d53b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10d53bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10d53c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10d521e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==10059==ABORTING
  88: ./lib/main.sh: line 102: 10059 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/002-escape-double-quote-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a double-quote `"` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "TOKEN201711141851 \" TOKEN201711141851"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851 ` TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==10280==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010a264d6c bp 0x7fff559c3010 sp 0x7fff559c3008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10a264d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a26635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a264a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a2951ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a293ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a25c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a25ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a25b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a2582a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a259607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a2598c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a25b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a2565c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a256da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a2575ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a23ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10a42effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a2a749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a2aa1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a265b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a26615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a264a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a2951ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a293ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a25c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a25ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a25b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a2582a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a259607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a2598c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a25b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a258155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a2565c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a256da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a2575ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a23ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==10280==ABORTING
  88: ./lib/main.sh: line 102: 10280 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/003-escape-double-quote-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a double-quote `"` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "\""[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^"$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==10499==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x00010862dd6c bp 0x7fff575fa010 sp 0x7fff575fa008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x10862dd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10862f35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10862da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10865e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10865cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1086250e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108623b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108624232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1086212a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108622607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1086228c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108624539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10861f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10861fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1086205ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x108605e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x1087f1ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10867049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1086731bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10862eb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10862f15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10862da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10865e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10865cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1086250e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108623b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108624232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1086212a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108622607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1086228c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108624539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108621155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10861f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10861fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1086205ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x108605e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==10499==ABORTING
  88: ./lib/main.sh: line 102: 10499 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/004-it-results-in-error[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using backslash `\\` before the closing double-quote `"` does result in syntax error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "TOKEN201711141851\"[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711141851$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Ss]yntax|[Pp]arse) error`[0m
[38;5;239m  01: dquote> ./lib/main.sh: line 102: 10719 Floating point exception: 8   /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/005-it-does-not-escape-double-quote[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using two backslashes `\\` before the symbol double-quote `"` does not result in escaped inhibitors.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\"TOKEN201711141851\\"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^\TOKEN201711141851\$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==10900==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x000109a19d6c bp 0x7fff5620e010 sp 0x7fff5620e008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x109a19d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x109a1b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x109a19a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x109a4a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x109a48ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x109a110e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x109a0fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x109a10232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x109a0d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x109a0e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x109a0e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x109a10539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x109a0b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x109a0bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x109a0c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1099f1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x109be4ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x109a5c49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x109a5f1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x109a1ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x109a1b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x109a19a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x109a4a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x109a48ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x109a110e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x109a0fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x109a10232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x109a0d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x109a0e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x109a0e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x109a10539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x109a0d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x109a0b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x109a0bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x109a0c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1099f1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==10900==ABORTING
  88: ./lib/main.sh: line 102: 10900 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/globbing/brace-expansion/001-it-does-not-expand-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "{1..2}"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==11104==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010bfa9d6c bp 0x7fff53c7e010 sp 0x7fff53c7e008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10bfa9d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10bfab35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10bfa9a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10bfda1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10bfd8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10bfa10e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10bf9fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10bfa0232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10bf9d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10bf9e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10bf9e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10bfa0539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10bf9b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10bf9bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10bf9c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10bf81e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10c170ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10bfec49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10bfef1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10bfaab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10bfab15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10bfa9a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10bfda1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10bfd8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10bfa10e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10bf9fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10bfa0232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10bf9d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10bf9e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10bf9e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10bfa0539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10bf9d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10bf9b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10bf9bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10bf9c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10bf81e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==11104==ABORTING
  88: ./lib/main.sh: line 102: 11104 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/globbing/brace-expansion/002-it-does-not-expand-braces-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {1..2}"{1..2}"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `1[{]1..2}@2[{]1..2}@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==11283==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010eb0dd6c bp 0x7fff5111a010 sp 0x7fff5111a008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10eb0dd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10eb0f35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10eb0da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10eb3e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10eb3cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10eb050e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10eb03b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10eb04232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10eb012a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10eb02607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10eb028c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10eb04539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10eaff5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10eaffda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10eb005ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10eae5e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10ecd8ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10eb5049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10eb531bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10eb0eb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10eb0f15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10eb0da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10eb3e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10eb3cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10eb050e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10eb03b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10eb04232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10eb012a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10eb02607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10eb028c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10eb04539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10eb01155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10eaff5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10eaffda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10eb005ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10eae5e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==11283==ABORTING
  88: ./lib/main.sh: line 102: 11283 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/globbing/brace-expansion/003-it-does-not-expand-braces-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout "{1..2}"{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}1@[{]1..2}2@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==11487==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x0001082d5d6c bp 0x7fff57952010 sp 0x7fff57952008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x1082d5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1082d735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1082d5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1083061ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108304ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1082cd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1082cbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1082cc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1082c92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1082ca607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1082ca8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1082cc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1082c75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1082c7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1082c85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1082ade4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10849effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10831849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10831b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1082d6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1082d715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1082d5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1083061ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108304ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1082cd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1082cbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1082cc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1082c92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1082ca607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1082ca8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1082cc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1082c9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1082c75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1082c7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1082c85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1082ade4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==11487==ABORTING
  88: ./lib/main.sh: line 102: 11487 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/globbing/brace-expansion/004-it-does-not-expand-braces-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout "{1..2}"{1..2}"{1..2}"{1..2}"{1..2}"{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}1[{]1..2}1[{]1..2}1@[{]1..2}1[{]1..2}1[{]1..2}2@[{]1..2}1[{]1..2}2[{]1..2}1@[{]1..2}1[{]1..2}2[{]1..2}2@[{]1..2}2[{]1..2}1[{]1..2}1@[{]1..2}2[{]1..2}1[{]1..2}2@[{]1..2}2[{]1..2}2[{]1..2}1@[{]1..2}2[{]1..2}2[{]1..2}2@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==11690==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x00010a153d6c bp 0x7fff55ad4010 sp 0x7fff55ad4008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x10a153d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a15535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a153a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a1841ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a182ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a14b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a149b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a14a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a1472a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a148607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a1488c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a14a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a1455c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a145da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a1465ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a12be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x10a317ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a19649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a1991bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a154b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a15515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a153a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a1841ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a182ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a14b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a149b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a14a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a1472a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a148607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a1488c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a14a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a147155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a1455c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a145da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a1465ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a12be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==11690==ABORTING
  88: ./lib/main.sh: line 102: 11690 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/globbing/brace-expansion/005-it-does-not-expand-braces-5[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout "{1..2}" {1..2} "{1..2}" "{1..2}"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}@1@2@[{]1..2}@[{]1..2}@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==11872==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030972 at pc 0x0001077c8d6c bp 0x7fff5845f010 sp 0x7fff5845f008
  03: READ of size 1 at 0x602000030972 thread T0
  04:     #0 0x1077c8d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1077ca35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1077c8a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1077f91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1077f7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1077c00e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1077beb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1077bf232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1077bc2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1077bd607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1077bd8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1077bf539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1077ba5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1077bada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1077bb5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1077a0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030972 is located 0 bytes to the right of 2-byte region [0x602000030970,0x602000030972)
  28: allocated by thread T0 here:
  29:     #0 0x10798dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10780b49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10780e1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1077c9b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1077ca15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1077c8a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1077f91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1077f7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1077c00e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1077beb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1077bf232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1077bc2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1077bd607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1077bd8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1077bf539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1077bc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1077ba5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1077bada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1077bb5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1077a0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000060d0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000060f0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006100: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006110: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c0400006120: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==11872==ABORTING
  88: ./lib/main.sh: line 102: 11872 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/variable-expansion/001-expansion-enabled[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that variable expansion is processed within double quotes.[0m

  Before test:
[38;5;239m  01: export "TOKEN=TOKEN201711141851"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "$TOKEN"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==12499==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030612 at pc 0x00010eb1bd6c bp 0x7fff5110bff0 sp 0x7fff5110bfe8
  03: READ of size 1 at 0x602000030612 thread T0
  04:     #0 0x10eb1bd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10eb1d35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10eb1ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10eb4c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10eb4aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10eb130e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10eb11b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10eb12232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10eb0f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10eb10607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10eb108c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10eb12539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10eb0d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10eb0dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10eb0e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10eaf3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030612 is located 0 bytes to the right of 2-byte region [0x602000030610,0x602000030612)
  28: allocated by thread T0 here:
  29:     #0 0x10ece5ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10eb5e49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10eb611bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10eb1cb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10eb1d15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10eb1ba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10eb4c1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10eb4aff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10eb130e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10eb11b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10eb12232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10eb0f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10eb10607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10eb108c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10eb12539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10eb0f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10eb0d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10eb0dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10eb0e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10eaf3e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006090: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c04000060a0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060b0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060c0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==12499==ABORTING
  88: ./lib/main.sh: line 102: 12499 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/mixed/001-simple-and-double-quotes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbols simple quote `'` and double quote `"` may work together in harmony.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr "ABCD'EFG"HI'J"KL"'MNO'P"' Q"RS'T'U''"VW'X"Y'Z[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `ABCD'EFGHIJ"KL"MNOP`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `QRS'T'U''VWX"YZ`[0m
[38;5;239m  01: =================================================================
  02: ==12759==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000306f2 at pc 0x00010035cd6c bp 0x7fff5f8cb010 sp 0x7fff5f8cb008
  03: READ of size 1 at 0x6020000306f2 thread T0
  04:     #0 0x10035cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10035e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10035ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10038d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10038bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1003540e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x100352b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x100353232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1003502a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x100351607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1003518c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x100353539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10034e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10034eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10034f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x100334e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000306f2 is located 0 bytes to the right of 2-byte region [0x6020000306f0,0x6020000306f2)
  28: allocated by thread T0 here:
  29:     #0 0x100527ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10039f49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1003a21bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10035db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10035e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10035ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10038d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10038bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1003540e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x100352b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x100353232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1003502a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x100351607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1003518c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x100353539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x100350155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10034e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10034eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10034f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x100334e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000060a0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c04000060b0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000060c0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060d0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==12759==ABORTING
  88: ./lib/main.sh: line 102: 12759 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/mixed/002-multiline[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbols simple quote `'` and double quote `"` may work together in harmony in multiline mode.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr '
  02: 'TOKEN201711141851"_FIR'ST
  03: TOKEN201711141851_SECOND" 'TOKEN201711141851_TH"IRD
  04: TOKEN201711141851_FOU'RT"H
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FIR'ST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_SECOND$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_TH"IRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FOURTH$`[0m
[38;5;239m  01: =================================================================
  02: ==13005==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030cd2 at pc 0x00010b55fd6c bp 0x7fff546c8010 sp 0x7fff546c8008
  03: READ of size 1 at 0x602000030cd2 thread T0
  04:     #0 0x10b55fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10b56135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10b55fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10b5901ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10b58eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10b5570e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10b555b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10b556232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10b5532a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10b554607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10b5548c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10b556539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10b5515c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10b551da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10b5525ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10b537e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030cd2 is located 0 bytes to the right of 2-byte region [0x602000030cd0,0x602000030cd2)
  28: allocated by thread T0 here:
  29:     #0 0x10b726ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10b5a249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10b5a51bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10b560b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10b56115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10b55fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10b5901ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10b58eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10b5570e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10b555b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10b556232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10b5532a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10b554607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10b5548c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10b556539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10b553155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10b5515c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10b551da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10b5525ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10b537e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006140: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006160: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006170: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006180: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006190: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==13005==ABORTING
  88: ./lib/main.sh: line 102: 13005 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/mixed/globbing/brace-expansion/001-it-does-not-expand-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout "{1..2}"{1..2}'{1..2}'{1..2}"{1..2}"{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}1[{]1..2}1[{]1..2}1@[{]1..2}1[{]1..2}1[{]1..2}2@[{]1..2}1[{]1..2}2[{]1..2}1@[{]1..2}1[{]1..2}2[{]1..2}2@[{]1..2}2[{]1..2}1[{]1..2}1@[{]1..2}2[{]1..2}1[{]1..2}2@[{]1..2}2[{]1..2}2[{]1..2}1@[{]1..2}2[{]1..2}2[{]1..2}2@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==13228==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x000108097d6c bp 0x7fff57b90010 sp 0x7fff57b90008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x108097d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10809935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108097a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1080c81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1080c6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10808f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10808db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10808e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10808b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10808c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10808c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10808e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1080895c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108089da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10808a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10806fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x108262ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1080da49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1080dd1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108098b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10809915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108097a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1080c81ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1080c6ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10808f0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10808db15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10808e232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10808b2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10808c607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10808c8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10808e539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10808b155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1080895c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108089da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10808a5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10806fe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==13228==ABORTING
  88: ./lib/main.sh: line 102: 13228 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/mixed/variable-expansion/001-it-does-not-expand-in-quotes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m   The purpose of this test is to check if a local variable is display correctly inside simple and double quote.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "$TOKEN201711141851_NAME"$TOKEN201711141851_NAME'$TOKEN201711141851_NAME'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_VALUETOKEN201711141851_VALUE[$]TOKEN201711141851_NAME`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==13932==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000305f2 at pc 0x00010c32cd6c bp 0x7fff538fafd0 sp 0x7fff538fafc8
  03: READ of size 1 at 0x6020000305f2 thread T0
  04:     #0 0x10c32cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c32e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c32ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c35d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c35bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c3240e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c322b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c323232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c3202a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c321607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c3218c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c323539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10c31e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10c31eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10c31f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10c304e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000305f2 is located 0 bytes to the right of 2-byte region [0x6020000305f0,0x6020000305f2)
  28: allocated by thread T0 here:
  29:     #0 0x10c4f0ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10c36f49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10c3721bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10c32db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10c32e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10c32ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10c35d1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10c35bff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10c3240e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10c322b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10c323232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10c3202a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10c321607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10c3218c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10c323539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10c320155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10c31e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10c31eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10c31f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10c304e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006090: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060b0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==13932==ABORTING
  88: ./lib/main.sh: line 102: 13932 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/001-it-works[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the symbol simple quote `'` does not result in error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout 'SIMPLE TEXT WITH SPACES'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `SIMPLE TEXT WITH SPACES`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==14170==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x00010f605d6c bp 0x7fff50622010 sp 0x7fff50622008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x10f605d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10f60735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10f605a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10f6361ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10f634ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10f5fd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10f5fbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10f5fc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10f5f92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10f5fa607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10f5fa8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10f5fc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10f5f75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10f5f7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10f5f85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10f5dde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x10f7cfffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10f64849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10f64b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10f606b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10f60715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10f605a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10f6361ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10f634ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10f5fd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10f5fbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10f5fc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10f5f92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10f5fa607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10f5fa8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10f5fc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10f5f9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10f5f75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10f5f7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10f5f85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10f5dde4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==14170==ABORTING
  88: ./lib/main.sh: line 102: 14170 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/002-concatenated-strings[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a mixed argument with multiple inhibited parts is considered as a single argument.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr A'B'CDEF'GHIJ''KLMNO' 'P'QRS'T''U''V'WXYZ[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `ABCDEFGHIJKLMNO`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `PQRSTUVWXYZ`[0m
[38;5;239m  01: =================================================================
  02: ==14375==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030732 at pc 0x000108512d6c bp 0x7fff57715010 sp 0x7fff57715008
  03: READ of size 1 at 0x602000030732 thread T0
  04:     #0 0x108512d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10851435c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x108512a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1085431ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x108541ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10850a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x108508b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x108509232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1085062a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x108507607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1085078c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x108509539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1085045c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x108504da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1085055ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1084eae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030732 is located 0 bytes to the right of 2-byte region [0x602000030730,0x602000030732)
  28: allocated by thread T0 here:
  29:     #0 0x1086d7ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10855549f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1085581bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x108513b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10851415a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x108512a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1085431ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x108541ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10850a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x108508b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x108509232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1085062a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x108507607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1085078c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x108509539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x108506155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1085045c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x108504da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1085055ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1084eae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000060a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000060b0: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c04000060c0: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000060d0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060e0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==14375==ABORTING
  88: ./lib/main.sh: line 102: 14375 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/003-first-argument-inhibited[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the shell implementation has no special case for the first argument.[0m

  STDIN:
[38;5;239m  01: './write_on_stdout_and_stderr' TOKEN201711141851_STDOUT TOKEN201711141851_STDERR[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_STDOUT`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_STDERR`[0m
[38;5;239m  01: =================================================================
  02: ==14571==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030672 at pc 0x00010c5e9d6c bp 0x7fff5363e010 sp 0x7fff5363e008
  03: READ of size 1 at 0x602000030672 thread T0
  04:     #0 0x10c5e9d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c5eb35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c5e9a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c61a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c618ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c5e10e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c5dfb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c5e0232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c5dd2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c5de607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c5de8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c5e0539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10c5db5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10c5dbda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10c5dc5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10c5c1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030672 is located 0 bytes to the right of 2-byte region [0x602000030670,0x602000030672)
  28: allocated by thread T0 here:
  29:     #0 0x10c7adffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10c62c49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10c62f1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10c5eab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10c5eb15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10c5e9a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10c61a1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10c618ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10c5e10e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10c5dfb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10c5e0232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10c5dd2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10c5de607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10c5de8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10c5e0539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10c5dd155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10c5db5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10c5dbda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10c5dc5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10c5c1e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c04000060b0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060c0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==14571==ABORTING
  88: ./lib/main.sh: line 102: 14571 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/004-multiline-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout '
  02: TOKEN201711141851_FIRST
  03: TOKEN201711141851_SECOND
  04: TOKEN201711141851_THIRD
  05: '[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_SECOND$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_THIRD$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==14752==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030b52 at pc 0x000105ab1d6c bp 0x7fff5a176010 sp 0x7fff5a176008
  03: READ of size 1 at 0x602000030b52 thread T0
  04:     #0 0x105ab1d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x105ab335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x105ab1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x105ae21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x105ae0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x105aa90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x105aa7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x105aa8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x105aa52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x105aa6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x105aa68c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x105aa8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x105aa35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x105aa3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x105aa45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x105a89e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030b52 is located 0 bytes to the right of 2-byte region [0x602000030b50,0x602000030b52)
  28: allocated by thread T0 here:
  29:     #0 0x105c7affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x105af449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x105af71bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x105ab2b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x105ab315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x105ab1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x105ae21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x105ae0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x105aa90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x105aa7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x105aa8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x105aa52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x105aa6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x105aa68c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x105aa8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x105aa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x105aa35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x105aa3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x105aa45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x105a89e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006110: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006120: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006130: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006140: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006160: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006190: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==14752==ABORTING
  88: ./lib/main.sh: line 102: 14752 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/005-multiline-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr '
  02: 'TOKEN201711141851'_FIRST
  03: TOKEN201711141851_SECOND' 'TOKEN201711141851_THIRD
  04: TOKEN201711141851_FOU'RT'H
  05: '[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_SECOND$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_THIRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_FOURTH$`[0m
[38;5;239m  01: =================================================================
  02: ==14971==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030cd2 at pc 0x000101012d6c bp 0x7fff5ec15010 sp 0x7fff5ec15008
  03: READ of size 1 at 0x602000030cd2 thread T0
  04:     #0 0x101012d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10101435c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x101012a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1010431ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x101041ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10100a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x101008b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x101009232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1010062a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x101007607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1010078c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x101009539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1010045c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x101004da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1010055ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x100feae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030cd2 is located 0 bytes to the right of 2-byte region [0x602000030cd0,0x602000030cd2)
  28: allocated by thread T0 here:
  29:     #0 0x1011ddffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10105549f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1010581bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x101013b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10101415a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x101012a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1010431ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x101041ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10100a0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x101008b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x101009232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1010062a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x101007607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1010078c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x101009539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x101006155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1010045c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x101004da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1010055ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x100feae4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006140: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006150: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006160: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006170: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006180: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c0400006190: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000061a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000061c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000061d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==14971==ABORTING
  88: ./lib/main.sh: line 102: 14971 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/escaping/001-escape-simple-quote-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a simple-quote `'` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout TOKEN201711141851\'TOKEN201711141851[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851'TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==15219==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030552 at pc 0x0001087c5d6c bp 0x7fff57462010 sp 0x7fff57462008
  03: READ of size 1 at 0x602000030552 thread T0
  04:     #0 0x1087c5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1087c735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1087c5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1087f61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1087f4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1087bd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1087bbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1087bc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1087b92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1087ba607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1087ba8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1087bc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1087b75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1087b7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1087b85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10879de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030552 is located 0 bytes to the right of 2-byte region [0x602000030550,0x602000030552)
  28: allocated by thread T0 here:
  29:     #0 0x109722ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10880849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10880b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1087c6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1087c715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1087c5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1087f61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1087f4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1087bd0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1087bbb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1087bc232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1087b92a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1087ba607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1087ba8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1087bc539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1087b9155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1087b75c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1087b7da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1087b85ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10879de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa fd fa
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  61:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000060a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==15219==ABORTING
  88: ./lib/main.sh: line 102: 15219 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/escaping/002-escape-simple-quote-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a simple-quote `'` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr \'TOKEN201711141851_STDOUT TOKEN201711141851_STDERR\'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^'TOKEN201711141851_STDOUT$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_STDERR'$`[0m
[38;5;239m  01: =================================================================
  02: ==15445==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030692 at pc 0x00010b48ed6c bp 0x7fff54799010 sp 0x7fff54799008
  03: READ of size 1 at 0x602000030692 thread T0
  04:     #0 0x10b48ed6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10b49035c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10b48ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10b4bf1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10b4bdff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10b4860e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10b484b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10b485232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10b4822a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10b483607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10b4838c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10b485539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10b4805c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10b480da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10b4815ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10b466e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030692 is located 0 bytes to the right of 2-byte region [0x602000030690,0x602000030692)
  28: allocated by thread T0 here:
  29:     #0 0x10b652ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10b4d149f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10b4d41bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10b48fb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10b49015a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10b48ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10b4bf1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10b4bdff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10b4860e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10b484b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10b485232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10b4822a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10b483607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10b4838c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10b485539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10b482155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10b4805c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10b480da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10b4815ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10b466e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006090: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c04000060a0: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c04000060b0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060c0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060d0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006110: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006120: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==15445==ABORTING
  88: ./lib/main.sh: line 102: 15445 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/escaping/003-escape-simple-quote-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a simple-quote `'` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout '\'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^\$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: quote> ./lib/main.sh: line 102: 15634 Floating point exception: 8   /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/escaping/005-it-does-not-escape-simple-quote-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using two backslashes `\\` before the symbol simple-quote `'` does not result in escaped inhibitors.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\'TOKEN201711141851\\'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^\TOKEN201711141851\\$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==16017==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x000109aa1d6c bp 0x7fff56186010 sp 0x7fff56186008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x109aa1d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x109aa335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x109aa1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x109ad21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x109ad0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x109a990e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x109a97b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x109a98232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x109a952a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x109a96607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x109a968c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x109a98539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x109a935c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x109a93da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x109a945ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x109a79e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x109c6bffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x109ae449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x109ae71bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x109aa2b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x109aa315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x109aa1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x109ad21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x109ad0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x109a990e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x109a97b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x109a98232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x109a952a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x109a96607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x109a968c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x109a98539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x109a95155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x109a935c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x109a93da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x109a945ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x109a79e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16017==ABORTING
  88: ./lib/main.sh: line 102: 16017 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/globbing/brace-expansion/001-it-does-not-expand-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout '{1..2}'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==16243==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010bf08d6c bp 0x7fff53d1f010 sp 0x7fff53d1f008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10bf08d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10bf0a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10bf08a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10bf391ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10bf37ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10bf000e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10befeb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10beff232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10befc2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10befd607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10befd8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10beff539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10befa5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10befada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10befb5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10bee0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10c0d2ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10bf4b49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10bf4e1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10bf09b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10bf0a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10bf08a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10bf391ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10bf37ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10bf000e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10befeb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10beff232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10befc2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10befd607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10befd8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10beff539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10befc155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10befa5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10befada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10befb5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10bee0e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16243==ABORTING
  88: ./lib/main.sh: line 102: 16243 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/globbing/brace-expansion/002-it-does-not-expand-braces-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {1..2}'{1..2}'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `1[{]1..2}@2[{]1..2}@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==16418==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x000103635d6c bp 0x7fff5c5f2010 sp 0x7fff5c5f2008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x103635d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10363735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103635a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1036661ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103664ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10362d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10362bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10362c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1036292a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10362a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10362a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10362c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1036275c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x103627da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1036285ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10360de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x1037faffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10367849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10367b1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x103636b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10363715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x103635a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1036661ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x103664ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10362d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10362bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10362c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1036292a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10362a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10362a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10362c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x103629155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1036275c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x103627da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1036285ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10360de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16418==ABORTING
  88: ./lib/main.sh: line 102: 16418 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/globbing/brace-expansion/003-it-does-not-expand-braces-3[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout '{1..2}'{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}1@[{]1..2}2@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==16628==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030572 at pc 0x00010dea5d6c bp 0x7fff51d82010 sp 0x7fff51d82008
  03: READ of size 1 at 0x602000030572 thread T0
  04:     #0 0x10dea5d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10dea735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10dea5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10ded61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10ded4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10de9d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10de9bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10de9c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10de992a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10de9a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10de9a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10de9c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10de975c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10de97da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10de985ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10de7de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030572 is located 0 bytes to the right of 2-byte region [0x602000030570,0x602000030572)
  28: allocated by thread T0 here:
  29:     #0 0x10e06dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10dee849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10deeb1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10dea6b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10dea715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10dea5a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10ded61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10ded4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10de9d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10de9bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10de9c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10de992a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10de9a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10de9a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10de9c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10de99155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10de975c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10de97da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10de985ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10de7de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006050: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006080: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006090: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c04000060a0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c04000060b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16628==ABORTING
  88: ./lib/main.sh: line 102: 16628 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/globbing/brace-expansion/004-it-does-not-expand-braces-4[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout '{1..2}'{1..2}'{1..2}'{1..2}'{1..2}'{1..2}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}1[{]1..2}1[{]1..2}1@[{]1..2}1[{]1..2}1[{]1..2}2@[{]1..2}1[{]1..2}2[{]1..2}1@[{]1..2}1[{]1..2}2[{]1..2}2@[{]1..2}2[{]1..2}1[{]1..2}1@[{]1..2}2[{]1..2}1[{]1..2}2@[{]1..2}2[{]1..2}2[{]1..2}1@[{]1..2}2[{]1..2}2[{]1..2}2@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==16798==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x000105888d6c bp 0x7fff5a39f010 sp 0x7fff5a39f008
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x105888d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10588a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x105888a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1058b91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1058b7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1058800e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10587eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10587f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10587c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10587d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10587d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10587f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10587a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10587ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10587b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x105860e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x105a53ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1058cb49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1058ce1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x105889b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10588a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x105888a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1058b91ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x1058b7ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1058800e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10587eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10587f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10587c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10587d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10587d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10587f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10587c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10587a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10587ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10587b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x105860e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16798==ABORTING
  88: ./lib/main.sh: line 102: 16798 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/globbing/brace-expansion/005-it-does-not-expand-braces-5[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that braces expansion is not processed within quoted part of the command line.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout '{1..2}' {1..2} '{1..2}' '{1..2}'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `[{]1..2}@1@2@[{]1..2}@[{]1..2}@`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==16974==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030972 at pc 0x000100f99d6c bp 0x7fff5ec8e010 sp 0x7fff5ec8e008
  03: READ of size 1 at 0x602000030972 thread T0
  04:     #0 0x100f99d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x100f9b35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x100f99a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x100fca1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x100fc8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x100f910e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x100f8fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x100f90232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x100f8d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x100f8e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x100f8e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x100f90539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x100f8b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x100f8bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x100f8c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x100f71e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030972 is located 0 bytes to the right of 2-byte region [0x602000030970,0x602000030972)
  28: allocated by thread T0 here:
  29:     #0 0x101162ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x100fdc49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x100fdf1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x100f9ab6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x100f9b15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x100f99a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x100fca1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x100fc8ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x100f910e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x100f8fb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x100f90232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x100f8d2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x100f8e607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x100f8e8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x100f90539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x100f8d155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x100f8b5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x100f8bda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x100f8c5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x100f71e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000060d0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c04000060f0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  60:   0x1c0400006100: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  61:   0x1c0400006110: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  62: =>0x1c0400006120: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  63:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==16974==ABORTING
  88: ./lib/main.sh: line 102: 16974 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/variable-expansion/001-expansion-disabled[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that variable expansion is not processed within simple quotes.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout '[$]TOKEN201711141851_NAME'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==17669==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030592 at pc 0x0001022f1d6c bp 0x7fff5d935fd0 sp 0x7fff5d935fc8
  03: READ of size 1 at 0x602000030592 thread T0
  04:     #0 0x1022f1d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x1022f335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x1022f1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1023221ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x102320ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1022e90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1022e7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1022e8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1022e52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1022e6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1022e68c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1022e8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1022e35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1022e3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1022e45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1022c9e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030592 is located 0 bytes to the right of 2-byte region [0x602000030590,0x602000030592)
  28: allocated by thread T0 here:
  29:     #0 0x1024b7ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10233449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1023371bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x1022f2b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x1022f315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x1022f1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1023221ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x102320ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1022e90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1022e7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1022e8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1022e52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1022e6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1022e68c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1022e8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1022e5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1022e35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1022e3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1022e45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1022c9e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006080: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000060a0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==17669==ABORTING
  88: ./lib/main.sh: line 102: 17669 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/001-tokens-are-recognized[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that adding twice symbols `(` and `)` in a command line does not make the Shell resulting in error.[0m

  STDIN:
[38;5;239m  01: (./write_on_stdout TOKEN201711141851)[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==17962==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030952 at pc 0x000105183d6c bp 0x7fff5aaa35f0 sp 0x7fff5aaa35e8
  03: READ of size 1 at 0x602000030952 thread T0
  04:     #0 0x105183d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10518535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x105183a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1051b41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x1051b2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10517b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x105179b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10517a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1051772a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10517b921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x105178a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  18:     #14 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1051935bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  20:     #16 0x105193c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  21:     #17 0x10517b7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  22:     #18 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x1051789b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  24:     #20 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x105178204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  26:     #22 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x105179915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  28:     #24 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x10517a36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  30:     #26 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x1051772a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  32:     #28 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x105178607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  34:     #30 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x1051788c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  36:     #32 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x10517a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  38:     #34 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x1051755c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  40:     #36 0x105175da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  41:     #37 0x1051765ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  42:     #38 0x10515be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  43:     #39 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  44: 
  45: 0x602000030952 is located 0 bytes to the right of 2-byte region [0x602000030950,0x602000030952)
  46: allocated by thread T0 here:
  47:     #0 0x105349ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  48:     #1 0x1051c649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  49:     #2 0x1051c91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  50:     #3 0x105184b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  51:     #4 0x10518515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  52:     #5 0x105183a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  53:     #6 0x1051b41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  54:     #7 0x1051b2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  55:     #8 0x10517b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  56:     #9 0x105179b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  57:     #10 0x10517a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  58:     #11 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  59:     #12 0x1051772a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  60:     #13 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #14 0x10517b921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  62:     #15 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #16 0x105178a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  64:     #17 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #18 0x1051935bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  66:     #19 0x105193c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  67:     #20 0x10517b7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  68:     #21 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #22 0x1051789b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  70:     #23 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #24 0x105178204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  72:     #25 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #26 0x105179915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  74:     #27 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #28 0x10517a36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  76:     #29 0x105177155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77: 
  78: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  79: Shadow bytes around the buggy address:
  80:   0x1c04000060d0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  81:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  82:   0x1c04000060f0: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  83:   0x1c0400006100: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  84:   0x1c0400006110: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  85: =>0x1c0400006120: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  86:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  87:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  88:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91: Shadow byte legend (one shadow byte represents 8 application bytes):
  92:   Addressable:           00
  93:   Partially addressable: 01 02 03 04 05 06 07 
  94:   Heap left redzone:       fa
  95:   Freed heap region:       fd
  96:   Stack left redzone:      f1
  97:   Stack mid redzone:       f2
  98:   Stack right redzone:     f3
  99:   Stack after return:      f5
  100:   Stack use after scope:   f8
  101:   Global redzone:          f9
  102:   Global init order:       f6
  103:   Poisoned by user:        f7
  104:   Container overflow:      fc
  105:   Array cookie:            ac
  106:   Intra object redzone:    bb
  107:   ASan internal:           fe
  108:   Left alloca redzone:     ca
  109:   Right alloca redzone:    cb
  110: ==17962==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/002-multiple-levels-of-subshells[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that imbricating multiple subshells does not result in error.[0m

  STDIN:
[38;5;239m  01: ( ( ( ( ./write_on_stdout TOKEN201711141851 ) ) ) )[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==18173==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000317b2 at pc 0x000101a28d6c bp 0x7fff5e1fc790 sp 0x7fff5e1fc788
  03: READ of size 1 at 0x6020000317b2 thread T0
  04:     #0 0x101a28d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x101a2a35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x101a28a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x101a591ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x101a57ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x101a200e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x101a1eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x101a1f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x101a20921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x101a1da19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  18:     #14 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x101a385bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  20:     #16 0x101a38c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  21:     #17 0x101a207e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  22:     #18 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x101a1d9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  24:     #20 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x101a1d204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  26:     #22 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x101a1e915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  28:     #24 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x101a1f36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  30:     #26 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  32:     #28 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x101a20921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  34:     #30 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x101a1da19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  36:     #32 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x101a385bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  38:     #34 0x101a38c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  39:     #35 0x101a207e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  40:     #36 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #37 0x101a1d9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  42:     #38 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #39 0x101a1d204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  44:     #40 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #41 0x101a1e915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  46:     #42 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #43 0x101a1f36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  48:     #44 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #45 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  50:     #46 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  51:     #47 0x101a20921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  52:     #48 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  53:     #49 0x101a1da19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  54:     #50 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  55:     #51 0x101a385bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  56:     #52 0x101a38c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  57:     #53 0x101a207e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  58:     #54 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  59:     #55 0x101a1d9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  60:     #56 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #57 0x101a1d204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  62:     #58 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #59 0x101a1e915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  64:     #60 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #61 0x101a1f36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  66:     #62 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #63 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  68:     #64 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #65 0x101a20921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  70:     #66 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #67 0x101a1da19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  72:     #68 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #69 0x101a385bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  74:     #70 0x101a38c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  75:     #71 0x101a207e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  76:     #72 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #73 0x101a1d9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  78:     #74 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79:     #75 0x101a1d204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  80:     #76 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  81:     #77 0x101a1e915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  82:     #78 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  83:     #79 0x101a1f36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  84:     #80 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  85:     #81 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  86:     #82 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  87:     #83 0x101a1d607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  88:     #84 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  89:     #85 0x101a1d8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  90:     #86 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  91:     #87 0x101a1f539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  92:     #88 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  93:     #89 0x101a1a5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  94:     #90 0x101a1ada9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  95:     #91 0x101a1b5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  96:     #92 0x101a00e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  97:     #93 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  98: 
  99: 0x6020000317b2 is located 0 bytes to the right of 2-byte region [0x6020000317b0,0x6020000317b2)
  100: allocated by thread T0 here:
  101:     #0 0x101bf0ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  102:     #1 0x101a6b49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  103:     #2 0x101a6e1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  104:     #3 0x101a29b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  105:     #4 0x101a2a15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  106:     #5 0x101a28a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  107:     #6 0x101a591ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  108:     #7 0x101a57ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  109:     #8 0x101a200e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  110:     #9 0x101a1eb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  111:     #10 0x101a1f232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  112:     #11 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  113:     #12 0x101a1c2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  114:     #13 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  115:     #14 0x101a20921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  116:     #15 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  117:     #16 0x101a1da19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  118:     #17 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  119:     #18 0x101a385bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  120:     #19 0x101a38c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  121:     #20 0x101a207e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  122:     #21 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  123:     #22 0x101a1d9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  124:     #23 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  125:     #24 0x101a1d204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  126:     #25 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  127:     #26 0x101a1e915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  128:     #27 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  129:     #28 0x101a1f36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  130:     #29 0x101a1c155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  131: 
  132: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  133: Shadow bytes around the buggy address:
  134:   0x1c04000062a0: fa fa 00 00 fa fa 02 fa fa fa 00 00 fa fa 00 00
  135:   0x1c04000062b0: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa 02 fa
  136:   0x1c04000062c0: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  137:   0x1c04000062d0: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  138:   0x1c04000062e0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  139: =>0x1c04000062f0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  140:   0x1c0400006300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  141:   0x1c0400006310: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  142:   0x1c0400006320: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  143:   0x1c0400006330: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  144:   0x1c0400006340: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  145: Shadow byte legend (one shadow byte represents 8 application bytes):
  146:   Addressable:           00
  147:   Partially addressable: 01 02 03 04 05 06 07 
  148:   Heap left redzone:       fa
  149:   Freed heap region:       fd
  150:   Stack left redzone:      f1
  151:   Stack mid redzone:       f2
  152:   Stack right redzone:     f3
  153:   Stack after return:      f5
  154:   Stack use after scope:   f8
  155:   Global redzone:          f9
  156:   Global init order:       f6
  157:   Poisoned by user:        f7
  158:   Container overflow:      fc
  159:   Array cookie:            ac
  160:   Intra object redzone:    bb
  161:   ASan internal:           fe
  162:   Left alloca redzone:     ca
  163:   Right alloca redzone:    cb
  164: ==18173==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/003-multiline[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell implementation may parse a subshell command on multiple lines.[0m

  STDIN:
[38;5;239m  01: (
  02: ./write_on_stdout TOKEN201711141851_SUBSHELL1 ;
  03: ./write_on_stdout TOKEN201711141851_SUBSHELL2
  04: )[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_SUBSHELL1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_SUBSHELL2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==18397==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000314d2 at pc 0x000106c7cd6c bp 0x7fff58faa530 sp 0x7fff58faa528
  03: READ of size 1 at 0x6020000314d2 thread T0
  04:     #0 0x106c7cd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x106c7e35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x106c7ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x106cad1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x106cabff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x106c740e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x106c72b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x106c73232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x106c702a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x106c74921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x106c74963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  18:     #14 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x106c71a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  20:     #16 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x106c8c5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  22:     #18 0x106c8cc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  23:     #19 0x106c747e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  24:     #20 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x106c719b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  26:     #22 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x106c71204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  28:     #24 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x106c72915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  30:     #26 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x106c7336e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  32:     #28 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x106c702a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  34:     #30 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x106c71607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  36:     #32 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x106c718c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  38:     #34 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x106c73539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  40:     #36 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #37 0x106c6e5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  42:     #38 0x106c6eda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  43:     #39 0x106c6f5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  44:     #40 0x106c54e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  45:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  46: 
  47: 0x6020000314d2 is located 0 bytes to the right of 2-byte region [0x6020000314d0,0x6020000314d2)
  48: allocated by thread T0 here:
  49:     #0 0x106e42ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  50:     #1 0x106cbf49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  51:     #2 0x106cc21bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  52:     #3 0x106c7db6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  53:     #4 0x106c7e15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  54:     #5 0x106c7ca1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  55:     #6 0x106cad1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  56:     #7 0x106cabff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  57:     #8 0x106c740e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  58:     #9 0x106c72b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  59:     #10 0x106c73232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  60:     #11 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #12 0x106c702a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  62:     #13 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #14 0x106c74921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  64:     #15 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #16 0x106c74963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  66:     #17 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #18 0x106c71a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  68:     #19 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #20 0x106c8c5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  70:     #21 0x106c8cc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  71:     #22 0x106c747e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  72:     #23 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #24 0x106c719b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  74:     #25 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #26 0x106c71204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  76:     #27 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #28 0x106c72915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  78:     #29 0x106c70155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79: 
  80: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  81: Shadow bytes around the buggy address:
  82:   0x1c0400006240: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  83:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  84:   0x1c0400006260: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  85:   0x1c0400006270: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  86:   0x1c0400006280: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  87: =>0x1c0400006290: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  88:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c04000062c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91:   0x1c04000062d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  92:   0x1c04000062e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  93: Shadow byte legend (one shadow byte represents 8 application bytes):
  94:   Addressable:           00
  95:   Partially addressable: 01 02 03 04 05 06 07 
  96:   Heap left redzone:       fa
  97:   Freed heap region:       fd
  98:   Stack left redzone:      f1
  99:   Stack mid redzone:       f2
  100:   Stack right redzone:     f3
  101:   Stack after return:      f5
  102:   Stack use after scope:   f8
  103:   Global redzone:          f9
  104:   Global init order:       f6
  105:   Poisoned by user:        f7
  106:   Container overflow:      fc
  107:   Array cookie:            ac
  108:   Intra object redzone:    bb
  109:   ASan internal:           fe
  110:   Left alloca redzone:     ca
  111:   Right alloca redzone:    cb
  112: ==18397==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/004-exit-status[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the exit status of a subshell command that is executed at the end of a script is correctly returned at termination by the parent shell.[0m

  STDIN:
[38;5;239m  01: (./exit_with_status 42)[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==18631==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030972 at pc 0x00010943ed6c bp 0x7fff567e85f0 sp 0x7fff567e85e8
  03: READ of size 1 at 0x602000030972 thread T0
  04:     #0 0x10943ed6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10944035c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10943ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10946f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10946dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1094360e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x109434b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x109435232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1094322a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x109436921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x109433a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  18:     #14 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10944e5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  20:     #16 0x10944ec3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  21:     #17 0x1094367e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  22:     #18 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x1094339b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  24:     #20 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x109433204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  26:     #22 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x109434915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  28:     #24 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x10943536e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  30:     #26 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x1094322a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  32:     #28 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x109433607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  34:     #30 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x1094338c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  36:     #32 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x109435539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  38:     #34 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x1094305c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  40:     #36 0x109430da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  41:     #37 0x1094315ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  42:     #38 0x109416e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  43:     #39 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  44: 
  45: 0x602000030972 is located 0 bytes to the right of 2-byte region [0x602000030970,0x602000030972)
  46: allocated by thread T0 here:
  47:     #0 0x109606ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  48:     #1 0x10948149f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  49:     #2 0x1094841bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  50:     #3 0x10943fb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  51:     #4 0x10944015a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  52:     #5 0x10943ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  53:     #6 0x10946f1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  54:     #7 0x10946dff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  55:     #8 0x1094360e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  56:     #9 0x109434b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  57:     #10 0x109435232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  58:     #11 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  59:     #12 0x1094322a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  60:     #13 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #14 0x109436921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  62:     #15 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #16 0x109433a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  64:     #17 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #18 0x10944e5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  66:     #19 0x10944ec3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  67:     #20 0x1094367e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  68:     #21 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #22 0x1094339b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  70:     #23 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #24 0x109433204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  72:     #25 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #26 0x109434915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  74:     #27 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #28 0x10943536e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  76:     #29 0x109432155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77: 
  78: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  79: Shadow bytes around the buggy address:
  80:   0x1c04000060d0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  81:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  82:   0x1c04000060f0: fa fa 00 00 fa fa 02 fa fa fa 00 00 fa fa 00 00
  83:   0x1c0400006100: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fd
  84:   0x1c0400006110: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  85: =>0x1c0400006120: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  86:   0x1c0400006130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  87:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  88:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91: Shadow byte legend (one shadow byte represents 8 application bytes):
  92:   Addressable:           00
  93:   Partially addressable: 01 02 03 04 05 06 07 
  94:   Heap left redzone:       fa
  95:   Freed heap region:       fd
  96:   Stack left redzone:      f1
  97:   Stack mid redzone:       f2
  98:   Stack right redzone:     f3
  99:   Stack after return:      f5
  100:   Stack use after scope:   f8
  101:   Global redzone:          f9
  102:   Global init order:       f6
  103:   Poisoned by user:        f7
  104:   Container overflow:      fc
  105:   Array cookie:            ac
  106:   Intra object redzone:    bb
  107:   ASan internal:           fe
  108:   Left alloca redzone:     ca
  109:   Right alloca redzone:    cb
  110: ==18631==ABORTING[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status 42[0m

----------------------------------------------------------------

[37;1m42sh/subshell/005-copy-of-environment[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a subshell get a copy of the parent environment.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_VAR1=VALUE1"
  02: export "TOKEN201711141851_VAR2=VALUE2"
  03: export "TOKEN201711141851_VAR3=VALUE3"[0m

  STDIN:
[38;5;239m  01: (./display_env)[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_VAR1=VALUE1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_VAR2=VALUE2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_VAR3=VALUE3`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==18841==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000309b2 at pc 0x00010c975d6c bp 0x7fff532b1590 sp 0x7fff532b1588
  03: READ of size 1 at 0x6020000309b2 thread T0
  04:     #0 0x10c975d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10c97735c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10c975a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10c9a61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10c9a4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10c96d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10c96bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10c96c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10c9692a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10c96d921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10c96aa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  18:     #14 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10c9855bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  20:     #16 0x10c985c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  21:     #17 0x10c96d7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  22:     #18 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  23:     #19 0x10c96a9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  24:     #20 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x10c96a204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  26:     #22 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x10c96b915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  28:     #24 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x10c96c36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  30:     #26 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x10c9692a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  32:     #28 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x10c96a607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  34:     #30 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x10c96a8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  36:     #32 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x10c96c539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  38:     #34 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x10c9675c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  40:     #36 0x10c967da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  41:     #37 0x10c9685ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  42:     #38 0x10c94de4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  43:     #39 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  44: 
  45: 0x6020000309b2 is located 0 bytes to the right of 2-byte region [0x6020000309b0,0x6020000309b2)
  46: allocated by thread T0 here:
  47:     #0 0x10cb40ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  48:     #1 0x10c9b849f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  49:     #2 0x10c9bb1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  50:     #3 0x10c976b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  51:     #4 0x10c97715a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  52:     #5 0x10c975a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  53:     #6 0x10c9a61ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  54:     #7 0x10c9a4ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  55:     #8 0x10c96d0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  56:     #9 0x10c96bb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  57:     #10 0x10c96c232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  58:     #11 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  59:     #12 0x10c9692a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  60:     #13 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #14 0x10c96d921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  62:     #15 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #16 0x10c96aa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  64:     #17 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #18 0x10c9855bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  66:     #19 0x10c985c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  67:     #20 0x10c96d7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  68:     #21 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #22 0x10c96a9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  70:     #23 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #24 0x10c96a204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  72:     #25 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #26 0x10c96b915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  74:     #27 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #28 0x10c96c36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  76:     #29 0x10c969155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77: 
  78: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  79: Shadow bytes around the buggy address:
  80:   0x1c04000060e0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  81:   0x1c04000060f0: fa fa 00 00 fa fa 00 00 fa fa 02 fa fa fa 00 00
  82:   0x1c0400006100: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  83:   0x1c0400006110: fa fa 00 06 fa fa fd fd fa fa 00 00 fa fa fd fd
  84:   0x1c0400006120: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  85: =>0x1c0400006130: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  86:   0x1c0400006140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  87:   0x1c0400006150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  88:   0x1c0400006160: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006170: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91: Shadow byte legend (one shadow byte represents 8 application bytes):
  92:   Addressable:           00
  93:   Partially addressable: 01 02 03 04 05 06 07 
  94:   Heap left redzone:       fa
  95:   Freed heap region:       fd
  96:   Stack left redzone:      f1
  97:   Stack mid redzone:       f2
  98:   Stack right redzone:     f3
  99:   Stack after return:      f5
  100:   Stack use after scope:   f8
  101:   Global redzone:          f9
  102:   Global init order:       f6
  103:   Poisoned by user:        f7
  104:   Container overflow:      fc
  105:   Array cookie:            ac
  106:   Intra object redzone:    bb
  107:   ASan internal:           fe
  108:   Left alloca redzone:     ca
  109:   Right alloca redzone:    cb
  110: ==18841==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/builtins/cd/001-it-does-not-change-current-directory[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the part of a command line that is embraced within the subshell tokens `(` and `)` effectively results in a subshell execution.[0m

  STDIN:
[38;5;239m  01: (cd /)
  02: ./display_pwd[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `/Users/ade-sede/42ShellTester/tmp`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==19778==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030e92 at pc 0x00010a89ad6c bp 0x7fff5538d010 sp 0x7fff5538d008
  03: READ of size 1 at 0x602000030e92 thread T0
  04:     #0 0x10a89ad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10a89c35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10a89aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10a8cb1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10a8c9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10a8920e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10a890b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10a891232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10a88e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10a88f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10a88f944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10a891539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10a88c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10a88cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10a88d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10a872e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000030e92 is located 0 bytes to the right of 2-byte region [0x602000030e90,0x602000030e92)
  28: allocated by thread T0 here:
  29:     #0 0x10aa61ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10a8dd49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10a8e01bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10a89bb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10a89c15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10a89aa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10a8cb1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10a8c9ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10a8920e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10a890b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10a891232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10a88e2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10a88f607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10a88f944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10a891539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10a88e155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10a88c5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10a88cda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10a88d5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10a872e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006180: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006190: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa 02 fa
  59:   0x1c04000061a0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 06
  60:   0x1c04000061b0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c04000061c0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c04000061d0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c04000061e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000061f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006210: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006220: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==19778==ABORTING
  88: ./lib/main.sh: line 102: 19778 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/builtins/cd/002-multiline[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell implementation may parse a subshell command on multiple lines.[0m

  STDIN:
[38;5;239m  01: (
  02: cd / ;
  03: /Users/ade-sede/42ShellTester/tmp/write_on_stdout TOKEN201711141851_SUBSHELL ;
  04: /Users/ade-sede/42ShellTester/tmp/display_pwd
  05: )
  06: ./write_on_stdout TOKEN201711141851_PARENT[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/ade-sede/42ShellTester/tmp`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `^PWD:/:PWD$`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711141851_SUBSHELL`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_PARENT`[0m
[38;5;239m  01: TOKEN201711141851_SUBSHELL
  02: PWD:/:PWD[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==20036==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032232 at pc 0x000104e61d6c bp 0x7fff5adc6010 sp 0x7fff5adc6008
  03: READ of size 1 at 0x602000032232 thread T0
  04:     #0 0x104e61d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x104e6335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x104e61a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x104e921ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x104e90ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x104e590e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x104e57b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x104e58232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x104e552a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x104e56607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x104e56944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x104e58539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x104e535c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x104e53da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x104e545ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x104e39e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000032232 is located 0 bytes to the right of 2-byte region [0x602000032230,0x602000032232)
  28: allocated by thread T0 here:
  29:     #0 0x10502cffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x104ea449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x104ea71bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x104e62b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x104e6315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x104e61a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x104e921ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x104e90ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x104e590e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x104e57b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x104e58232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x104e552a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x104e56607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x104e56944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x104e58539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x104e55155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x104e535c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x104e53da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x104e545ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x104e39e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c04000063f0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006400: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006410: fa fa 00 00 fa fa 02 fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006420: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006430: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c0400006440: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006450: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006460: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c0400006470: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c0400006480: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006490: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==20036==ABORTING
  88: ./lib/main.sh: line 102: 20036 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/builtins/exit/001-exiting-subshell[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that prematurely exiting a subshell does work and does not result in parent shell termination.[0m

  STDIN:
[38;5;239m  01: (exit ; ./write_on_stdout TOKEN201711141851_NOT_DISPLAYED)
  02: ./write_on_stdout TOKEN201711141851_DISPLAYED[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711141851_NOT_DISPLAYED`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_DISPLAYED`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==20290==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000314b2 at pc 0x00010efb1d6c bp 0x7fff50c76010 sp 0x7fff50c76008
  03: READ of size 1 at 0x6020000314b2 thread T0
  04:     #0 0x10efb1d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10efb335c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10efb1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10efe21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10efe0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10efa90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10efa7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10efa8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10efa52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10efa6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10efa6944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10efa8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10efa35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10efa3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10efa45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10ef89e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000314b2 is located 0 bytes to the right of 2-byte region [0x6020000314b0,0x6020000314b2)
  28: allocated by thread T0 here:
  29:     #0 0x10f17cffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10eff449f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10eff71bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10efb2b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10efb315a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10efb1a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10efe21ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10efe0ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10efa90e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10efa7b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10efa8232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10efa52a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10efa6607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10efa6944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10efa8539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10efa5155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10efa35c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10efa3da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10efa45ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10ef89e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006240: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006260: fa fa 00 00 fa fa 02 fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006270: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c0400006280: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c0400006290: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000062c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000062d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000062e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==20290==ABORTING
  88: ./lib/main.sh: line 102: 20290 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/builtins/unsetenv/001-it-does-not-modify-parent-environment[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that changing environment in subshell commands does not result in a changed of the parent shell's environment.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711141851_NAME=TOKEN201711141851_VALUE"[0m

  STDIN:
[38;5;239m  01: (unsetenv TOKEN201711141851_NAME ; unset TOKEN201711141851_NAME)
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_NAME=TOKEN201711141851_VALUE`[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: =================================================================
  02: ==20742==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031552 at pc 0x00010985dd6c bp 0x7fff563c9fd0 sp 0x7fff563c9fc8
  03: READ of size 1 at 0x602000031552 thread T0
  04:     #0 0x10985dd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10985f35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10985da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10988e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10988cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1098550e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x109853b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x109854232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1098512a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x109852607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x109852944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x109854539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10984f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10984fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1098505ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x109835e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031552 is located 0 bytes to the right of 2-byte region [0x602000031550,0x602000031552)
  28: allocated by thread T0 here:
  29:     #0 0x109a26ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x1098a049f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x1098a31bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10985eb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10985f15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10985da1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10988e1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10988cff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1098550e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x109853b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x109854232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1098512a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x109852607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x109852944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x109854539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x109851155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10984f5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10984fda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1098505ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x109835e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006260: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  59:   0x1c0400006270: fa fa 00 00 fa fa 02 fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006280: fa fa fd fa fa fa 00 06 fa fa fd fd fa fa 00 00
  61:   0x1c0400006290: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  62: =>0x1c04000062a0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  63:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000062c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000062d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000062e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000062f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==20742==ABORTING
  88: ./lib/main.sh: line 102: 20742 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/escaping/002-escaped-subshell-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the tokens parentheses `(` and `)` for subshell generation may be escaped with backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\\(TOKEN201711141851_STDOUT\\\)[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `\(TOKEN201711141851_STDOUT\)`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==21162==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000305b2 at pc 0x00010dc64d6c bp 0x7fff51fc3010 sp 0x7fff51fc3008
  03: READ of size 1 at 0x6020000305b2 thread T0
  04:     #0 0x10dc64d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10dc6635c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10dc64a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10dc951ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10dc93ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10dc5c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10dc5ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10dc5b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10dc582a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10dc59607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10dc598c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  18:     #14 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10dc5b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10dc565c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x10dc56da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x10dc575ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x10dc3ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x6020000305b2 is located 0 bytes to the right of 2-byte region [0x6020000305b0,0x6020000305b2)
  28: allocated by thread T0 here:
  29:     #0 0x10de28ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10dca749f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10dcaa1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x10dc65b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10dc6615a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x10dc64a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x10dc951ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x10dc93ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x10dc5c0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x10dc5ab15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x10dc5b232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x10dc582a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x10dc59607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x10dc598c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  46:     #17 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x10dc5b539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x10dc58155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x10dc565c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x10dc56da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x10dc575ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x10dc3ce4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006060: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006070: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  59:   0x1c0400006080: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  60:   0x1c0400006090: fa fa fd fa fa fa fd fd fa fa 00 00 fa fa fd fd
  61:   0x1c04000060a0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  62: =>0x1c04000060b0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  63:   0x1c04000060c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c04000060d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000060e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000060f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c0400006100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==21162==ABORTING
  88: ./lib/main.sh: line 102: 21162 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/inline-environment-variable/001-modifies-the-child-environment-only-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary in a subshell does not result in local variable declaration or a modified parent shell's environment, but only a modified child's environment.[0m

  STDIN:
[38;5;239m  01: (TOKEN201711141851_NAME=TOKEN201711141851_VALUE ./display_env)
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$` once[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==21482==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031812 at pc 0x00010f293d6c bp 0x7fff50992f90 sp 0x7fff50992f88
  03: READ of size 1 at 0x602000031812 thread T0
  04:     #0 0x10f293d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10f29535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10f293a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10f2c41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10f2c2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10f28a84a in exec_cmd_suffix (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002084a)
  10:     #6 0x10f28b458 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021458)
  11:     #7 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  12:     #8 0x10f288204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  13:     #9 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  14:     #10 0x10f2a35bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  15:     #11 0x10f2a3c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  16:     #12 0x10f28a2fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  17:     #13 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  18:     #14 0x10f2872a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  19:     #15 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  20:     #16 0x10f28b921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  21:     #17 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  22:     #18 0x10f288a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  23:     #19 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  24:     #20 0x10f2a35bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  25:     #21 0x10f2a3c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  26:     #22 0x10f28b7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  27:     #23 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  28:     #24 0x10f2889b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  29:     #25 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  30:     #26 0x10f288204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  31:     #27 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  32:     #28 0x10f289915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  33:     #29 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  34:     #30 0x10f28a36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  35:     #31 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  36:     #32 0x10f2872a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  37:     #33 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  38:     #34 0x10f288607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  39:     #35 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  40:     #36 0x10f2888c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  41:     #37 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  42:     #38 0x10f288903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  43:     #39 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  44:     #40 0x10f28a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  45:     #41 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  46:     #42 0x10f2855c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  47:     #43 0x10f285da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  48:     #44 0x10f2865ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  49:     #45 0x10f26be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  50:     #46 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  51: 
  52: 0x602000031812 is located 0 bytes to the right of 2-byte region [0x602000031810,0x602000031812)
  53: allocated by thread T0 here:
  54:     #0 0x10f45dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  55:     #1 0x10f2d649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  56:     #2 0x10f2d91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  57:     #3 0x10f294b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  58:     #4 0x10f29515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  59:     #5 0x10f293a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  60:     #6 0x10f2c41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  61:     #7 0x10f2c2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  62:     #8 0x10f28a84a in exec_cmd_suffix (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002084a)
  63:     #9 0x10f28b458 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021458)
  64:     #10 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #11 0x10f288204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  66:     #12 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #13 0x10f2a35bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  68:     #14 0x10f2a3c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  69:     #15 0x10f28a2fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  70:     #16 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #17 0x10f2872a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  72:     #18 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #19 0x10f28b921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  74:     #20 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #21 0x10f288a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  76:     #22 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #23 0x10f2a35bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  78:     #24 0x10f2a3c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  79:     #25 0x10f28b7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  80:     #26 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  81:     #27 0x10f2889b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  82:     #28 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  83:     #29 0x10f288204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  84: 
  85: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  86: Shadow bytes around the buggy address:
  87:   0x1c04000062b0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  88:   0x1c04000062c0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa 00 00
  89:   0x1c04000062d0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 06
  90:   0x1c04000062e0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  91:   0x1c04000062f0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  92: =>0x1c0400006300: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  93:   0x1c0400006310: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  94:   0x1c0400006320: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  95:   0x1c0400006330: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  96:   0x1c0400006340: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  97:   0x1c0400006350: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  98: Shadow byte legend (one shadow byte represents 8 application bytes):
  99:   Addressable:           00
  100:   Partially addressable: 01 02 03 04 05 06 07 
  101:   Heap left redzone:       fa
  102:   Freed heap region:       fd
  103:   Stack left redzone:      f1
  104:   Stack mid redzone:       f2
  105:   Stack right redzone:     f3
  106:   Stack after return:      f5
  107:   Stack use after scope:   f8
  108:   Global redzone:          f9
  109:   Global init order:       f6
  110:   Poisoned by user:        f7
  111:   Container overflow:      fc
  112:   Array cookie:            ac
  113:   Intra object redzone:    bb
  114:   ASan internal:           fe
  115:   Left alloca redzone:     ca
  116:   Right alloca redzone:    cb
  117: ==21482==ABORTING
  118: =================================================================
  119: ==21428==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000030f32 at pc 0x00010f293d6c bp 0x7fff50994010 sp 0x7fff50994008
  120: READ of size 1 at 0x602000030f32 thread T0
  121:     #0 0x10f293d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  122:     #1 0x10f29535c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  123:     #2 0x10f293a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  124:     #3 0x10f2c41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  125:     #4 0x10f2c2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  126:     #5 0x10f28b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  127:     #6 0x10f289b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  128:     #7 0x10f28a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  129:     #8 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  130:     #9 0x10f2872a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  131:     #10 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  132:     #11 0x10f288607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  133:     #12 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  134:     #13 0x10f288944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  135:     #14 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  136:     #15 0x10f28a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  137:     #16 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  138:     #17 0x10f2855c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  139:     #18 0x10f285da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  140:     #19 0x10f2865ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  141:     #20 0x10f26be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  142:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  143: 
  144: 0x602000030f32 is located 0 bytes to the right of 2-byte region [0x602000030f30,0x602000030f32)
  145: allocated by thread T0 here:
  146:     #0 0x10f45dffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  147:     #1 0x10f2d649f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  148:     #2 0x10f2d91bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  149:     #3 0x10f294b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  150:     #4 0x10f29515a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  151:     #5 0x10f293a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  152:     #6 0x10f2c41ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  153:     #7 0x10f2c2ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  154:     #8 0x10f28b0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  155:     #9 0x10f289b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  156:     #10 0x10f28a232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  157:     #11 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  158:     #12 0x10f2872a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  159:     #13 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  160:     #14 0x10f288607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  161:     #15 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  162:     #16 0x10f288944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  163:     #17 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  164:     #18 0x10f28a539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  165:     #19 0x10f287155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  166:     #20 0x10f2855c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  167:     #21 0x10f285da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  168:     #22 0x10f2865ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  169:     #23 0x10f26be4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  170:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  171: 
  172: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  173: Shadow bytes around the buggy address:
  174:   0x1c0400006190: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  175:   0x1c04000061a0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  176:   0x1c04000061b0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa fd fa
  177:   0x1c04000061c0: fa fa 00 06 fa fa fd fd fa fa 00 00 fa fa fd fd
  178:   0x1c04000061d0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  179: =>0x1c04000061e0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  180:   0x1c04000061f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  181:   0x1c0400006200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  182:   0x1c0400006210: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  183:   0x1c0400006220: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  184:   0x1c0400006230: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  185: Shadow byte legend (one shadow byte represents 8 application bytes):
  186:   Addressable:           00
  187:   Partially addressable: 01 02 03 04 05 06 07 
  188:   Heap left redzone:       fa
  189:   Freed heap region:       fd
  190:   Stack left redzone:      f1
  191:   Stack mid redzone:       f2
  192:   Stack right redzone:     f3
  193:   Stack after return:      f5
  194:   Stack use after scope:   f8
  195:   Global redzone:          f9
  196:   Global init order:       f6
  197:   Poisoned by user:        f7
  198:   Container overflow:      fc
  199:   Array cookie:            ac
  200:   Intra object redzone:    bb
  201:   ASan internal:           fe
  202:   Left alloca redzone:     ca
  203:   Right alloca redzone:    cb
  204: ==21428==ABORTING
  205: ./lib/main.sh: line 102: 21428 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/inline-environment-variable/002-modifies-the-child-environment-only-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary in a subshell does not result in local variable declaration or a modified parent shell's environment, but only a modified child's environment.[0m

  STDIN:
[38;5;239m  01: ( (TOKEN201711141851_NAME=TOKEN201711141851_VALUE ./display_env) ; ./display_env) ; ./display_env
  02: [0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711141851_NAME=TOKEN201711141851_VALUE$` once[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==21717==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000320d2 at pc 0x00010f880d6c bp 0x7fff503a54f0 sp 0x7fff503a54e8
  03: READ of size 1 at 0x6020000320d2 thread T0
  04:     #0 0x10f880d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10f88235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10f87784a in exec_cmd_suffix (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002084a)
  10:     #6 0x10f878458 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021458)
  11:     #7 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  12:     #8 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  13:     #9 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  14:     #10 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  15:     #11 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  16:     #12 0x10f8772fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  17:     #13 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  18:     #14 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  19:     #15 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  20:     #16 0x10f878921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  21:     #17 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  22:     #18 0x10f875a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  23:     #19 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  24:     #20 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  25:     #21 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  26:     #22 0x10f8787e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  27:     #23 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  28:     #24 0x10f8759b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  29:     #25 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  30:     #26 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  31:     #27 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  32:     #28 0x10f876915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  33:     #29 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  34:     #30 0x10f87736e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  35:     #31 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  36:     #32 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  37:     #33 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  38:     #34 0x10f878921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  39:     #35 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  40:     #36 0x10f878963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  41:     #37 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  42:     #38 0x10f875a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  43:     #39 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  44:     #40 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  45:     #41 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  46:     #42 0x10f8787e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  47:     #43 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  48:     #44 0x10f8759b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  49:     #45 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  50:     #46 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  51:     #47 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  52:     #48 0x10f876915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  53:     #49 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  54:     #50 0x10f87736e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  55:     #51 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  56:     #52 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  57:     #53 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  58:     #54 0x10f8757da in exec_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e7da)
  59:     #55 0x10f875523 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e523)
  60:     #56 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #57 0x10f8758c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  62:     #58 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #59 0x10f877539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  64:     #60 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #61 0x10f8725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  66:     #62 0x10f872da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  67:     #63 0x10f8735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  68:     #64 0x10f858e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  69:     #65 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  70: 
  71: 0x6020000320d2 is located 0 bytes to the right of 2-byte region [0x6020000320d0,0x6020000320d2)
  72: allocated by thread T0 here:
  73:     #0 0x10fa4affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  74:     #1 0x10f8c349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  75:     #2 0x10f8c61bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  76:     #3 0x10f881b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  77:     #4 0x10f88215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  78:     #5 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  79:     #6 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  80:     #7 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  81:     #8 0x10f87784a in exec_cmd_suffix (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002084a)
  82:     #9 0x10f878458 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021458)
  83:     #10 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  84:     #11 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  85:     #12 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  86:     #13 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  87:     #14 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  88:     #15 0x10f8772fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  89:     #16 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  90:     #17 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  91:     #18 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  92:     #19 0x10f878921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  93:     #20 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  94:     #21 0x10f875a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  95:     #22 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  96:     #23 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  97:     #24 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  98:     #25 0x10f8787e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  99:     #26 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  100:     #27 0x10f8759b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  101:     #28 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  102:     #29 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  103: 
  104: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  105: Shadow bytes around the buggy address:
  106:   0x1c04000063c0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  107:   0x1c04000063d0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  108:   0x1c04000063e0: fa fa fd fd fa fa 00 00 fa fa fd fa fa fa fd fa
  109:   0x1c04000063f0: fa fa fd fa fa fa 00 06 fa fa fd fd fa fa 00 00
  110:   0x1c0400006400: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  111: =>0x1c0400006410: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  112:   0x1c0400006420: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  113:   0x1c0400006430: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  114:   0x1c0400006440: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  115:   0x1c0400006450: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  116:   0x1c0400006460: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  117: Shadow byte legend (one shadow byte represents 8 application bytes):
  118:   Addressable:           00
  119:   Partially addressable: 01 02 03 04 05 06 07 
  120:   Heap left redzone:       fa
  121:   Freed heap region:       fd
  122:   Stack left redzone:      f1
  123:   Stack mid redzone:       f2
  124:   Stack right redzone:     f3
  125:   Stack after return:      f5
  126:   Stack use after scope:   f8
  127:   Global redzone:          f9
  128:   Global init order:       f6
  129:   Poisoned by user:        f7
  130:   Container overflow:      fc
  131:   Array cookie:            ac
  132:   Intra object redzone:    bb
  133:   ASan internal:           fe
  134:   Left alloca redzone:     ca
  135:   Right alloca redzone:    cb
  136: ==21717==ABORTING
  137: =================================================================
  138: ==21715==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000317f2 at pc 0x00010f880d6c bp 0x7fff503a6570 sp 0x7fff503a6568
  139: READ of size 1 at 0x6020000317f2 thread T0
  140:     #0 0x10f880d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  141:     #1 0x10f88235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  142:     #2 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  143:     #3 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  144:     #4 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  145:     #5 0x10f8780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  146:     #6 0x10f876b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  147:     #7 0x10f877232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  148:     #8 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  149:     #9 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  150:     #10 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  151:     #11 0x10f8789a4 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000219a4)
  152:     #12 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  153:     #13 0x10f875a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  154:     #14 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  155:     #15 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  156:     #16 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  157:     #17 0x10f8787e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  158:     #18 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  159:     #19 0x10f8759b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  160:     #20 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  161:     #21 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  162:     #22 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  163:     #23 0x10f876915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  164:     #24 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  165:     #25 0x10f87736e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  166:     #26 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  167:     #27 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  168:     #28 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  169:     #29 0x10f8757da in exec_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e7da)
  170:     #30 0x10f875523 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e523)
  171:     #31 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  172:     #32 0x10f8758c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  173:     #33 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  174:     #34 0x10f877539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  175:     #35 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  176:     #36 0x10f8725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  177:     #37 0x10f872da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  178:     #38 0x10f8735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  179:     #39 0x10f858e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  180:     #40 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  181: 
  182: 0x6020000317f2 is located 0 bytes to the right of 2-byte region [0x6020000317f0,0x6020000317f2)
  183: allocated by thread T0 here:
  184:     #0 0x10fa4affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  185:     #1 0x10f8c349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  186:     #2 0x10f8c61bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  187:     #3 0x10f881b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  188:     #4 0x10f88215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  189:     #5 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  190:     #6 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  191:     #7 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  192:     #8 0x10f8780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  193:     #9 0x10f876b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  194:     #10 0x10f877232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  195:     #11 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  196:     #12 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  197:     #13 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  198:     #14 0x10f8789a4 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000219a4)
  199:     #15 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  200:     #16 0x10f875a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  201:     #17 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  202:     #18 0x10f8905bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  203:     #19 0x10f890c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  204:     #20 0x10f8787e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  205:     #21 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  206:     #22 0x10f8759b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  207:     #23 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  208:     #24 0x10f875204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  209:     #25 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  210:     #26 0x10f876915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  211:     #27 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  212:     #28 0x10f87736e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  213:     #29 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  214: 
  215: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  216: Shadow bytes around the buggy address:
  217:   0x1c04000062a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  218:   0x1c04000062b0: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa 02 fa
  219:   0x1c04000062c0: fa fa 00 00 fa fa 00 00 fa fa 02 fa fa fa fd fa
  220:   0x1c04000062d0: fa fa fd fa fa fa fd fa fa fa 00 06 fa fa fd fd
  221:   0x1c04000062e0: fa fa 00 00 fa fa fd fd fa fa fd fd fa fa 00 fa
  222: =>0x1c04000062f0: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa[02]fa
  223:   0x1c0400006300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  224:   0x1c0400006310: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  225:   0x1c0400006320: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  226:   0x1c0400006330: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  227:   0x1c0400006340: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  228: Shadow byte legend (one shadow byte represents 8 application bytes):
  229:   Addressable:           00
  230:   Partially addressable: 01 02 03 04 05 06 07 
  231:   Heap left redzone:       fa
  232:   Freed heap region:       fd
  233:   Stack left redzone:      f1
  234:   Stack mid redzone:       f2
  235:   Stack right redzone:     f3
  236:   Stack after return:      f5
  237:   Stack use after scope:   f8
  238:   Global redzone:          f9
  239:   Global init order:       f6
  240:   Poisoned by user:        f7
  241:   Container overflow:      fc
  242:   Array cookie:            ac
  243:   Intra object redzone:    bb
  244:   ASan internal:           fe
  245:   Left alloca redzone:     ca
  246:   Right alloca redzone:    cb
  247: ==21715==ABORTING
  248: =================================================================
  249: ==21703==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031792 at pc 0x00010f880d6c bp 0x7fff503a7010 sp 0x7fff503a7008
  250: READ of size 1 at 0x602000031792 thread T0
  251:     #0 0x10f880d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  252:     #1 0x10f88235c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  253:     #2 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  254:     #3 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  255:     #4 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  256:     #5 0x10f8780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  257:     #6 0x10f876b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  258:     #7 0x10f877232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  259:     #8 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  260:     #9 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  261:     #10 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  262:     #11 0x10f875607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  263:     #12 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  264:     #13 0x10f8758c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  265:     #14 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  266:     #15 0x10f877539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  267:     #16 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  268:     #17 0x10f8725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  269:     #18 0x10f872da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  270:     #19 0x10f8735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  271:     #20 0x10f858e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  272:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  273: 
  274: 0x602000031792 is located 0 bytes to the right of 2-byte region [0x602000031790,0x602000031792)
  275: allocated by thread T0 here:
  276:     #0 0x10fa4affc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  277:     #1 0x10f8c349f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  278:     #2 0x10f8c61bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  279:     #3 0x10f881b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  280:     #4 0x10f88215a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  281:     #5 0x10f880a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  282:     #6 0x10f8b11ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  283:     #7 0x10f8afff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  284:     #8 0x10f8780e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  285:     #9 0x10f876b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  286:     #10 0x10f877232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  287:     #11 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  288:     #12 0x10f8742a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  289:     #13 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  290:     #14 0x10f875607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  291:     #15 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  292:     #16 0x10f8758c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  293:     #17 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  294:     #18 0x10f877539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  295:     #19 0x10f874155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  296:     #20 0x10f8725c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  297:     #21 0x10f872da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  298:     #22 0x10f8735ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  299:     #23 0x10f858e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  300:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  301: 
  302: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  303: Shadow bytes around the buggy address:
  304:   0x1c04000062a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  305:   0x1c04000062b0: fa fa fd fd fa fa 00 00 fa fa 00 00 fa fa 02 fa
  306:   0x1c04000062c0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 06
  307:   0x1c04000062d0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  308:   0x1c04000062e0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  309: =>0x1c04000062f0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  310:   0x1c0400006300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  311:   0x1c0400006310: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  312:   0x1c0400006320: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  313:   0x1c0400006330: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  314:   0x1c0400006340: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  315: Shadow byte legend (one shadow byte represents 8 application bytes):
  316:   Addressable:           00
  317:   Partially addressable: 01 02 03 04 05 06 07 
  318:   Heap left redzone:       fa
  319:   Freed heap region:       fd
  320:   Stack left redzone:      f1
  321:   Stack mid redzone:       f2
  322:   Stack right redzone:     f3
  323:   Stack after return:      f5
  324:   Stack use after scope:   f8
  325:   Global redzone:          f9
  326:   Global init order:       f6
  327:   Poisoned by user:        f7
  328:   Container overflow:      fc
  329:   Array cookie:            ac
  330:   Intra object redzone:    bb
  331:   ASan internal:           fe
  332:   Left alloca redzone:     ca
  333:   Right alloca redzone:    cb
  334: ==21703==ABORTING
  335: ./lib/main.sh: line 102: 21703 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/piping/001-subshells-inside-piped-command[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that subshells may be executed inside a piped command.[0m

  STDIN:
[38;5;239m  01: (cd / ; /Users/ade-sede/42ShellTester/tmp/display_pwd) | (./read_on_stdin) | (./read_on_stdin)
  02: ./write_on_stdout TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/ade-sede/42ShellTester/tmp`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD:/:PWD@@$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==21975==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032512 at pc 0x0001014dad6c bp 0x7fff5e74c250 sp 0x7fff5e74c248
  03: READ of size 1 at 0x602000032512 thread T0
  04: =================================================================
  05: ==21982==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032512 at pc 0x0001014dad6c bp 0x7fff5e74c250 sp 0x7fff5e74c248
  06: READ of size 1 at 0x602000032512 thread T0
  07:     #0 0x1014dad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  08:     #1 0x1014dc35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  09:     #2 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  10:     #3 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  11:     #4 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  12:     #5 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  13:     #6 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  14:     #7 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  15:     #8 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  16:     #9 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  17:     #10 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  18:     #11 0x1014d2921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  19:     #12 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  20:     #13 0x1014cfa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  21:     #14 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  22:     #15 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  23:     #16 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  24:     #17 0x1014d27e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  25:     #18 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  26:     #19 0x1014cf9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  27:     #20 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  28:     #21 0x1014cf204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  29:     #22 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  30:     #23 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  31:     #24 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  32:     #25 0x1014d12fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  33:     #26 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  34:     #27 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  35:     #28 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  36:     #29 0x1014cf607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  37:     #30 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  38:     #31 0x1014cf8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  39:     #32 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  40:     #33 0x1014cf903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  41:     #34 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  42:     #35 0x1014d1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  43:     #36 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  44:     #37 0x1014cc5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  45:     #38 0x1014ccda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  46:     #39 0x1014cd5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  47:     #40 0x1014b2e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  48:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  49: 
  50: 0x602000032512 is located 0 bytes to the right of 2-byte region [0x602000032510,0x602000032512)
  51: allocated by thread T0 here:
  52:     #0 0x10169effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  53:     #1 0x10151d49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  54:     #2 0x1015201bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  55:     #3 0x1014dbb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  56:     #4 0x1014dc15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  57:     #5 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  58:     #6 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  59:     #7 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  60:     #8 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  61:     #9 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  62:     #10 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  63:     #11 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  64:     #12 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  65:     #13 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  66:     #14 0x1014d2921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  67:     #15 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  68:     #16 0x1014cfa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  69:     #17 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  70:     #18 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  71:     #19 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  72:     #20 0x1014d27e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  73:     #21 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  74:     #22 0x1014cf9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  75:     #23 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  76:     #24 0x1014cf204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  77:     #25 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  78:     #26 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  79:     #27 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  80:     #28 0x1014d12fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  81:     #29 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  82: 
  83: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  84: Shadow bytes around the buggy address:
  85:   0x1c0400006450: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  86:   0x1c0400006460: fa fa 00 00 fa fa 02 fa fa fa 00 00 fa fa 00 00
  87:   0x1c0400006470: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 00
  88:   0x1c0400006480: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  89:   0x1c0400006490: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  90: =>0x1c04000064a0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  91:   0x1c04000064b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  92:   0x1c04000064c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  93:   0x1c04000064d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  94:   0x1c04000064e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  95:   0x1c04000064f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  96: Shadow byte legend (one shadow byte represents 8 application bytes):
  97:   Addressable:           00
  98:   Partially addressable: 01 02 03 04 05 06 07 
  99:   Heap left redzone:       fa
  100:   Freed heap region:       fd
  101:   Stack left redzone:      f1
  102:   Stack mid redzone:       f2
  103:   Stack right redzone:     f3
  104:   Stack after return:      f5
  105:   Stack use after scope:   f8
  106:   Global redzone:          f9
  107:   Global init order:       f6
  108:   Poisoned by user:        f7
  109:   Container overflow:      fc
  110:   Array cookie:            ac
  111:   Intra object redzone:    bb
  112:   ASan internal:           fe
  113:   Left alloca redzone:     ca
  114:   Right alloca redzone:    cb
  115: ==21975==ABORTING
  116:     #0 0x1014dad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  117:     #1 0x1014dc35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  118:     #2 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  119:     #3 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  120:     #4 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  121:     #5 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  122:     #6 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  123:     #7 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  124:     #8 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  125:     #9 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  126:     #10 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  127:     #11 0x1014d2921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  128:     #12 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  129:     #13 0x1014cfa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  130:     #14 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  131:     #15 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  132:     #16 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  133:     #17 0x1014d27e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  134:     #18 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  135:     #19 0x1014cf9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  136:     #20 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  137:     #21 0x1014cf204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  138:     #22 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  139:     #23 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  140:     #24 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  141:     #25 0x1014d12fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  142:     #26 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  143:     #27 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  144:     #28 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  145:     #29 0x1014cf607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  146:     #30 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  147:     #31 0x1014cf8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  148:     #32 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  149:     #33 0x1014cf903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  150:     #34 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  151:     #35 0x1014d1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  152:     #36 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  153:     #37 0x1014cc5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  154:     #38 0x1014ccda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  155:     #39 0x1014cd5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  156:     #40 0x1014b2e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  157:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  158: 
  159: 0x602000032512 is located 0 bytes to the right of 2-byte region [0x602000032510,0x602000032512)
  160: allocated by thread T0 here:
  161:     #0 0x10169effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  162:     #1 0x10151d49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  163:     #2 0x1015201bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  164:     #3 0x1014dbb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  165:     #4 0x1014dc15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  166:     #5 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  167:     #6 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  168:     #7 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  169:     #8 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  170:     #9 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  171:     #10 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  172:     #11 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  173:     #12 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  174:     #13 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  175:     #14 0x1014d2921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  176:     #15 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  177:     #16 0x1014cfa19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  178:     #17 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  179:     #18 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  180:     #19 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  181:     #20 0x1014d27e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  182:     #21 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  183:     #22 0x1014cf9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  184:     #23 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  185:     #24 0x1014cf204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  186:     #25 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  187:     #26 0x1014ea5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  188:     #27 0x1014eac3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  189:     #28 0x1014d12fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  190:     #29 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  191: 
  192: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  193: Shadow bytes around the buggy address:
  194:   0x1c0400006450: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  195:   0x1c0400006460: fa fa 00 00 fa fa 02 fa fa fa 00 00 fa fa 00 00
  196:   0x1c0400006470: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 00
  197:   0x1c0400006480: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  198:   0x1c0400006490: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  199: =>0x1c04000064a0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  200:   0x1c04000064b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  201:   0x1c04000064c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  202:   0x1c04000064d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  203:   0x1c04000064e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  204:   0x1c04000064f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  205: Shadow byte legend (one shadow byte represents 8 application bytes):
  206:   Addressable:           00
  207:   Partially addressable: 01 02 03 04 05 06 07 
  208:   Heap left redzone:       fa
  209:   Freed heap region:       fd
  210:   Stack left redzone:      f1
  211:   Stack mid redzone:       f2
  212:   Stack right redzone:     f3
  213:   Stack after return:      f5
  214:   Stack use after scope:   f8
  215:   Global redzone:          f9
  216:   Global init order:       f6
  217:   Poisoned by user:        f7
  218:   Container overflow:      fc
  219:   Array cookie:            ac
  220:   Intra object redzone:    bb
  221:   ASan internal:           fe
  222:   Left alloca redzone:     ca
  223:   Right alloca redzone:    cb
  224: ==21982==ABORTING
  225: =================================================================
  226: ==21936==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000032452 at pc 0x0001014dad6c bp 0x7fff5e74d010 sp 0x7fff5e74d008
  227: READ of size 1 at 0x602000032452 thread T0
  228:     #0 0x1014dad6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  229:     #1 0x1014dc35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  230:     #2 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  231:     #3 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  232:     #4 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  233:     #5 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  234:     #6 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  235:     #7 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  236:     #8 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  237:     #9 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  238:     #10 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  239:     #11 0x1014cf607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  240:     #12 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  241:     #13 0x1014cf944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  242:     #14 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  243:     #15 0x1014d1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  244:     #16 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  245:     #17 0x1014cc5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  246:     #18 0x1014ccda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  247:     #19 0x1014cd5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  248:     #20 0x1014b2e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  249:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  250: 
  251: 0x602000032452 is located 0 bytes to the right of 2-byte region [0x602000032450,0x602000032452)
  252: allocated by thread T0 here:
  253:     #0 0x10169effc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  254:     #1 0x10151d49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  255:     #2 0x1015201bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  256:     #3 0x1014dbb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  257:     #4 0x1014dc15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  258:     #5 0x1014daa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  259:     #6 0x10150b1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  260:     #7 0x101509ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  261:     #8 0x1014d20e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  262:     #9 0x1014d0b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  263:     #10 0x1014d1232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  264:     #11 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  265:     #12 0x1014ce2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  266:     #13 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  267:     #14 0x1014cf607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  268:     #15 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  269:     #16 0x1014cf944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  270:     #17 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  271:     #18 0x1014d1539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  272:     #19 0x1014ce155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  273:     #20 0x1014cc5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  274:     #21 0x1014ccda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  275:     #22 0x1014cd5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  276:     #23 0x1014b2e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  277:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  278: 
  279: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  280: Shadow bytes around the buggy address:
  281:   0x1c0400006430: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  282:   0x1c0400006440: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fa
  283:   0x1c0400006450: fa fa fd fa fa fa fd fa fa fa fd fd fa fa fd fa
  284:   0x1c0400006460: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  285:   0x1c0400006470: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  286: =>0x1c0400006480: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  287:   0x1c0400006490: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  288:   0x1c04000064a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  289:   0x1c04000064b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  290:   0x1c04000064c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  291:   0x1c04000064d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  292: Shadow byte legend (one shadow byte represents 8 application bytes):
  293:   Addressable:           00
  294:   Partially addressable: 01 02 03 04 05 06 07 
  295:   Heap left redzone:       fa
  296:   Freed heap region:       fd
  297:   Stack left redzone:      f1
  298:   Stack mid redzone:       f2
  299:   Stack right redzone:     f3
  300:   Stack after return:      f5
  301:   Stack use after scope:   f8
  302:   Global redzone:          f9
  303:   Global init order:       f6
  304:   Poisoned by user:        f7
  305:   Container overflow:      fc
  306:   Array cookie:            ac
  307:   Intra object redzone:    bb
  308:   ASan internal:           fe
  309:   Left alloca redzone:     ca
  310:   Right alloca redzone:    cb
  311: ==21936==ABORTING
  312: ./lib/main.sh: line 102: 21936 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/piping/002-pipes-inside-subshells[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that piped command may be executed inside a subshell command.[0m

  STDIN:
[38;5;239m  01: (cd / ; /Users/ade-sede/42ShellTester/tmp/display_pwd | /Users/ade-sede/42ShellTester/tmp/read_on_stdin | /Users/ade-sede/42ShellTester/tmp/read_on_stdin)
  02: ./write_on_stdout TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/ade-sede/42ShellTester/tmp`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `^PWD:/:PWD@@$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  01: PWD:/:PWD@@[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==22248==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031b92 at pc 0x000101507d6c bp 0x7fff5e720010 sp 0x7fff5e720008
  03: READ of size 1 at 0x602000031b92 thread T0
  04:     #0 0x101507d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10150935c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x101507a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x1015381ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x101536ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x1014ff0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x1014fdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x1014fe232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x1014fb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x1014fc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  16:     #12 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x1014fc944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  18:     #14 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x1014fe539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  20:     #16 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x1014f95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  22:     #18 0x1014f9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  23:     #19 0x1014fa5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  24:     #20 0x1014dfe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  25:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  26: 
  27: 0x602000031b92 is located 0 bytes to the right of 2-byte region [0x602000031b90,0x602000031b92)
  28: allocated by thread T0 here:
  29:     #0 0x1016cdffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  30:     #1 0x10154a49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  31:     #2 0x10154d1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  32:     #3 0x101508b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  33:     #4 0x10150915a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  34:     #5 0x101507a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  35:     #6 0x1015381ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  36:     #7 0x101536ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  37:     #8 0x1014ff0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  38:     #9 0x1014fdb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  39:     #10 0x1014fe232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  40:     #11 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #12 0x1014fb2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  42:     #13 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  43:     #14 0x1014fc607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  44:     #15 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  45:     #16 0x1014fc944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  46:     #17 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  47:     #18 0x1014fe539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  48:     #19 0x1014fb155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  49:     #20 0x1014f95c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  50:     #21 0x1014f9da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  51:     #22 0x1014fa5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  52:     #23 0x1014dfe4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  53:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  54: 
  55: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  56: Shadow bytes around the buggy address:
  57:   0x1c0400006320: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  58:   0x1c0400006330: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  59:   0x1c0400006340: fa fa 02 fa fa fa fd fa fa fa fd fa fa fa fd fa
  60:   0x1c0400006350: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  61:   0x1c0400006360: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  62: =>0x1c0400006370: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  63:   0x1c0400006380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  64:   0x1c0400006390: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  65:   0x1c04000063a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  66:   0x1c04000063b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  67:   0x1c04000063c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  68: Shadow byte legend (one shadow byte represents 8 application bytes):
  69:   Addressable:           00
  70:   Partially addressable: 01 02 03 04 05 06 07 
  71:   Heap left redzone:       fa
  72:   Freed heap region:       fd
  73:   Stack left redzone:      f1
  74:   Stack mid redzone:       f2
  75:   Stack right redzone:     f3
  76:   Stack after return:      f5
  77:   Stack use after scope:   f8
  78:   Global redzone:          f9
  79:   Global init order:       f6
  80:   Poisoned by user:        f7
  81:   Container overflow:      fc
  82:   Array cookie:            ac
  83:   Intra object redzone:    bb
  84:   ASan internal:           fe
  85:   Left alloca redzone:     ca
  86:   Right alloca redzone:    cb
  87: ==22248==ABORTING
  88: ./lib/main.sh: line 102: 22248 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/piping/003-imbricated-subshells-and-pipes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that pipes and subshells run twice together in harmony.[0m

  STDIN:
[38;5;239m  01: ( ( (cd / ; /Users/ade-sede/42ShellTester/tmp/display_pwd) | ./read_on_stdin) ) | ( ( (./read_on_stdin) ) | ./read_on_stdin )
  02: ./write_on_stdout TOKEN201711141851[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/ade-sede/42ShellTester/tmp`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD:/:PWD@@@$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==22533==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000033692 at pc 0x00010d3abd6c bp 0x7fff5287acf0 sp 0x7fff5287ace8
  03: READ of size 1 at 0x602000033692 thread T0
  04: =================================================================
  05: ==22535==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000033732 at pc 0x00010d3abd6c bp 0x7fff5287a2d0 sp 0x7fff5287a2c8
  06: READ of size 1 at 0x602000033732 thread T0
  07: =================================================================
  08: ==22537==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000033752 at pc 0x00010d3abd6c bp 0x7fff52879b30 sp 0x7fff52879b28
  09: READ of size 1 at 0x602000033752 thread T0
  10:     #0 0x10d3abd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  11:     #1 0x10d3ad35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  12:     #2 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  13:     #3 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  14:     #4 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  15:     #5 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  16:     #6 0x10d3a3308 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021308)
  17:     #7 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  18:     #8 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  19:     #9 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  20:     #10 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  21:     #11 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  22:     #12 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  23:     #13 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  24:     #14 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  25:     #15 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  26:     #16 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  27:     #17 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  28:     #18 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  29:     #19 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  30:     #20 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  31:     #21 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  32:     #22 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  33:     #23 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  34:     #24 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  35:     #25 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  36:     #26 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  37:     #27 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  38:     #28 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  39:     #29 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  40:     #30 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  41:     #31 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  42:     #32 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  43:     #33 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  44:     #34 0x10d3a0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  45:     #35 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  46:     #36 0x10d3a08c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  47:     #37 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  48:     #38 0x10d3a0903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  49:     #39 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  50:     #40 0x10d3a2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  51:     #41 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  52:     #42 0x10d39d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  53:     #43 0x10d39dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  54:     #44 0x10d39e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  55:     #45 0x10d383e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  56:     #46 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  57: 
  58: 0x602000033692 is located 0 bytes to the right of 2-byte region [0x602000033690,0x602000033692)
  59: allocated by thread T0 here:
  60:     #0 0x10d56fffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  61:     #1 0x10d3ee49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  62:     #2 0x10d3f11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  63:     #3 0x10d3acb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  64:     #4 0x10d3ad15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  65:     #5 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  66:     #6 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  67:     #7 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  68:     #8 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  69:     #9 0x10d3a3308 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021308)
  70:     #10 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  71:     #11 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  72:     #12 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #13 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  74:     #14 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  75:     #15 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  76:     #16 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #17 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  78:     #18 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79:     #19 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  80:     #20 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  81:     #21 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  82:     #22 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  83:     #23 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  84:     #24 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  85:     #25 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  86:     #26 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  87:     #27 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  88:     #28 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  89:     #29 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  90: 
  91: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  92: Shadow bytes around the buggy address:
  93:   0x1c0400006680: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  94:   0x1c0400006690: fa fa fd fa fa fa fd fa fa fa 00 00 fa fa 00 00
  95:   0x1c04000066a0: fa fa fd fa fa fa fd fa fa fa fd fa fa fa 00 00
  96:   0x1c04000066b0: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  97:   0x1c04000066c0: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  98: =>0x1c04000066d0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  99:   0x1c04000066e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  100:   0x1c04000066f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  101:   0x1c0400006700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  102:   0x1c0400006710: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  103:   0x1c0400006720: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  104: Shadow byte legend (one shadow byte represents 8 application bytes):
  105:   Addressable:           00
  106:   Partially addressable: 01 02 03 04 05 06 07 
  107:   Heap left redzone:       fa
  108:   Freed heap region:       fd
  109:   Stack left redzone:      f1
  110:   Stack mid redzone:       f2
  111:   Stack right redzone:     f3
  112:   Stack after return:      f5
  113:   Stack use after scope:   f8
  114:   Global redzone:          f9
  115:   Global init order:       f6
  116:   Poisoned by user:        f7
  117:   Container overflow:      fc
  118:   Array cookie:            ac
  119:   Intra object redzone:    bb
  120:   ASan internal:           fe
  121:   Left alloca redzone:     ca
  122:   Right alloca redzone:    cb
  123: ==22533==ABORTING
  124:     #0 0x10d3abd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  125:     #0 0x10d3abd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  126:     #1 0x10d3ad35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  127:     #2 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  128:     #1 0x10d3ad35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  129:     #2 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  130:     #3 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  131:     #3 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  132:     #4 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  133:     #4 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  134:     #5 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  135:     #5 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  136:     #6 0x10d3a3308 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021308)
  137:     #6 0x10d3a1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  138:     #7 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  139:     #7 0x10d3a2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  140:     #8 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  141:     #8 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  142:     #9 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  143:     #9 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  144:     #10 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  145:     #10 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  146:     #11 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  147:     #11 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  148:     #12 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  149:     #12 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  150:     #13 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  151:     #13 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  152:     #14 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  153:     #14 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  154:     #15 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  155:     #15 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  156:     #16 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  157:     #16 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  158:     #17 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  159:     #17 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  160:     #18 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  161:     #18 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  162:     #19 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  163:     #19 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  164:     #20 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  165:     #21 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  166:     #20 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  167:     #22 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  168:     #21 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  169:     #22 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  170:     #23 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  171:     #23 0x10d3a1915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  172:     #24 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  173:     #24 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  174:     #25 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  175:     #25 0x10d3a236e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  176:     #26 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  177:     #26 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  178:     #27 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  179:     #27 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  180:     #28 0x10d3a1915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  181:     #28 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  182:     #29 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  183:     #29 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  184:     #30 0x10d3a236e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  185:     #30 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  186:     #31 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  187:     #31 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  188:     #32 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  189:     #32 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  190:     #33 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  191:     #33 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  192:     #34 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  193:     #34 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  194:     #35 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  195:     #35 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  196:     #36 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  197:     #36 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  198:     #37 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  199:     #37 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  200:     #38 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  201:     #38 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  202:     #39 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  203:     #39 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  204:     #40 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  205:     #40 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  206:     #41 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  207:     #41 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  208:     #42 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  209:     #42 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  210:     #43 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  211:     #43 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  212:     #44 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  213:     #44 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  214:     #45 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  215:     #45 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  216:     #46 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  217:     #46 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  218:     #47 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  219:     #47 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  220:     #48 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  221:     #48 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  222:     #49 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  223:     #49 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  224:     #50 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  225:     #50 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  226:     #51 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  227:     #51 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  228:     #52 0x10d3a0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  229:     #52 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  230:     #53 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  231:     #53 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  232:     #54 0x10d3a08c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  233:     #55 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  234:     #54 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  235:     #56 0x10d3a0903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  236:     #55 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  237:     #57 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  238:     #56 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  239:     #58 0x10d3a2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  240:     #57 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  241:     #59 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  242:     #58 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  243:     #59 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  244:     #60 0x10d39d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  245:     #60 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  246:     #61 0x10d39dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  247:     #61 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  248:     #62 0x10d39e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  249:     #63 0x10d383e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  250:     #62 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  251:     #63 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  252:     #64 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  253:     #65 0x10d3a0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  254:     #66 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  255:     #64 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  256: 
  257:     #67 0x10d3a08c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  258:     #68 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  259: 0x602000033732 is located 0 bytes to the right of 2-byte region [0x602000033730,0x602000033732)
  260:     #69 0x10d3a0903 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e903)
  261:     #70 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  262: allocated by thread T0 here:
  263:     #71 0x10d3a2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  264:     #72 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  265:     #73 0x10d39d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  266:     #74 0x10d39dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  267:     #75 0x10d39e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  268:     #76 0x10d383e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  269:     #77 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  270: 
  271: 0x602000033752 is located 0 bytes to the right of 2-byte region [0x602000033750,0x602000033752)
  272: allocated by thread T0 here:
  273:     #0 0x10d56fffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  274:     #1 0x10d3ee49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  275:     #2 0x10d3f11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  276:     #3 0x10d3acb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  277:     #4 0x10d3ad15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  278:     #5 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  279:     #6 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  280:     #7 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  281:     #8 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  282:     #9 0x10d3a3308 in exec_simple_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021308)
  283:     #10 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  284:     #11 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  285:     #12 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  286:     #13 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  287:     #0 0x10d56fffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  288:     #14 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  289:     #1 0x10d3ee49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  290:     #15 0x10d3a22fb in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000202fb)
  291:     #2 0x10d3f11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  292:     #16 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  293:     #17 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  294:     #3 0x10d3acb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  295:     #18 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  296:     #4 0x10d3ad15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  297:     #19 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  298:     #5 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  299:     #20 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  300:     #6 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  301:     #7 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  302:     #21 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  303:     #8 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  304:     #22 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  305:     #23 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  306:     #9 0x10d3a1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  307:     #24 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  308:     #10 0x10d3a2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  309:     #25 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  310:     #11 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  311:     #26 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  312:     #12 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  313:     #27 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  314:     #13 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  315:     #14 0x10d3a3921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  316:     #28 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  317:     #15 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  318:     #29 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  319:     #16 0x10d3a0a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  320: 
  321:     #17 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  322:     #18 0x10d3bb5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  323: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  324:     #19 0x10d3bbc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  325:     #20 0x10d3a37e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  326:     #21 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  327:     #22 0x10d3a09b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  328:     #23 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  329:     #24 0x10d3a0204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  330:     #25 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  331:     #26 0x10d3a1915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  332: Shadow bytes around the buggy address:
  333:   0x1c0400006690: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  334:   0x1c04000066a0: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  335:   0x1c04000066b0: fa fa 00 00 fa fa fd fa fa fa fd fa fa fa fd fa
  336:   0x1c04000066c0: fa fa 00 00 fa fa fd fd fa fa 00 00 fa fa fd fd
  337:   0x1c04000066d0: fa fa fd fd fa fa 00 fa fa fa 02 fa fa fa fd fa
  338: =>0x1c04000066e0: fa fa fd fa fa fa[02]fa fa fa fa fa fa fa fa fa
  339:   0x1c04000066f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  340:   0x1c0400006700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  341:   0x1c0400006710: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  342:   0x1c0400006720: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  343:   0x1c0400006730: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  344: Shadow byte legend (one shadow byte represents 8 application bytes):
  345:   Addressable:           00
  346:   Partially addressable: 01 02 03 04 05 06 07 
  347:   Heap left redzone:       fa
  348:   Freed heap region:       fd
  349:   Stack left redzone:      f1
  350:   Stack mid redzone:       f2
  351:   Stack right redzone:     f3
  352:   Stack after return:      f5
  353:   Stack use after scope:   f8
  354:   Global redzone:          f9
  355:   Global init order:       f6
  356:   Poisoned by user:        f7
  357:   Container overflow:      fc
  358:   Array cookie:            ac
  359:   Intra object redzone:    bb
  360:   ASan internal:           fe
  361:   Left alloca redzone:     ca
  362:   Right alloca redzone:    cb
  363:     #27 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  364:     #28 0x10d3a236e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  365:     #29 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  366: 
  367: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  368: Shadow bytes around the buggy address:
  369:   0x1c0400006690: fa fa fd fa fa fa fd fa fa fa 00 00 fa fa 00 00
  370:   0x1c04000066a0: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa 02 fa
  371:   0x1c04000066b0: fa fa 00 00 fa fa 00 00 fa fa fd fa fa fa fd fa
  372:   0x1c04000066c0: fa fa fd fa fa fa 00 00 fa fa fd fd fa fa 00 00
  373:   0x1c04000066d0: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  374: =>0x1c04000066e0: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  375:   0x1c04000066f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  376:   0x1c0400006700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  377:   0x1c0400006710: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  378:   0x1c0400006720: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  379:   0x1c0400006730: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  380: Shadow byte legend (one shadow byte represents 8 application bytes):
  381:   Addressable:           00
  382:   Partially addressable: 01 02 03 04 05 06 07 
  383:   Heap left redzone:       fa
  384:   Freed heap region:       fd
  385:   Stack left redzone:      f1
  386:   Stack mid redzone:       f2
  387:   Stack right redzone:     f3
  388:   Stack after return:      f5
  389:   Stack use after scope:   f8
  390:   Global redzone:          f9
  391:   Global init order:       f6
  392:   Poisoned by user:        f7
  393:   Container overflow:      fc
  394:   Array cookie:            ac
  395:   Intra object redzone:    bb
  396:   ASan internal:           fe
  397:   Left alloca redzone:     ca
  398:   Right alloca redzone:    cb
  399: ==22535==ABORTING
  400: ==22537==ABORTING
  401: =================================================================
  402: ==22523==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000033512 at pc 0x00010d3abd6c bp 0x7fff5287c010 sp 0x7fff5287c008
  403: READ of size 1 at 0x602000033512 thread T0
  404:     #0 0x10d3abd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  405:     #1 0x10d3ad35c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  406:     #2 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  407:     #3 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  408:     #4 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  409:     #5 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  410:     #6 0x10d3a1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  411:     #7 0x10d3a2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  412:     #8 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  413:     #9 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  414:     #10 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  415:     #11 0x10d3a0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  416:     #12 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  417:     #13 0x10d3a0944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  418:     #14 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  419:     #15 0x10d3a2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  420:     #16 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  421:     #17 0x10d39d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  422:     #18 0x10d39dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  423:     #19 0x10d39e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  424:     #20 0x10d383e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  425:     #21 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  426: 
  427: 0x602000033512 is located 0 bytes to the right of 2-byte region [0x602000033510,0x602000033512)
  428: allocated by thread T0 here:
  429:     #0 0x10d56fffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  430:     #1 0x10d3ee49f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  431:     #2 0x10d3f11bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  432:     #3 0x10d3acb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  433:     #4 0x10d3ad15a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  434:     #5 0x10d3aba1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  435:     #6 0x10d3dc1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  436:     #7 0x10d3daff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  437:     #8 0x10d3a30e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  438:     #9 0x10d3a1b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  439:     #10 0x10d3a2232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  440:     #11 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  441:     #12 0x10d39f2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  442:     #13 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  443:     #14 0x10d3a0607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  444:     #15 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  445:     #16 0x10d3a0944 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e944)
  446:     #17 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  447:     #18 0x10d3a2539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  448:     #19 0x10d39f155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  449:     #20 0x10d39d5c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  450:     #21 0x10d39dda9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  451:     #22 0x10d39e5ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  452:     #23 0x10d383e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  453:     #24 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  454: 
  455: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  456: Shadow bytes around the buggy address:
  457:   0x1c0400006650: fa fa fd fa fa fa fd fa fa fa fd fa fa fa fd fa
  458:   0x1c0400006660: fa fa fd fa fa fa fd fa fa fa fd fd fa fa fd fd
  459:   0x1c0400006670: fa fa fd fd fa fa fd fa fa fa fd fa fa fa fd fa
  460:   0x1c0400006680: fa fa fd fd fa fa 00 00 fa fa fd fd fa fa fd fd
  461:   0x1c0400006690: fa fa 00 fa fa fa 02 fa fa fa fd fa fa fa fd fa
  462: =>0x1c04000066a0: fa fa[02]fa fa fa fa fa fa fa fa fa fa fa fa fa
  463:   0x1c04000066b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  464:   0x1c04000066c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  465:   0x1c04000066d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  466:   0x1c04000066e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  467:   0x1c04000066f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  468: Shadow byte legend (one shadow byte represents 8 application bytes):
  469:   Addressable:           00
  470:   Partially addressable: 01 02 03 04 05 06 07 
  471:   Heap left redzone:       fa
  472:   Freed heap region:       fd
  473:   Stack left redzone:      f1
  474:   Stack mid redzone:       f2
  475:   Stack right redzone:     f3
  476:   Stack after return:      f5
  477:   Stack use after scope:   f8
  478:   Global redzone:          f9
  479:   Global init order:       f6
  480:   Poisoned by user:        f7
  481:   Container overflow:      fc
  482:   Array cookie:            ac
  483:   Intra object redzone:    bb
  484:   ASan internal:           fe
  485:   Left alloca redzone:     ca
  486:   Right alloca redzone:    cb
  487: ==22523==ABORTING
  488: ./lib/main.sh: line 102: 22523 Abort trap: 6           /Users/ade-sede/projects/42sh/42sh[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/quoting/001-with-simple-quotes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the command line parser correctly takes in account the inhibitor symbol `'`.[0m

  STDIN:
[38;5;239m  01: (./write_on_stdout 'TOKEN201711141851_FIRST)' ; (./write_on_stdout '(TOKEN201711141851_SECOND') )[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_FIRST`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_SECOND`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==22873==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031352 at pc 0x00010d06fd6c bp 0x7fff52bb7530 sp 0x7fff52bb7528
  03: READ of size 1 at 0x602000031352 thread T0
  04:     #0 0x10d06fd6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10d07135c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10d06fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10d0a01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10d09eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10d0670e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10d065b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10d066232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10d0632a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10d067921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10d067963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  18:     #14 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10d064a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  20:     #16 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10d07f5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  22:     #18 0x10d07fc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  23:     #19 0x10d0677e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  24:     #20 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x10d0649b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  26:     #22 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x10d064204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  28:     #24 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x10d065915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  30:     #26 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x10d06636e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  32:     #28 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x10d0632a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  34:     #30 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x10d064607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  36:     #32 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x10d0648c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  38:     #34 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x10d066539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  40:     #36 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #37 0x10d0615c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  42:     #38 0x10d061da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  43:     #39 0x10d0625ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  44:     #40 0x10d047e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  45:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  46: 
  47: 0x602000031352 is located 0 bytes to the right of 2-byte region [0x602000031350,0x602000031352)
  48: allocated by thread T0 here:
  49:     #0 0x10d239ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  50:     #1 0x10d0b249f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  51:     #2 0x10d0b51bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  52:     #3 0x10d070b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  53:     #4 0x10d07115a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  54:     #5 0x10d06fa1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  55:     #6 0x10d0a01ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  56:     #7 0x10d09eff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  57:     #8 0x10d0670e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  58:     #9 0x10d065b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  59:     #10 0x10d066232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  60:     #11 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #12 0x10d0632a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  62:     #13 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #14 0x10d067921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  64:     #15 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #16 0x10d067963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  66:     #17 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #18 0x10d064a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  68:     #19 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #20 0x10d07f5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  70:     #21 0x10d07fc3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  71:     #22 0x10d0677e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  72:     #23 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #24 0x10d0649b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  74:     #25 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #26 0x10d064204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  76:     #27 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #28 0x10d065915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  78:     #29 0x10d063155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79: 
  80: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  81: Shadow bytes around the buggy address:
  82:   0x1c0400006210: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  83:   0x1c0400006220: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  84:   0x1c0400006230: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  85:   0x1c0400006240: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  86:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  87: =>0x1c0400006260: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  88:   0x1c0400006270: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006290: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  92:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  93: Shadow byte legend (one shadow byte represents 8 application bytes):
  94:   Addressable:           00
  95:   Partially addressable: 01 02 03 04 05 06 07 
  96:   Heap left redzone:       fa
  97:   Freed heap region:       fd
  98:   Stack left redzone:      f1
  99:   Stack mid redzone:       f2
  100:   Stack right redzone:     f3
  101:   Stack after return:      f5
  102:   Stack use after scope:   f8
  103:   Global redzone:          f9
  104:   Global init order:       f6
  105:   Poisoned by user:        f7
  106:   Container overflow:      fc
  107:   Array cookie:            ac
  108:   Intra object redzone:    bb
  109:   ASan internal:           fe
  110:   Left alloca redzone:     ca
  111:   Right alloca redzone:    cb
  112: ==22873==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/quoting/002-with-double-quotes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the command line parser correctly takes in account the inhibitor symbol `"`.[0m

  STDIN:
[38;5;239m  01: (./write_on_stdout "TOKEN201711141851_FIRST)" ; (./write_on_stdout "(TOKEN201711141851_SECOND") )[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_FIRST`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_SECOND`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==23101==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031352 at pc 0x000103f26d6c bp 0x7fff5bd00530 sp 0x7fff5bd00528
  03: READ of size 1 at 0x602000031352 thread T0
  04:     #0 0x103f26d6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x103f2835c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x103f26a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x103f571ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x103f55ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x103f1e0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x103f1cb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x103f1d232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x103f1a2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x103f1e921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x103f1e963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  18:     #14 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x103f1ba19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  20:     #16 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x103f365bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  22:     #18 0x103f36c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  23:     #19 0x103f1e7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  24:     #20 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x103f1b9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  26:     #22 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x103f1b204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  28:     #24 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x103f1c915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  30:     #26 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x103f1d36e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  32:     #28 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x103f1a2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  34:     #30 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x103f1b607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  36:     #32 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x103f1b8c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  38:     #34 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x103f1d539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  40:     #36 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #37 0x103f185c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  42:     #38 0x103f18da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  43:     #39 0x103f195ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  44:     #40 0x103efee4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  45:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  46: 
  47: 0x602000031352 is located 0 bytes to the right of 2-byte region [0x602000031350,0x602000031352)
  48: allocated by thread T0 here:
  49:     #0 0x1040efffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  50:     #1 0x103f6949f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  51:     #2 0x103f6c1bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  52:     #3 0x103f27b6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  53:     #4 0x103f2815a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  54:     #5 0x103f26a1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  55:     #6 0x103f571ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  56:     #7 0x103f55ff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  57:     #8 0x103f1e0e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  58:     #9 0x103f1cb15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  59:     #10 0x103f1d232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  60:     #11 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #12 0x103f1a2a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  62:     #13 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #14 0x103f1e921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  64:     #15 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #16 0x103f1e963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  66:     #17 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #18 0x103f1ba19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  68:     #19 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #20 0x103f365bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  70:     #21 0x103f36c3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  71:     #22 0x103f1e7e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  72:     #23 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #24 0x103f1b9b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  74:     #25 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #26 0x103f1b204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  76:     #27 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #28 0x103f1c915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  78:     #29 0x103f1a155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79: 
  80: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  81: Shadow bytes around the buggy address:
  82:   0x1c0400006210: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  83:   0x1c0400006220: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  84:   0x1c0400006230: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  85:   0x1c0400006240: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  86:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  87: =>0x1c0400006260: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  88:   0x1c0400006270: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006290: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  92:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  93: Shadow byte legend (one shadow byte represents 8 application bytes):
  94:   Addressable:           00
  95:   Partially addressable: 01 02 03 04 05 06 07 
  96:   Heap left redzone:       fa
  97:   Freed heap region:       fd
  98:   Stack left redzone:      f1
  99:   Stack mid redzone:       f2
  100:   Stack right redzone:     f3
  101:   Stack after return:      f5
  102:   Stack use after scope:   f8
  103:   Global redzone:          f9
  104:   Global init order:       f6
  105:   Poisoned by user:        f7
  106:   Container overflow:      fc
  107:   Array cookie:            ac
  108:   Intra object redzone:    bb
  109:   ASan internal:           fe
  110:   Left alloca redzone:     ca
  111:   Right alloca redzone:    cb
  112: ==23101==ABORTING[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/quoting/003-with-simple-and-double-quotes[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the command line parser correctly takes in account the inhibitor symbols `'` and `"`.[0m

  STDIN:
[38;5;239m  01: (./write_on_stdout "TOKEN201711141851_FIRST)" ; (./write_on_stdout '(TOKEN201711141851_SECOND') )[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_FIRST`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711141851_SECOND`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==23334==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000031352 at pc 0x00010b39ed6c bp 0x7fff54888530 sp 0x7fff54888528
  03: READ of size 1 at 0x602000031352 thread T0
  04:     #0 0x10b39ed6b in match (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b)
  05:     #1 0x10b3a035c in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b35c)
  06:     #2 0x10b39ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  07:     #3 0x10b3cf1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  08:     #4 0x10b3cdff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  09:     #5 0x10b3960e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  10:     #6 0x10b394b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  11:     #7 0x10b395232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  12:     #8 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  13:     #9 0x10b3922a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  14:     #10 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  15:     #11 0x10b396921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  16:     #12 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  17:     #13 0x10b396963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  18:     #14 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  19:     #15 0x10b393a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  20:     #16 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  21:     #17 0x10b3ae5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  22:     #18 0x10b3aec3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  23:     #19 0x10b3967e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  24:     #20 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  25:     #21 0x10b3939b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  26:     #22 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  27:     #23 0x10b393204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  28:     #24 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  29:     #25 0x10b394915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  30:     #26 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  31:     #27 0x10b39536e in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002036e)
  32:     #28 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  33:     #29 0x10b3922a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  34:     #30 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  35:     #31 0x10b393607 in exec_complete_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e607)
  36:     #32 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  37:     #33 0x10b3938c1 in exec_complete_commands (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e8c1)
  38:     #34 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  39:     #35 0x10b395539 in exec_program (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020539)
  40:     #36 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  41:     #37 0x10b3905c5 in exec_main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001b5c5)
  42:     #38 0x10b390da9 in lex_and_parse (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001bda9)
  43:     #39 0x10b3915ce in main_loop (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001c5ce)
  44:     #40 0x10b376e4b in main (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100001e4b)
  45:     #41 0x7fffa96eb234 in start (/usr/lib/system/libdyld.dylib:x86_64+0x5234)
  46: 
  47: 0x602000031352 is located 0 bytes to the right of 2-byte region [0x602000031350,0x602000031352)
  48: allocated by thread T0 here:
  49:     #0 0x10b562ffc in wrap_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/9.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64+0x55ffc)
  50:     #1 0x10b3e149f in palloc (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006c49f)
  51:     #2 0x10b3e41bb in ft_strdup (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10006f1bb)
  52:     #3 0x10b39fb6c in match_open_file (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002ab6c)
  53:     #4 0x10b3a015a in match_open_dir (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10002b15a)
  54:     #5 0x10b39ea1a in glob (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029a1a)
  55:     #6 0x10b3cf1ef in pathname_expension (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10005a1ef)
  56:     #7 0x10b3cdff6 in word_expansion (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100058ff6)
  57:     #8 0x10b3960e7 in get_cmd_name (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000210e7)
  58:     #9 0x10b394b15 in pipe_sequence_has_to_fork (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001fb15)
  59:     #10 0x10b395232 in exec_pipeline (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100020232)
  60:     #11 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  61:     #12 0x10b3922a1 in exec_and_or (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d2a1)
  62:     #13 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  63:     #14 0x10b396921 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021921)
  64:     #15 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  65:     #16 0x10b396963 in exec_term (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100021963)
  66:     #17 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  67:     #18 0x10b393a19 in exec_compound_list (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001ea19)
  68:     #19 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  69:     #20 0x10b3ae5bf in launch_process (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000395bf)
  70:     #21 0x10b3aec3d in launch_job (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100039c3d)
  71:     #22 0x10b3967e7 in exec_subshell (/Users/ade-sede/projects/42sh/42sh:x86_64+0x1000217e7)
  72:     #23 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  73:     #24 0x10b3939b5 in exec_compound_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e9b5)
  74:     #25 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  75:     #26 0x10b393204 in exec_command (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001e204)
  76:     #27 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  77:     #28 0x10b394915 in exec_pipe_sequence (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001f915)
  78:     #29 0x10b392155 in exec (/Users/ade-sede/projects/42sh/42sh:x86_64+0x10001d155)
  79: 
  80: SUMMARY: AddressSanitizer: heap-buffer-overflow (/Users/ade-sede/projects/42sh/42sh:x86_64+0x100029d6b) in match
  81: Shadow bytes around the buggy address:
  82:   0x1c0400006210: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  83:   0x1c0400006220: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa 00 00
  84:   0x1c0400006230: fa fa 02 fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  85:   0x1c0400006240: fa fa fd fa fa fa fd fa fa fa fd fd fa fa 00 00
  86:   0x1c0400006250: fa fa fd fd fa fa fd fd fa fa 00 fa fa fa 02 fa
  87: =>0x1c0400006260: fa fa fd fa fa fa fd fa fa fa[02]fa fa fa fa fa
  88:   0x1c0400006270: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  89:   0x1c0400006280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  90:   0x1c0400006290: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  91:   0x1c04000062a0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  92:   0x1c04000062b0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  93: Shadow byte legend (one shadow byte represents 8 application bytes):
  94:   Addressable:           00
  95:   Partially addressable: 01 02 03 04 05 06 07 
  96:   Heap left redzone:       fa
  97:   Freed heap region:       fd
  98:   Stack left redzone:      f1
  99:   Stack mid redzone:       f2
  100:   Stack right redzone:     f3
  101:   Stack after return:      f5
  102:   Stack use after scope:   f8
  103:   Global redzone:          f9
  104:   Global init order:       f6
  105:   Poisoned by user:        f7
  106:   Container overflow:      fc
  107:   Array cookie:            ac
  108:   Intra object redzone:    bb
  109:   ASan internal:           fe
  110:   Left alloca redzone:     ca
  111:   Right alloca redzone:    cb
  112: ==23334==ABORTING[0m

Total tests: 162
Total failed tests: 130
Total pending tests: 0
