[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;160mx[0m[31m[38;5;160mx[0m[31m[1;33m~[0m[31m[38;5;160mx[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m[31m[38;5;34m.[0m                                                                                                                                                                            

----------------------------------------------------------------

[37;1m21sh/misc/002-simple-command-line[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell is able to execute a simple command line that contains separators `;`, pipes `|`, and a right redirection `>`.[0m

  Before test:
[38;5;239m  01: rm -rf "./size"
  02: rm -rf "TOKEN201711180618"
  03: echo '^'$(echo TOKEN201711180618_FILE_TOKEN201711180618_STDOUT | wc -c)'$' > "./size"[0m

  STDIN:
[38;5;239m  01: mkdir TOKEN201711180618 ; cd TOKEN201711180618 ; touch TOKEN201711180618_FILE ; ls -1 ; ls | cat | wc -c > TOKEN201711180618_STDOUT ; cat TOKEN201711180618_STDOUT[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618_FILE$`[0m
[31m[38;5;160m  FAILURE    expected_to match_each_regex_of_file `./size`[0m
[38;5;239m  01: TOKEN201711180618_FILE
  02:       23[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m21sh/pipe/mixed/001-exit-or-not-exit[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  Calling the built-in `exit` in a piped process does not result in a Shell termination.
  In this test, the two commands `echo` are nevertheless executed.[0m

  STDIN:
[38;5;239m  01: exit | ./write_on_stdout TOKEN201711180618_1
  02: ./write_on_stdout TOKEN201711180618_2[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: TOKEN201711180618_1
  02: TOKEN201711180618_2[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: open: Bad address[0m

----------------------------------------------------------------

[37;1m21sh/redirections/inputs/001-close-stdin[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the closing operator `&-` within the STDIN redirection `<` results in a closed standard input, so that `read(2)` results in a read error.[0m

  Before test:
[38;5;239m  01: rm -f ./read_on_stdin
  02: gcc -Wall -Werror -Wextra "/Users/vcombey/42ShellTester/support/read-on-stdin/main.c" -o ./read_on_stdin[0m

  STDIN:
[38;5;239m  01: ./read_on_stdin <&-[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    might be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `STDIN READ ERROR$`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to exit_with_status `1`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/inputs/002-filename[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a file path `simple_text_file` within the STDIN redirection `<` results in the ability of the child process to read on this file through the file descriptor STDIN.[0m

  Before test:
[38;5;239m  01: echo "TOKEN201711180618_LINE_1" > simple_text_file
  02: echo "TOKEN201711180618_LINE_2" >> simple_text_file
  03: echo "TOKEN201711180618_LINE_3" >> simple_text_file[0m

  STDIN:
[38;5;239m  01: ./read_on_stdin <simple_text_file[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_3`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/inputs/003-filename-with-whitespaces[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a file path `simple_text_file` within the STDIN redirection `<` results in the ability of the child process to read on this file through the file descriptor STDIN.
  The file path is specified in a separated field.[0m

  Before test:
[38;5;239m  01: echo "TOKEN201711180618_LINE_1" > simple_text_file
  02: echo "TOKEN201711180618_LINE_2" >> simple_text_file
  03: echo "TOKEN201711180618_LINE_3" >> simple_text_file[0m

  STDIN:
[38;5;239m  01: ./read_on_stdin < 	 simple_text_file[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_3`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/inputs/004-absolute-path[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using an absolute path to a file within the STDIN redirection `<` results in the ability of the child process to read on this file through the file descriptor STDIN.[0m

  Before test:
[38;5;239m  01: echo "TOKEN201711180618_LINE_1" > simple_text_file
  02: echo "TOKEN201711180618_LINE_2" >> simple_text_file
  03: echo "TOKEN201711180618_LINE_3" >> simple_text_file[0m

  STDIN:
[38;5;239m  01: ./read_on_stdin </Users/vcombey/42ShellTester/tmp/simple_text_file[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_LINE_3`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/appending/002-append-stdout-to-file[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A double right redirection opens the file with the oflag `O_APPEND`, so that its size is not truncated to 0 and output is written at the end of file. If the file does not exist, it is created.
  In this test, the standard output is appended to the file.[0m

  Before test:
[38;5;239m  01: ./write_on_stdout "TOKEN201711180618_first" >append_file_stdout[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_stdout TOKEN201711180618_stderr 1>>append_file_stdout[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stdout`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_stderr`[0m
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to create_file `append_file_stdout` matching_regex `TOKEN201711180618_first`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `append_file_stdout` matching_regex `TOKEN201711180618_stdout`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/appending/003-append-stderr-to-file[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A double right redirection opens the file with the oflag `O_APPEND`, so that its size is not truncated to 0 and output is written at the end of file. If the file does not exist, it is created.
  In this test, the standard error is appended to the file.[0m

  Before test:
[38;5;239m  01: ./write_on_stdout "TOKEN201711180618_first" >append_file_stderr[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_stdout TOKEN201711180618_stderr 2>>append_file_stderr[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_stdout`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stderr`[0m
[38;5;239m  01: 42sh: parse error near `2'[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to create_file `append_file_stderr` matching_regex `TOKEN201711180618_first`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `append_file_stderr` matching_regex `TOKEN201711180618_stderr`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/appending/multiple/001-append-twice-separately[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A double right redirection opens the file with the oflag `O_APPEND`, so that its size is not truncated to 0 and output is written at the end of file. If the file does not exist, it is created.
  In this test, each output is appended to different files.[0m

  Before test:
[38;5;239m  01: ./write_on_stdout "TOKEN201711180618_stdout_first" >append_file_stdout
  02: ./write_on_stdout "TOKEN201711180618_stderr_first" >append_file_stderr[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_stdout_second TOKEN201711180618_stderr_second 1>>append_file_stdout 2>>append_file_stderr[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stdout_second`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stderr_second`[0m
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to create_file `append_file_stdout` matching_regex `TOKEN201711180618_stdout_first$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `append_file_stdout` matching_regex `TOKEN201711180618_stdout_second$`[0m
[31m[38;5;34m  SUCCESS    expected_to create_file `append_file_stderr` matching_regex `TOKEN201711180618_stderr_first$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `append_file_stderr` matching_regex `TOKEN201711180618_stderr_second$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/closing/002-close-stdout[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  Closing the standard output has the same behavior as redirecting to `/dev/null` (e.g. `ls 1>/dev/null`).[0m

  Before test:
[38;5;239m  01: rm -f "-"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_stdout TOKEN201711180618_stderr 1>&-[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stdout`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_stderr`[0m
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not create_file `-`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/closing/003-close-stderr[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  Closing the standard error has the same behavior as redirecting to `/dev/null` (e.g. `ls 2>/dev/null`).[0m

  Before test:
[38;5;239m  01: rm -f "-"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_stdout TOKEN201711180618_stderr 2>&-[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_stdout`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_stderr`[0m
[38;5;239m  01: 42sh: parse error near `2'[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not create_file `-`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/multiple/001-separately[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A different right redirection may be specified for each output.[0m

  Before test:
[38;5;239m  01: rm -f "new_file_stderr"
  02: rm -f "new_file_stdout"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_1 TOKEN201711180618_2 1>new_file_stdout 2>new_file_stderr[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stdout` matching_regex `TOKEN201711180618_1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr` matching_regex `TOKEN201711180618_2$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/multiple/002-together-stdout-first[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A right redirection can be associated to the twice outputs by using `M>&N`, that means `redirect M to where N is redirected`.
  In this test the standard output is specified first.[0m

  Before test:
[38;5;239m  01: rm -f new_file_stderr_and_stdout[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_1 TOKEN201711180618_2 1>new_file_stderr_and_stdout 2>&1[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_2$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/multiple/003-together-stderr-first[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A right redirection can be associated to the twice outputs by using `M>&N`, that means `redirect M to where N is redirected`.
  In this test the standard error is specified first.[0m

  Before test:
[38;5;239m  01: rm -f new_file_stderr_and_stdout[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_1 TOKEN201711180618_2 2>new_file_stderr_and_stdout 1>&2[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: 42sh: parse error near `2'[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_2$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/multiple/004-together[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A right redirection can be associated to the twice outputs by using `&>...`, that means `redirect stdout and stderr to ...`.[0m

  Before test:
[38;5;239m  01: rm -f "new_file_stderr_and_stdout"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_1 TOKEN201711180618_2 &>new_file_stderr_and_stdout[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: TOKEN201711180618_1[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: TOKEN201711180618_2[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_2$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/multiple/005-together-with-whitespaces[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  A right redirection can be associated to the twice outputs by using `&>...`, that means `redirect stdout and stderr to ...`.
  In this test, we specify the file name in a separate field.[0m

  Before test:
[38;5;239m  01: rm -f new_file_stderr_and_stdout[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_1 TOKEN201711180618_2 &>	  	new_file_stderr_and_stdout[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: TOKEN201711180618_1[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_1`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618_2`[0m
[38;5;239m  01: TOKEN201711180618_2[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr_and_stdout` matching_regex `TOKEN201711180618_2$`[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/stderr/001-works[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that redirecting the standard error STDERR to a file `2>` works. In this test, the binary writes a token on each standard and error output, so that only the STDOUT is outputted and STDERR is written in a file `new_file_stderr`.[0m

  Before test:
[38;5;239m  01: rm -f "./new_file_stderr"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr TOKEN201711180618_STDOUT TOKEN201711180618_STDERR 2>new_file_stderr[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_STDOUT`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_STDERR`[0m
[38;5;239m  01: 42sh: parse error near `2'[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr` matching_regex `TOKEN201711180618_STDERR`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `new_file_stderr` with_nb_of_lines 1[0m

----------------------------------------------------------------

[37;1m21sh/redirections/outputs/truncating/stdout/001-with-explicit-fd[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if '1>' redirect STDIN to a file.
  We are using echo with one argument. The output should NOT return anything on the standard output.[0m

  Before test:
[38;5;239m  01: rm -f new_file[0m

  STDIN:
[38;5;239m  01: /bin/echo TOKEN1 1>new_file[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex TOKEN1[0m
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  01: 42sh: parse error near `1'[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file new_file matching_regex TOKEN1[0m
[31m[38;5;160m  FAILURE    expected_to create_file new_file with_nb_of_lines 1[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/005-export-empty-variable-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that exporting an empty variable does not add it to the environment, but can be displayed with the builtin `export`.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: export TOKEN201711180618
  02: export[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618`[0m
[38;5;239m  01: TERM_PROGRAM=iTerm.app
  02: TERM=xterm-256color
  03: SHELL=42sh
  04: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  05: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  06: TERM_PROGRAM_VERSION=3.1.5
  07: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  08: ZSH=/Users/vcombey/.oh-my-zsh
  09: USER=vcombey
  10: COMMAND_MODE=unix2003
  11: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  12: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  13: PAGER=less
  14: LSCOLORS=Gxfxcxdxbxegedabagacad
  15: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  16: PWD=/Users/vcombey/42ShellTester/tmp
  17: BASE16_THEME=base16-nord
  18: ITERM_PROFILE=Default
  19: XPC_FLAGS=0x0
  20: XPC_SERVICE_NAME=0
  21: SHLVL=3
  22: HOME=/Users/vcombey
  23: COLORFGBG=7;0
  24: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  25: LESS=-R
  26: LOGNAME=vcombey
  27: LC_CTYPE=UTF-8
  28: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  29: SECURITYSESSIONID=186a6
  30: COLORTERM=truecolor
  31: OLDPWD=/Users/vcombey/42ShellTester
  32: _=/Users/vcombey/42/42sh/42sh
  33: HISTFILE=/Users/vcombey/.42sh_history[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/001-invalid-identifier-1[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that trying to export an invalid variable identifier results in error.[0m

  STDIN:
[38;5;239m  01: export 42=TOKEN201711180618[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `(not.*identifier|must begin.*letter)`[0m
[38;5;239m  01: 42: Wrong assignement :: key cannot be fully numeric or contain reserved symbols[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/002-invalid-identifier-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that trying to export an invalid variable identifier results in error.[0m

  STDIN:
[38;5;239m  01: export .=TOKEN201711180618[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `(not.*identifier|must begin.*letter)`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/errors/003-illegal-option[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the builtin `export` with an illegal option results in an error and a failure exit status.[0m

  STDIN:
[38;5;239m  01: export -w[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Ii]nvalid|[Ii]llegal) (option|argument)`[0m
[38;5;239m  01: Wrong option -w[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/options/002-export-p-param-and-token-should-add-local-var-only-part1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check if export with -p option + token , add the variable into export list but not in env list. And don't display the export variable on stdout.[0m

  Before test:
[38;5;239m  01: rm -f "./stored_env"
  02: unset "TOKEN201711180618_NAME"
  03: export | awk 'BEGIN {FS="="} $0 !~ /^(OLDPWD|_)/ {print $1"="}' > "./stored_env"[0m

  STDIN:
[38;5;239m  01: export -p TOKEN201711180618_NAME
  02: export[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_each_regex_of_file `./stored_env`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_NAME`[0m
[38;5;239m  01: TERM_PROGRAM=iTerm.app
  02: TERM=xterm-256color
  03: SHELL=42sh
  04: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  05: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  06: TERM_PROGRAM_VERSION=3.1.5
  07: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  08: ZSH=/Users/vcombey/.oh-my-zsh
  09: USER=vcombey
  10: COMMAND_MODE=unix2003
  11: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  12: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  13: PAGER=less
  14: LSCOLORS=Gxfxcxdxbxegedabagacad
  15: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  16: PWD=/Users/vcombey/42ShellTester/tmp
  17: BASE16_THEME=base16-nord
  18: ITERM_PROFILE=Default
  19: XPC_FLAGS=0x0
  20: XPC_SERVICE_NAME=0
  21: SHLVL=3
  22: HOME=/Users/vcombey
  23: COLORFGBG=7;0
  24: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  25: LESS=-R
  26: LOGNAME=vcombey
  27: LC_CTYPE=UTF-8
  28: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  29: SECURITYSESSIONID=186a6
  30: COLORTERM=truecolor
  31: OLDPWD=/Users/vcombey/42ShellTester
  32: _=/Users/vcombey/42/42sh/42sh
  33: HISTFILE=/Users/vcombey/.42sh_history
  34: TERM_PROGRAM=iTerm.app
  35: TERM=xterm-256color
  36: SHELL=42sh
  37: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  38: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  39: TERM_PROGRAM_VERSION=3.1.5
  40: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  41: ZSH=/Users/vcombey/.oh-my-zsh
  42: USER=vcombey
  43: COMMAND_MODE=unix2003
  44: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  45: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  46: PAGER=less
  47: LSCOLORS=Gxfxcxdxbxegedabagacad
  48: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  49: PWD=/Users/vcombey/42ShellTester/tmp
  50: BASE16_THEME=base16-nord
  51: ITERM_PROFILE=Default
  52: XPC_FLAGS=0x0
  53: XPC_SERVICE_NAME=0
  54: SHLVL=3
  55: HOME=/Users/vcombey
  56: COLORFGBG=7;0
  57: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  58: LESS=-R
  59: LOGNAME=vcombey
  60: LC_CTYPE=UTF-8
  61: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  62: SECURITYSESSIONID=186a6
  63: COLORTERM=truecolor
  64: OLDPWD=/Users/vcombey/42ShellTester
  65: _=/Users/vcombey/42/42sh/42sh
  66: HISTFILE=/Users/vcombey/.42sh_history[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/builtins/export/options/004-export-n-param[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m   The purpose of this test is to check that using the builtin `export` with option `-n` results in a removed environment variable.[0m

  Before test:
[38;5;239m  01: export TOKEN201711180618_NAME=TOKEN201711180618_VALUE[0m

  STDIN:
[38;5;239m  01: export -n TOKEN201711180618_NAME
  02: export
  03: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618_NAME`[0m
[38;5;239m  01: TERM_PROGRAM=iTerm.app
  02: TOKEN201711180618_NAME=TOKEN201711180618_VALUE
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: OLDPWD=/Users/vcombey/42ShellTester
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  14: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  15: PAGER=less
  16: LSCOLORS=Gxfxcxdxbxegedabagacad
  17: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  18: PWD=/Users/vcombey/42ShellTester/tmp
  19: BASE16_THEME=base16-nord
  20: ITERM_PROFILE=Default
  21: XPC_FLAGS=0x0
  22: XPC_SERVICE_NAME=0
  23: SHLVL=3
  24: HOME=/Users/vcombey
  25: COLORFGBG=7;0
  26: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  27: LESS=-R
  28: LOGNAME=vcombey
  29: LC_CTYPE=UTF-8
  30: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  31: SECURITYSESSIONID=186a6
  32: COLORTERM=truecolor
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TERM_PROGRAM=iTerm.app
  37: TOKEN201711180618_NAME=TOKEN201711180618_VALUE
  38: TERM=xterm-256color
  39: SHELL=42sh
  40: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  41: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  42: TERM_PROGRAM_VERSION=3.1.5
  43: OLDPWD=/Users/vcombey/42ShellTester
  44: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  45: ZSH=/Users/vcombey/.oh-my-zsh
  46: USER=vcombey
  47: COMMAND_MODE=unix2003
  48: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  49: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  50: PAGER=less
  51: LSCOLORS=Gxfxcxdxbxegedabagacad
  52: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  53: PWD=/Users/vcombey/42ShellTester/tmp
  54: BASE16_THEME=base16-nord
  55: ITERM_PROFILE=Default
  56: XPC_FLAGS=0x0
  57: XPC_SERVICE_NAME=0
  58: SHLVL=3
  59: HOME=/Users/vcombey
  60: COLORFGBG=7;0
  61: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  62: LESS=-R
  63: LOGNAME=vcombey
  64: LC_CTYPE=UTF-8
  65: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  66: SECURITYSESSIONID=186a6
  67: COLORTERM=truecolor
  68: _=/Users/vcombey/42/42sh/42sh
  69: HISTFILE=/Users/vcombey/.42sh_history
  70: ------------------------------
  71: TOTAL ENVIRONMENT VARIABLES: 34[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: Wrong option -n[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/brace-expansion/001-it-does-not-expand-braces-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that escaping braces does not result in an expansion process.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout \{1..2} {1\..2} {1.\.2} {1..2\}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^[{]1..2}@[{]1..2}@[{]1..2}@[{]1..2}@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/escaping/mixed/globbing/bracket-expansion/001-it-does-not-expand-brackets[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that escaping brackets does not result in an expansion process.[0m

  Before test:
[38;5;239m  01: rm -rf "./test_globbing"
  02: mkdir "./test_globbing"
  03: cd "./test_globbing"
  04: touch 'a' 'b' 'c'[0m

  STDIN:
[38;5;239m  01: /Users/vcombey/42ShellTester/tmp/write_all_arguments_on_stdout \[abc] [abc\] \[abc\][0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^[[]abc]@[[]abc]@[[]abc]@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/globbing/brace-expansion/ascii-range/010-big-range[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that brace expansion may be performed with a big numeric range.[0m

  STDIN:
[38;5;239m  01: ./write_all_arguments_on_stdout {A..z}[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^A@B@C@D@E@F@G@H@I@J@K@L@M@N@O@P@Q@R@S@T@U@V@W@X@Y@Z@.+@.?@.+@.+@_@.+@a@b@c@d@e@f@g@h@i@j@k@l@m@n@o@p@q@r@s@t@u@v@w@x@y@z@$`[0m
[38;5;239m  01: A@B@C@D@E@F@G@H@I@J@K@L@M@N@O@P@Q@R@S@T@U@V@W@X@Y@Z@[@]@^@_@a@b@c@d@e@f@g@h@i@j@k@l@m@n@o@p@q@r@s@t@u@v@w@x@y@z@[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/004-existing-variable-in-environment-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is initialize a local variable named as an environment variable and check if it's update the existing environment variable.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711180618_NAME=TOKEN201711180618_VALUE_OLD"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_VALUE_NEW
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE_NEW$`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE_OLD$`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TOKEN201711180618_NAME=TOKEN201711180618_VALUE_OLD
  04: TERM=xterm-256color
  05: SHELL=42sh
  06: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  07: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  08: TERM_PROGRAM_VERSION=3.1.5
  09: OLDPWD=/Users/vcombey/42ShellTester
  10: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  11: ZSH=/Users/vcombey/.oh-my-zsh
  12: USER=vcombey
  13: COMMAND_MODE=unix2003
  14: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  15: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  16: PAGER=less
  17: LSCOLORS=Gxfxcxdxbxegedabagacad
  18: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  19: PWD=/Users/vcombey/42ShellTester/tmp
  20: BASE16_THEME=base16-nord
  21: ITERM_PROFILE=Default
  22: XPC_FLAGS=0x0
  23: XPC_SERVICE_NAME=0
  24: SHLVL=3
  25: HOME=/Users/vcombey
  26: COLORFGBG=7;0
  27: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  28: LESS=-R
  29: LOGNAME=vcombey
  30: LC_CTYPE=UTF-8
  31: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  32: SECURITYSESSIONID=186a6
  33: COLORTERM=truecolor
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 34[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/005-existing-variable-in-environment-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is initialize a local variable named as an environment variable and check if it's update the existing environment variable.[0m

  Before test:
[38;5;239m  01: export "TOKEN201711180618_NAME=TOKEN201711180618_VALUE"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_NAME=$`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE$`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TOKEN201711180618_NAME=TOKEN201711180618_VALUE
  04: TERM=xterm-256color
  05: SHELL=42sh
  06: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  07: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  08: TERM_PROGRAM_VERSION=3.1.5
  09: OLDPWD=/Users/vcombey/42ShellTester
  10: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  11: ZSH=/Users/vcombey/.oh-my-zsh
  12: USER=vcombey
  13: COMMAND_MODE=unix2003
  14: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  15: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  16: PAGER=less
  17: LSCOLORS=Gxfxcxdxbxegedabagacad
  18: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  19: PWD=/Users/vcombey/42ShellTester/tmp
  20: BASE16_THEME=base16-nord
  21: ITERM_PROFILE=Default
  22: XPC_FLAGS=0x0
  23: XPC_SERVICE_NAME=0
  24: SHLVL=3
  25: HOME=/Users/vcombey
  26: COLORFGBG=7;0
  27: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  28: LESS=-R
  29: LOGNAME=vcombey
  30: LC_CTYPE=UTF-8
  31: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  32: SECURITYSESSIONID=186a6
  33: COLORTERM=truecolor
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 34[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/008-multiple-declaration-with-same-name[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring the same variable several times in the same command line does work and does not result in error.[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_VALUE1 TOKEN201711180618_NAME=TOKEN201711180618_VALUE2 TOKEN201711180618_NAME=TOKEN201711180618_VALUE3
  02: ./write_on_stdout $TOKEN201711180618_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `^TOKEN201711180618_VALUE1$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711180618_VALUE2$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VALUE3$`[0m
[38;5;239m  01: TOKEN201711180618_VALUE1[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/inline-environment-variable/001-local-variable-shouldnt-be-set[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary does not result in local variable declaration but a modified environment for the command.[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_VALUE ./display_env
  02: ./write_on_stderr $TOKEN201711180618[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE$`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_VALUE`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `write on stderr`[0m
[38;5;239m  01: write on stderr[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/001-truncating[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711180618_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_FILENAME
  02: ./write_on_stdout TOKEN201711180618_VALUE > $TOKEN201711180618_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711180618_FILENAME` matching_regex `^TOKEN201711180618_VALUE$`[0m
[31m[38;5;34m  SUCCESS    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/002-appending[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711180618_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_FILENAME
  02: ./write_on_stdout TOKEN201711180618_VALUE1 >> $TOKEN201711180618_NAME
  03: ./write_on_stdout TOKEN201711180618_VALUE2 >> $TOKEN201711180618_NAME[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711180618_FILENAME` matching_regex `^TOKEN201711180618_VALUE1$`[0m
[31m[38;5;160m  FAILURE    expected_to create_file `TOKEN201711180618_FILENAME` matching_regex `^TOKEN201711180618_VALUE2$`[0m
[31m[38;5;34m  SUCCESS    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1m42sh/local-variable/mixed/redirections/003-reading[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a redirection can be set with a local variable as file name.[0m

  Before test:
[38;5;239m  01: rm -f "TOKEN201711180618_FILENAME"
  02: echo "TOKEN201711180618_VALUE" > "TOKEN201711180618_FILENAME"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_NAME=TOKEN201711180618_FILENAME
  02: ./read_on_stdin < $TOKEN201711180618_NAME[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VALUE@$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/004-multiline-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "
  02: TOKEN201711180618_FIRST
  03: TOKEN201711180618_SECOND
  04: TOKEN201711180618_THIRD
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_SECOND$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_THIRD$`[0m
[38;5;239m  01: TOKEN201711180618_FIRSTTOKEN201711180618_SECONDTOKEN201711180618_THIRD[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/005-multiline-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr "
  02: "TOKEN201711180618"_FIRST
  03: TOKEN201711180618_SECOND" "TOKEN201711180618_THIRD
  04: TOKEN201711180618_FOU"RT"H
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_SECOND$`[0m
[38;5;239m  01: TOKEN201711180618_FIRSTTOKEN201711180618_SECOND[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_THIRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FOURTH$`[0m
[38;5;239m  01: TOKEN201711180618_THIRDTOKEN201711180618_FOURTH[0m

----------------------------------------------------------------

[37;1m42sh/quoting/double-quotes/mixed/escaping/004-it-results-in-error[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using backslash `\\` before the closing double-quote `"` does result in syntax error.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout "TOKEN201711180618\"[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `^TOKEN201711180618$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Ss]yntax|[Pp]arse) error`[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/quoting/mixed/002-multiline[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbols simple quote `'` and double quote `"` may work together in harmony in multiline mode.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr '
  02: 'TOKEN201711180618"_FIR'ST
  03: TOKEN201711180618_SECOND" 'TOKEN201711180618_TH"IRD
  04: TOKEN201711180618_FOU'RT"H
  05: "[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FIR'ST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_SECOND$`[0m
[38;5;239m  01: TOKEN201711180618_FIR'STTOKEN201711180618_SECOND[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_TH"IRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FOURTH$`[0m
[38;5;239m  01: TOKEN201711180618_TH"IRDTOKEN201711180618_FOURTH[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/004-multiline-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout '
  02: TOKEN201711180618_FIRST
  03: TOKEN201711180618_SECOND
  04: TOKEN201711180618_THIRD
  05: '[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_SECOND$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_THIRD$`[0m
[38;5;239m  01: TOKEN201711180618_FIRSTTOKEN201711180618_SECONDTOKEN201711180618_THIRD[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/005-multiline-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that closing double quote may be done on a different line.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr '
  02: 'TOKEN201711180618'_FIRST
  03: TOKEN201711180618_SECOND' 'TOKEN201711180618_THIRD
  04: TOKEN201711180618_FOU'RT'H
  05: '[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FIRST$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_SECOND$`[0m
[38;5;239m  01: TOKEN201711180618_FIRSTTOKEN201711180618_SECOND[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_THIRD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_FOURTH$`[0m
[38;5;239m  01: TOKEN201711180618_THIRDTOKEN201711180618_FOURTH[0m

----------------------------------------------------------------

[37;1m42sh/quoting/simple-quotes/mixed/escaping/002-escape-simple-quote-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a simple-quote `'` may be preserved when it is preceded by a backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout_and_stderr \'TOKEN201711180618_STDOUT TOKEN201711180618_STDERR\'[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^'TOKEN201711180618_STDOUT$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_STDERR'$`[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/subshell/004-exit-status[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the exit status of a subshell command that is executed at the end of a script is correctly returned at termination by the parent shell.[0m

  STDIN:
[38;5;239m  01: (./exit_with_status 42)[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status 42[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/builtins/exit/001-exiting-subshell[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that prematurely exiting a subshell does work and does not result in parent shell termination.[0m

  STDIN:
[38;5;239m  01: (exit ; ./write_on_stdout TOKEN201711180618_NOT_DISPLAYED)
  02: ./write_on_stdout TOKEN201711180618_DISPLAYED[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_NOT_DISPLAYED`[0m
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618_DISPLAYED`[0m
[38;5;239m  01: TOKEN201711180618_DISPLAYED[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: open: Bad address[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/escaping/001-escaped-subshell-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a subshell with parentheses `(` and `)` may be escaped with backslash `\\`.[0m

  STDIN:
[38;5;239m  01: \(./write_on_stdout TOKEN201711180618_STDOUT\)[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_STDOUT`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Cc]ommand not found|[Nn]o such file or directory)`[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/escaping/002-escaped-subshell-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the tokens parentheses `(` and `)` for subshell generation may be escaped with backslash `\\`.[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout \\\(TOKEN201711180618_STDOUT\\\)[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `\(TOKEN201711180618_STDOUT\)`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/inline-environment-variable/001-modifies-the-child-environment-only-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary in a subshell does not result in local variable declaration or a modified parent shell's environment, but only a modified child's environment.[0m

  STDIN:
[38;5;239m  01: (TOKEN201711180618_NAME=TOKEN201711180618_VALUE ./display_env)
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE$` once[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33
  37: ------------------------------
  38: TERM_PROGRAM=iTerm.app
  39: TERM=xterm-256color
  40: SHELL=42sh
  41: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  42: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  43: TERM_PROGRAM_VERSION=3.1.5
  44: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  45: ZSH=/Users/vcombey/.oh-my-zsh
  46: USER=vcombey
  47: COMMAND_MODE=unix2003
  48: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  49: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  50: PAGER=less
  51: LSCOLORS=Gxfxcxdxbxegedabagacad
  52: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  53: PWD=/Users/vcombey/42ShellTester/tmp
  54: BASE16_THEME=base16-nord
  55: ITERM_PROFILE=Default
  56: XPC_FLAGS=0x0
  57: XPC_SERVICE_NAME=0
  58: SHLVL=3
  59: HOME=/Users/vcombey
  60: COLORFGBG=7;0
  61: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  62: LESS=-R
  63: LOGNAME=vcombey
  64: LC_CTYPE=UTF-8
  65: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  66: SECURITYSESSIONID=186a6
  67: COLORTERM=truecolor
  68: OLDPWD=/Users/vcombey/42ShellTester
  69: _=/Users/vcombey/42/42sh/42sh
  70: HISTFILE=/Users/vcombey/.42sh_history
  71: ------------------------------
  72: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1m42sh/subshell/mixed/inline-environment-variable/002-modifies-the-child-environment-only-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that declaring a variable and specifying a binary in a subshell does not result in local variable declaration or a modified parent shell's environment, but only a modified child's environment.[0m

  STDIN:
[38;5;239m  01: ( (TOKEN201711180618_NAME=TOKEN201711180618_VALUE ./display_env) ; ./display_env) ; ./display_env
  02: [0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_NAME=TOKEN201711180618_VALUE$` once[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33
  37: ------------------------------
  38: TERM_PROGRAM=iTerm.app
  39: TERM=xterm-256color
  40: SHELL=42sh
  41: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  42: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  43: TERM_PROGRAM_VERSION=3.1.5
  44: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  45: ZSH=/Users/vcombey/.oh-my-zsh
  46: USER=vcombey
  47: COMMAND_MODE=unix2003
  48: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  49: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  50: PAGER=less
  51: LSCOLORS=Gxfxcxdxbxegedabagacad
  52: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  53: PWD=/Users/vcombey/42ShellTester/tmp
  54: BASE16_THEME=base16-nord
  55: ITERM_PROFILE=Default
  56: XPC_FLAGS=0x0
  57: XPC_SERVICE_NAME=0
  58: SHLVL=3
  59: HOME=/Users/vcombey
  60: COLORFGBG=7;0
  61: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  62: LESS=-R
  63: LOGNAME=vcombey
  64: LC_CTYPE=UTF-8
  65: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  66: SECURITYSESSIONID=186a6
  67: COLORTERM=truecolor
  68: OLDPWD=/Users/vcombey/42ShellTester
  69: _=/Users/vcombey/42/42sh/42sh
  70: HISTFILE=/Users/vcombey/.42sh_history
  71: ------------------------------
  72: TOTAL ENVIRONMENT VARIABLES: 33
  73: ------------------------------
  74: TERM_PROGRAM=iTerm.app
  75: TERM=xterm-256color
  76: SHELL=42sh
  77: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  78: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  79: TERM_PROGRAM_VERSION=3.1.5
  80: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  81: ZSH=/Users/vcombey/.oh-my-zsh
  82: USER=vcombey
  83: COMMAND_MODE=unix2003
  84: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  85: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  86: PAGER=less
  87: LSCOLORS=Gxfxcxdxbxegedabagacad
  88: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  89: PWD=/Users/vcombey/42ShellTester/tmp
  90: BASE16_THEME=base16-nord
  91: ITERM_PROFILE=Default
  92: XPC_FLAGS=0x0
  93: XPC_SERVICE_NAME=0
  94: SHLVL=3
  95: HOME=/Users/vcombey
  96: COLORFGBG=7;0
  97: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  98: LESS=-R
  99: LOGNAME=vcombey
  100: LC_CTYPE=UTF-8
  101: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  102: SECURITYSESSIONID=186a6
  103: COLORTERM=truecolor
  104: OLDPWD=/Users/vcombey/42ShellTester
  105: _=/Users/vcombey/42/42sh/42sh
  106: HISTFILE=/Users/vcombey/.42sh_history
  107: ------------------------------
  108: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: ASAN:DEADLYSIGNAL
  02: =================================================================
  03: ==74040==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x000104a813ff bp 0x7fff5b1be450 sp 0x7fff5b1be2e0 T0)
  04: ==74040==The signal is caused by a READ memory access.
  05: ==74040==Hint: address points to the zero page.
  06:     #0 0x104a813fe in get_token_list get_token_list.c:227
  07:     #1 0x104a5da2f in lex_and_parse lex_and_parse.c:73
  08:     #2 0x104a5e5ac in main_loop main_loop.c:52
  09:     #3 0x104a42b7a in main main.c:97
  10:     #4 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  11: 
  12: ==74040==Register values:
  13: rax = 0x0000000000000000  rbx = 0x00007fff5b1be320  rcx = 0x0000000000000000  rdx = 0x0000000000000000  
  14: rdi = 0x00001fffeb637c00  rsi = 0x0000100000000000  rbp = 0x00007fff5b1be450  rsp = 0x00007fff5b1be2e0  
  15:  r8 = 0x00007fff5b1be300   r9 = 0x3dd83e0cbc280049  r10 = 0x0000000000000000  r11 = 0xffffffffffffffff  
  16: r12 = 0x00007fff5b1be510  r13 = 0x00007fff5b1be530  r14 = 0x00007fff5b1be4a0  r15 = 0x00007fff5b1be4f0  
  17: AddressSanitizer can not provide additional info.
  18: SUMMARY: AddressSanitizer: SEGV get_token_list.c:227 in get_token_list
  19: ==74040==ABORTING
  20: ./lib/main.sh: line 102: 74040 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

----------------------------------------------------------------

[37;1mbonuses/inline-environment-variable/001-modifies-child-environment-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a binary may have its environment to be modified by appending variables inline.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711180618_VARIABLE"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_VARIABLE=TOKEN201711180618_VALUE ./display_env
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VARIABLE=TOKEN201711180618_VALUE$` once[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33
  37: ------------------------------
  38: TERM_PROGRAM=iTerm.app
  39: TERM=xterm-256color
  40: SHELL=42sh
  41: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  42: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  43: TERM_PROGRAM_VERSION=3.1.5
  44: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  45: ZSH=/Users/vcombey/.oh-my-zsh
  46: USER=vcombey
  47: COMMAND_MODE=unix2003
  48: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  49: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  50: PAGER=less
  51: LSCOLORS=Gxfxcxdxbxegedabagacad
  52: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  53: PWD=/Users/vcombey/42ShellTester/tmp
  54: BASE16_THEME=base16-nord
  55: ITERM_PROFILE=Default
  56: XPC_FLAGS=0x0
  57: XPC_SERVICE_NAME=0
  58: SHLVL=3
  59: HOME=/Users/vcombey
  60: COLORFGBG=7;0
  61: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  62: LESS=-R
  63: LOGNAME=vcombey
  64: LC_CTYPE=UTF-8
  65: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  66: SECURITYSESSIONID=186a6
  67: COLORTERM=truecolor
  68: OLDPWD=/Users/vcombey/42ShellTester
  69: _=/Users/vcombey/42/42sh/42sh
  70: HISTFILE=/Users/vcombey/.42sh_history
  71: ------------------------------
  72: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/inline-environment-variable/002-modifies-child-environment-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a binary may have its environment to be modified by appending variables inline.[0m

  Before test:
[38;5;239m  01: unset "TOKEN201711180618_VARIABLE"[0m

  STDIN:
[38;5;239m  01: TOKEN201711180618_VARIABLE1=TOKEN201711180618_VALUE1 TOKEN201711180618_VARIABLE2=TOKEN201711180618_VALUE2 TOKEN201711180618_VARIABLE3=TOKEN201711180618_VALUE3 ./display_env
  02: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VARIABLE1=TOKEN201711180618_VALUE1$` once[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VARIABLE2=TOKEN201711180618_VALUE2$` once[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618_VARIABLE3=TOKEN201711180618_VALUE3$` once[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33
  37: ------------------------------
  38: TERM_PROGRAM=iTerm.app
  39: TERM=xterm-256color
  40: SHELL=42sh
  41: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  42: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  43: TERM_PROGRAM_VERSION=3.1.5
  44: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  45: ZSH=/Users/vcombey/.oh-my-zsh
  46: USER=vcombey
  47: COMMAND_MODE=unix2003
  48: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  49: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  50: PAGER=less
  51: LSCOLORS=Gxfxcxdxbxegedabagacad
  52: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  53: PWD=/Users/vcombey/42ShellTester/tmp
  54: BASE16_THEME=base16-nord
  55: ITERM_PROFILE=Default
  56: XPC_FLAGS=0x0
  57: XPC_SERVICE_NAME=0
  58: SHLVL=3
  59: HOME=/Users/vcombey
  60: COLORFGBG=7;0
  61: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  62: LESS=-R
  63: LOGNAME=vcombey
  64: LC_CTYPE=UTF-8
  65: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  66: SECURITYSESSIONID=186a6
  67: COLORTERM=truecolor
  68: OLDPWD=/Users/vcombey/42ShellTester
  69: _=/Users/vcombey/42/42sh/42sh
  70: HISTFILE=/Users/vcombey/.42sh_history
  71: ------------------------------
  72: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/inline-environment-variable/003-modifies-PATH-only[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that a binary may have its environment to be modified by appending variables inline.[0m

  Before test:
[38;5;239m  01: rm -rf "temporary_directory"
  02: mkdir -p "temporary_directory"
  03: cd "temporary_directory"[0m

  STDIN:
[38;5;239m  01: PATH=.. write_on_stdout TOKEN201711180618
  02: exit_with_status 42[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^TOKEN201711180618$`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[38;5;34m  SUCCESS    might match_regex `[Cc]ommand not found`[0m
[38;5;239m  01: write_on_stdout: command not found
  02: exit_with_status: command not found[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status `42`[0m
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/mixed/001-and-or[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the two separators AND `&&` and OR `||` applies the good logic: The second command is executed if the first one succeeds, and the third command is executed if the second one fails or is not executed.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 42 && ./write_on_stderr TOKEN201711180618_ERROR 21 || ./write_on_stdout TOKEN201711180618_SUCCESS[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_SUCCESS`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/mixed/002-and-or[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the two separators AND `&&` and OR `||` applies the good logic: The second command is executed if the first one succeeds, and the third command is executed if the second one fails or is not executed.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 0 && ./write_on_stderr TOKEN201711180618_ERROR 21 || ./write_on_stdout TOKEN201711180618_SUCCESS[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_SUCCESS`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618_ERROR`[0m
[38;5;239m  01: TOKEN201711180618_ERROR[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/mixed/004-or-and[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the two separators OR `||` and AND `&&` applies the good logic: The second command is executed if the first one fails, and the third command is executed if the second one succeeds or is not executed.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 42 || ./write_on_stderr TOKEN201711180618_ERROR 21 && ./write_on_stdout TOKEN201711180618_SUCCESS[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_ERROR`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `21`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/mixed/005-or-and[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the two separators OR `||` and AND `&&` applies the good logic: The second command is executed if the first one fails, and the third command is executed if the second one succeeds or is not executed.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 42 || ./write_on_stdout TOKEN201711180618_SUCCESS && ./write_on_stderr TOKEN201711180618_ERROR 21[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_SUCCESS`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_ERROR`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `21`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/or/002-run-second-only[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the OR operator `||` makes the right command to be executed if the left one exits with an error status code.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 42 || ./write_on_stdout TOKEN201711180618[0m

  STDOUT:
[31m[1;33m  WARNING    might match_regex `TOKEN201711180618`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    might be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[1;33m  WARNING    might exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mbonuses/separators/or/003-run-until-succeeding[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the OR separator `||` with chained commands results in the execution of all until the first succeed. The remaining commands are not executed.[0m

  STDIN:
[38;5;239m  01: ./exit_with_status 1 || ./exit_with_status 2 || ./exit_with_status 3 || ./exit_with_status 4 || ./write_on_stdout TOKEN201711180618_FIRST || ./write_on_stdout TOKEN201711180618_SECOND[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_FIRST`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `TOKEN201711180618_SECOND`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/003-expanded-with-PWD-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be expanded with the environment variable PWD when followed by the symbol `+`.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout ~+[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `~[+]`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618[+]`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^/Users/vcombey/42ShellTester/tmp$`[0m
[38;5;239m  01: /TOKEN201711180618+[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/004-expanded-with-PWD-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be expanded with the environment variable PWD when followed by the symbol `+`.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout ~+/TOKEN201711180618_SUBDIRECTORY[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `~+/TOKEN201711180618_SUBDIRECTORY`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618[+]/TOKEN201711180618_SUBDIRECTORY`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^/Users/vcombey/42ShellTester/tmp/TOKEN201711180618_SUBDIRECTORY$`[0m
[38;5;239m  01: /TOKEN201711180618+/TOKEN201711180618_SUBDIRECTORY[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/005-expanded-with-OLDPWD-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be expanded with the environment variable OLDPWD when followed by the symbol `+`.[0m

  Before test:
[38;5;239m  01: rm -rf "./TOKEN201711180618_SUBDIRECTORY"
  02: mkdir "./TOKEN201711180618_SUBDIRECTORY"
  03: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: cd ./TOKEN201711180618_SUBDIRECTORY
  02: /Users/vcombey/42ShellTester/tmp/write_on_stdout ~-[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `~-`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618-`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^/Users/vcombey/42ShellTester/tmp$`[0m
[38;5;239m  01: /TOKEN201711180618-[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/006-expanded-with-OLDPWD-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be expanded with the environment variable OLDPWD when followed by the symbol `+`.[0m

  Before test:
[38;5;239m  01: rm -rf "./TOKEN201711180618_SUBDIRECTORY"
  02: mkdir "./TOKEN201711180618_SUBDIRECTORY"
  03: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: cd ./TOKEN201711180618_SUBDIRECTORY
  02: /Users/vcombey/42ShellTester/tmp/write_on_stdout ~-/TOKEN201711180618_OTHERDIRECTORY[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `~-/TOKEN201711180618_OTHERDIRECTORY`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618-/TOKEN201711180618_OTHERDIRECTORY`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^/Users/vcombey/42ShellTester/tmp/TOKEN201711180618_OTHERDIRECTORY$`[0m
[38;5;239m  01: /TOKEN201711180618-/TOKEN201711180618_OTHERDIRECTORY[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/not-expanded/001-not-expanded-with-HOME-1[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be not expanded when not followed by an authorized symbol or user name.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout ~~[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^~~$`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618`[0m
[38;5;239m  01: /TOKEN201711180618/TOKEN201711180618[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/not-expanded/002-not-expanded-with-HOME-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` may be not expanded when not followed by an authorized symbol or user name.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout ~TOKEN201711180618_UNKNOWNUSER[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^~TOKEN201711180618_UNKNOWNUSER$`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618TOKEN201711180618_UNKNOWNUSER`[0m
[38;5;239m  01: /TOKEN201711180618TOKEN201711180618_UNKNOWNUSER[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/not-expanded/003-not-expanded-with-PWD[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` is not expanded with the environment variable PWD when not followed by the symbol `/`.[0m

  Before test:
[38;5;239m  01: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: ./write_on_stdout ~+TOKEN201711180618_SUBDIRECTORY[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^~[+]TOKEN201711180618_SUBDIRECTORY$`[0m
[31m[38;5;160m  FAILURE    expected_to_not match_regex `/TOKEN201711180618[+]TOKEN201711180618_SUBDIRECTORY`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/vcombey/42ShellTester/tmpTOKEN201711180618_SUBDIRECTORY`[0m
[38;5;239m  01: /TOKEN201711180618+TOKEN201711180618_SUBDIRECTORY[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mbonuses/tilde-expansion/not-expanded/004-not-expanded-with-OLDPWD[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the symbol tilde `~` is not expanded with the environment variable OLDPWD when not followed by the symbol `/`.[0m

  Before test:
[38;5;239m  01: rm -rf "./TOKEN201711180618_SUBDIRECTORY"
  02: mkdir "./TOKEN201711180618_SUBDIRECTORY"
  03: export "HOME=/TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: cd ./TOKEN201711180618_SUBDIRECTORY
  02: /Users/vcombey/42ShellTester/tmp/write_on_stdout ~-TOKEN201711180618_OTHERDIRECTORY[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^~-TOKEN201711180618_OTHERDIRECTORY$`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/TOKEN201711180618-/TOKEN201711180618_OTHERDIRECTORY`[0m
[31m[38;5;34m  SUCCESS    expected_to_not match_regex `/Users/vcombey/42ShellTester/tmp/TOKEN201711180618_OTHERDIRECTORY`[0m
[38;5;239m  01: /TOKEN201711180618-TOKEN201711180618_OTHERDIRECTORY[0m

  STDERR:
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/binary/003-binary-test-exec-order[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell correctly finds binaries by iterating on paths within the environment variable PATH from left to right.[0m

  Before test:
[38;5;239m  01: mkdir -p "./virtual_path_1" "./virtual_path_2"
  02: cp "./write_on_stdout" "./virtual_path_1/fake_echo"
  03: cp "./write_on_stderr" "./virtual_path_2/fake_echo"
  04: export PATH="/Users/vcombey/42ShellTester/tmp/virtual_path_1:/Users/vcombey/42ShellTester/tmp/virtual_path_2"[0m

  STDIN:
[38;5;239m  01: fake_echo TOKEN201711180618[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex TOKEN201711180618[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: TOKEN201711180618[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/binary/004-binary-test-empty-path[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell finds binaries that are located in the current directory when the environment variable PATH is empty.[0m

  Before test:
[38;5;239m  01: export PATH=""[0m

  STDIN:
[38;5;239m  01: write_on_stdout "TOKEN201711180618"[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: write_on_stdout: command not found[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/binary/006-binary-undefined-path[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the Shell retrieves the default value of the environment variable PATH if not set. This test depends on the presence of the UNIX binary `ls`, located in a path within the default environment variable PATH.[0m

  Before test:
[38;5;239m  01: rm -rf "TOKEN201711180618_006-BINARY-UNDEFINED-PATH"
  02: touch "TOKEN201711180618_006-BINARY-UNDEFINED-PATH"
  03: unset PATH[0m

  STDIN:
[38;5;239m  01: ls[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOKEN201711180618_006-BINARY-UNDEFINED-PATH`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: ls: command not found[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/binary/008-binary-too-many-symbolic-links-encountered[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that trying to execute a path that encounters an infinite loop of symbolic link results in an error on standard error and a failure exit status.[0m

  Before test:
[38;5;239m  01: rm -rf ./symbolic_link1 ./symbolic_link2 ./symbolic_link3
  02: ln -s ./symbolic_link1 ./symbolic_link2
  03: ln -s ./symbolic_link2 ./symbolic_link3
  04: ln -s ./symbolic_link3 ./symbolic_link1[0m

  STDIN:
[38;5;239m  01: ./symbolic_link1[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    might be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `[Tt]oo many.*symbolic links`[0m
[38;5;239m  01: ./symbolic_link1: no such file or directory[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to_not exit_with_status 0[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/007-symbolic-link[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a symbolic link as first argument with the builtin `cd` results in moving the linked directory.[0m

  Before test:
[38;5;239m  01: rm -f "./symbolic_link"
  02: mkdir -p "./sub_directory"
  03: ln -s "./sub_directory" "./symbolic_link"[0m

  STDIN:
[38;5;239m  01: cd symbolic_link
  02: /Users/vcombey/42ShellTester/tmp/display_pwd
  03: /Users/vcombey/42ShellTester/tmp/display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `PWD:/Users/vcombey/42ShellTester/tmp/sub_directory:PWD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD=/Users/vcombey/42ShellTester/tmp/symbolic_link$`[0m
[38;5;239m  01: PWD:/Users/vcombey/42ShellTester/tmp/sub_directory:PWD
  02: ------------------------------
  03: TERM_PROGRAM=iTerm.app
  04: TERM=xterm-256color
  05: SHELL=42sh
  06: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  07: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  08: TERM_PROGRAM_VERSION=3.1.5
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  14: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  15: PAGER=less
  16: LSCOLORS=Gxfxcxdxbxegedabagacad
  17: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  18: PWD=/Users/vcombey/42ShellTester/tmp/sub_directory
  19: BASE16_THEME=base16-nord
  20: ITERM_PROFILE=Default
  21: XPC_FLAGS=0x0
  22: XPC_SERVICE_NAME=0
  23: SHLVL=3
  24: HOME=/Users/vcombey
  25: COLORFGBG=7;0
  26: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  27: LESS=-R
  28: LOGNAME=vcombey
  29: LC_CTYPE=UTF-8
  30: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  31: SECURITYSESSIONID=186a6
  32: COLORTERM=truecolor
  33: OLDPWD=/Users/vcombey/42ShellTester/tmp
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/008-symbolic-link-2[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a symbolic link as first argument with the builtin `cd` results in moving to the linked directory. In this test, the directory is linked with to chained symbolic links.[0m

  Before test:
[38;5;239m  01: rm -f "./symbolic_link1" "./symbolic_link2"
  02: mkdir -p "./sub_directory"
  03: ln -s "./sub_directory" "./symbolic_link1"
  04: ln -s "./symbolic_link1" "./symbolic_link2"[0m

  STDIN:
[38;5;239m  01: cd symbolic_link2
  02: /Users/vcombey/42ShellTester/tmp/display_pwd
  03: /Users/vcombey/42ShellTester/tmp/display_env[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `PWD:/Users/vcombey/42ShellTester/tmp/sub_directory:PWD$`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD=/Users/vcombey/42ShellTester/tmp/symbolic_link2$`[0m
[38;5;239m  01: PWD:/Users/vcombey/42ShellTester/tmp/sub_directory:PWD
  02: ------------------------------
  03: TERM_PROGRAM=iTerm.app
  04: TERM=xterm-256color
  05: SHELL=42sh
  06: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  07: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  08: TERM_PROGRAM_VERSION=3.1.5
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  14: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  15: PAGER=less
  16: LSCOLORS=Gxfxcxdxbxegedabagacad
  17: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  18: PWD=/Users/vcombey/42ShellTester/tmp/sub_directory
  19: BASE16_THEME=base16-nord
  20: ITERM_PROFILE=Default
  21: XPC_FLAGS=0x0
  22: XPC_SERVICE_NAME=0
  23: SHLVL=3
  24: HOME=/Users/vcombey
  25: COLORFGBG=7;0
  26: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  27: LESS=-R
  28: LOGNAME=vcombey
  29: LC_CTYPE=UTF-8
  30: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  31: SECURITYSESSIONID=186a6
  32: COLORTERM=truecolor
  33: OLDPWD=/Users/vcombey/42ShellTester/tmp
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/009-following-links[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using symbolic links twice with the builtin `cd` results in a correct environment variable PWD. By default, the path to the current directory should be a non-resolved symbolic path.[0m

  Before test:
[38;5;239m  01: rm -rf "./sub_directory_link" "./sub_directory"
  02: mkdir -p "./sub_directory/sub_sub_directory"
  03: ln -s "./sub_directory" "./sub_directory_link"
  04: ln -s "./sub_sub_directory" "./sub_directory/sub_sub_directory_link"[0m

  STDIN:
[38;5;239m  01: cd sub_directory_link
  02: cd sub_sub_directory_link
  03: /Users/vcombey/42ShellTester/tmp/display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD=/Users/vcombey/42ShellTester/tmp/sub_directory_link/sub_sub_directory_link`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp/sub_directory/sub_sub_directory
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester/tmp/sub_directory
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/012-dot[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that playing with relative paths to the current directory with the builtin `cd` results in not changing the current directory.[0m

  STDIN:
[38;5;239m  01: cd .
  02: cd ./
  03: cd ./.
  04: cd ././
  05: cd ./././././././././.
  06: /Users/vcombey/42ShellTester/tmp/display_pwd
  07: /Users/vcombey/42ShellTester/tmp/display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `PWD:/Users/vcombey/42ShellTester/tmp:PWD`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `^PWD=/Users/vcombey/42ShellTester/tmp$`[0m
[38;5;239m  01: PWD:/Users/vcombey/42ShellTester:PWD
  02: ------------------------------
  03: TERM_PROGRAM=iTerm.app
  04: TERM=xterm-256color
  05: SHELL=42sh
  06: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  07: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  08: TERM_PROGRAM_VERSION=3.1.5
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  14: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  15: PAGER=less
  16: LSCOLORS=Gxfxcxdxbxegedabagacad
  17: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  18: PWD=/Users/vcombey/42ShellTester
  19: BASE16_THEME=base16-nord
  20: ITERM_PROFILE=Default
  21: XPC_FLAGS=0x0
  22: XPC_SERVICE_NAME=0
  23: SHLVL=3
  24: HOME=/Users/vcombey
  25: COLORFGBG=7;0
  26: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  27: LESS=-R
  28: LOGNAME=vcombey
  29: LC_CTYPE=UTF-8
  30: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  31: SECURITYSESSIONID=186a6
  32: COLORTERM=truecolor
  33: OLDPWD=/Users/vcombey/42ShellTester
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/errors/005-too-many-symbolic-links-encountered[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a symbolic link resulting in ELOOP error as first argument with the builtin `cd` results in error and not changing current directory.[0m

  Before test:
[38;5;239m  01: rm -f "./symbolic_link1" "./symbolic_link2" "./symbolic_link3"
  02: ln -s "./symbolic_link1" "./symbolic_link2"
  03: ln -s "./symbolic_link2" "./symbolic_link3"
  04: ln -s "./symbolic_link3" "./symbolic_link1"[0m

  STDIN:
[38;5;239m  01: cd symbolic_link1
  02: /Users/vcombey/42ShellTester/tmp/display_pwd[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `PWD:/Users/vcombey/42ShellTester/tmp:PWD`[0m
[38;5;239m  01: PWD:/Users/vcombey/42ShellTester/tmp:PWD[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `[Tt]oo many.*symbolic links`[0m
[38;5;239m  01: cd: Out of streams resources[0m

----------------------------------------------------------------

[37;1mminishell/builtins/cd/options/001-not-following-links[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using symbolic links twice with the builtin `cd` and the option `-P` results in a correct environment variable PWD. The option `-P` makes the Shell to resolve symbolic links.[0m

  Before test:
[38;5;239m  01: rm -fr "./sub_directory_link" "./sub_directory"
  02: mkdir -p "./sub_directory/sub_sub_directory"
  03: ln -s "./sub_directory" "./sub_directory_link"
  04: ln -s "./sub_sub_directory" "./sub_directory/sub_sub_directory_link"[0m

  STDIN:
[38;5;239m  01: cd -P sub_directory_link
  02: cd -P sub_sub_directory_link
  03: /Users/vcombey/42ShellTester/tmp/display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `PWD=/Users/vcombey/42ShellTester/tmp/sub_directory/sub_sub_directory`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[31m[1;33m  WARNING    might be_empty[0m
[38;5;239m  01: cd: No such file or directory
  02: cd: No such file or directory[0m

----------------------------------------------------------------

[37;1mminishell/builtins/env/003-ignore-environment[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the option `-i` with the builtin `env` results in an empty environment sent to the given command.[0m

  STDIN:
[38;5;239m  01: env -i ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TOTAL ENVIRONMENT VARIABLES: 0`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to be_empty[0m
[38;5;239m  (no output)[0m

----------------------------------------------------------------

[37;1mminishell/builtins/env/005-set-variables[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `env` can modify or set multiple environment variables before executing the given command.[0m

  Before test:
[38;5;239m  01: export VARTEST1="OLD_VALUE"[0m

  STDIN:
[38;5;239m  01: env VARTEST1=TOKEN201711180618_1 VARTEST2=TOKEN201711180618_2 VARTEST3=TOKEN201711180618_3 ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `VARTEST1=TOKEN201711180618_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `VARTEST2=TOKEN201711180618_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `VARTEST3=TOKEN201711180618_3`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==83966==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x604000010840 at pc 0x000104109ccd bp 0x7fff5bb0b570 sp 0x7fff5bb0b568
  03: READ of size 8 at 0x604000010840 thread T0
  04:     #0 0x104109ccc in local_get_node local_get.c:11
  05:     #1 0x1041099a5 in local_add_change_from_key_value local_add.c:40
  06:     #2 0x10410a952 in env_change_value env_add.c:55
  07:     #3 0x10410aaff in env_add_change env_add.c:67
  08:     #4 0x10410ac02 in env_add_var_from_string env_add.c:74
  09:     #5 0x1040f7f90 in build_new_env env.c:59
  10:     #6 0x1040f7bb0 in builtin_env env.c:91
  11:     #7 0x1040f8718 in exec_builtin exec_builtin.c:46
  12:     #8 0x104116bf4 in exec_simple_command exec_simple_command.c:147
  13:     #9 0x1041123d5 in exec exec.c:39
  14:     #10 0x104113484 in exec_command exec_command.c:20
  15:     #11 0x1041123d5 in exec exec.c:39
  16:     #12 0x104114b85 in exec_pipe_sequence exec_pipe_sequence.c:9
  17:     #13 0x1041123d5 in exec exec.c:39
  18:     #14 0x104115564 in exec_pipeline exec_pipeline.c:83
  19:     #15 0x1041123d5 in exec exec.c:39
  20:     #16 0x104112521 in exec_and_or exec_and_or.c:13
  21:     #17 0x1041123d5 in exec exec.c:39
  22:     #18 0x104113887 in exec_complete_command exec_complete_command.c:45
  23:     #19 0x1041123d5 in exec exec.c:39
  24:     #20 0x104113b41 in exec_complete_commands exec_complete_commands.c:10
  25:     #21 0x1041123d5 in exec exec.c:39
  26:     #22 0x104115729 in exec_program exec_program.c:10
  27:     #23 0x1041123d5 in exec exec.c:39
  28:     #24 0x10410f456 in exec_main_loop lex_and_parse.c:27
  29:     #25 0x10410fdcf in lex_and_parse lex_and_parse.c:97
  30:     #26 0x1041105ac in main_loop main_loop.c:52
  31:     #27 0x1040f4b7a in main main.c:97
  32:     #28 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  33: 
  34: 0x604000010840 is located 0 bytes to the right of 48-byte region [0x604000010810,0x604000010840)
  35: allocated by thread T0 here:
  36:     #0 0x1042f3f3c in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x58f3c)
  37:     #1 0x10416442f in palloc palloc.c:16
  38:     #2 0x10415becb in ft_arrayjoin ft_arrayjoin.c:14
  39:     #3 0x10415bfaf in ft_arrayjoin_free ft_arrayjoin.c:33
  40:     #4 0x104116902 in exec_simple_command exec_simple_command.c:137
  41:     #5 0x1041123d5 in exec exec.c:39
  42:     #6 0x104113484 in exec_command exec_command.c:20
  43:     #7 0x1041123d5 in exec exec.c:39
  44:     #8 0x104114b85 in exec_pipe_sequence exec_pipe_sequence.c:9
  45:     #9 0x1041123d5 in exec exec.c:39
  46:     #10 0x104115564 in exec_pipeline exec_pipeline.c:83
  47:     #11 0x1041123d5 in exec exec.c:39
  48:     #12 0x104112521 in exec_and_or exec_and_or.c:13
  49:     #13 0x1041123d5 in exec exec.c:39
  50:     #14 0x104113887 in exec_complete_command exec_complete_command.c:45
  51:     #15 0x1041123d5 in exec exec.c:39
  52:     #16 0x104113b41 in exec_complete_commands exec_complete_commands.c:10
  53:     #17 0x1041123d5 in exec exec.c:39
  54:     #18 0x104115729 in exec_program exec_program.c:10
  55:     #19 0x1041123d5 in exec exec.c:39
  56:     #20 0x10410f456 in exec_main_loop lex_and_parse.c:27
  57:     #21 0x10410fdcf in lex_and_parse lex_and_parse.c:97
  58:     #22 0x1041105ac in main_loop main_loop.c:52
  59:     #23 0x1040f4b7a in main main.c:97
  60:     #24 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  61: 
  62: SUMMARY: AddressSanitizer: heap-buffer-overflow local_get.c:11 in local_get_node
  63: Shadow bytes around the buggy address:
  64:   0x1c08000020b0: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  65:   0x1c08000020c0: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  66:   0x1c08000020d0: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  67:   0x1c08000020e0: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  68:   0x1c08000020f0: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fa
  69: =>0x1c0800002100: fa fa 00 00 00 00 00 00[fa]fa 00 00 00 00 04 fa
  70:   0x1c0800002110: fa fa 00 00 00 00 06 fa fa fa 00 00 00 00 05 fa
  71:   0x1c0800002120: fa fa 00 00 00 00 06 fa fa fa fa fa fa fa fa fa
  72:   0x1c0800002130: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  73:   0x1c0800002140: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  74:   0x1c0800002150: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  75: Shadow byte legend (one shadow byte represents 8 application bytes):
  76:   Addressable:           00
  77:   Partially addressable: 01 02 03 04 05 06 07 
  78:   Heap left redzone:       fa
  79:   Freed heap region:       fd
  80:   Stack left redzone:      f1
  81:   Stack mid redzone:       f2
  82:   Stack right redzone:     f3
  83:   Stack after return:      f5
  84:   Stack use after scope:   f8
  85:   Global redzone:          f9
  86:   Global init order:       f6
  87:   Poisoned by user:        f7
  88:   Container overflow:      fc
  89:   Array cookie:            ac
  90:   Intra object redzone:    bb
  91:   ASan internal:           fe
  92:   Left alloca redzone:     ca
  93:   Right alloca redzone:    cb
  94: ==83966==ABORTING
  95: ./lib/main.sh: line 102: 83966 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

----------------------------------------------------------------

[37;1mminishell/builtins/env/errors/001-command-not-found[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the builtin `env` with an invalid binary as argument results in an error and failure exit status.[0m

  Before test:
[38;5;239m  01: rm -f "./invalid_binary"[0m

  STDIN:
[38;5;239m  01: env ./invalid_binary[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `[Cc]ommand not found`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/builtins/env/errors/002-illegal-option[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using the builtin `env` with an invalid option results in an error and failure exit status.[0m

  Before test:
[38;5;239m  01: rm -f -- "-w"[0m

  STDIN:
[38;5;239m  01: env -w[0m

  STDOUT:
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Ii]nvalid|[Ii]llegal) (option|argument)`[0m
[38;5;239m  (no output)[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/builtins/env/multiple-options/001-ignore-environment-and-set-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that `env -i` works if we use a second argument to set an environment variable, we are also checking if this command unset environments variables for a given binary.[0m

  STDIN:
[38;5;239m  01: env -i TESTVARIABLE=TOKEN201711180618 ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVARIABLE=TOKEN201711180618`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TOTAL ENVIRONMENT VARIABLES: 1`[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;160m  FAILURE    expected_to be_empty[0m
[38;5;239m  01: =================================================================
  02: ==84409==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x60400000e438 at pc 0x00010434eccd bp 0x7fff5b8c6540 sp 0x7fff5b8c6538
  03: READ of size 8 at 0x60400000e438 thread T0
  04:     #0 0x10434eccc in local_get_node local_get.c:11
  05:     #1 0x10434edbc in local_get_value local_get.c:24
  06:     #2 0x10434f6ab in env_add_var env_add.c:31
  07:     #3 0x10434faad in env_add_change env_add.c:65
  08:     #4 0x10434fc02 in env_add_var_from_string env_add.c:74
  09:     #5 0x10433cf90 in build_new_env env.c:59
  10:     #6 0x10433cbb0 in builtin_env env.c:91
  11:     #7 0x10433d718 in exec_builtin exec_builtin.c:46
  12:     #8 0x10435bbf4 in exec_simple_command exec_simple_command.c:147
  13:     #9 0x1043573d5 in exec exec.c:39
  14:     #10 0x104358484 in exec_command exec_command.c:20
  15:     #11 0x1043573d5 in exec exec.c:39
  16:     #12 0x104359b85 in exec_pipe_sequence exec_pipe_sequence.c:9
  17:     #13 0x1043573d5 in exec exec.c:39
  18:     #14 0x10435a564 in exec_pipeline exec_pipeline.c:83
  19:     #15 0x1043573d5 in exec exec.c:39
  20:     #16 0x104357521 in exec_and_or exec_and_or.c:13
  21:     #17 0x1043573d5 in exec exec.c:39
  22:     #18 0x104358887 in exec_complete_command exec_complete_command.c:45
  23:     #19 0x1043573d5 in exec exec.c:39
  24:     #20 0x104358b41 in exec_complete_commands exec_complete_commands.c:10
  25:     #21 0x1043573d5 in exec exec.c:39
  26:     #22 0x10435a729 in exec_program exec_program.c:10
  27:     #23 0x1043573d5 in exec exec.c:39
  28:     #24 0x104354456 in exec_main_loop lex_and_parse.c:27
  29:     #25 0x104354dcf in lex_and_parse lex_and_parse.c:97
  30:     #26 0x1043555ac in main_loop main_loop.c:52
  31:     #27 0x104339b7a in main main.c:97
  32:     #28 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  33: 
  34: 0x60400000e438 is located 0 bytes to the right of 40-byte region [0x60400000e410,0x60400000e438)
  35: allocated by thread T0 here:
  36:     #0 0x10453af3c in wrap_malloc (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x58f3c)
  37:     #1 0x1043a942f in palloc palloc.c:16
  38:     #2 0x1043a0ecb in ft_arrayjoin ft_arrayjoin.c:14
  39:     #3 0x1043a0faf in ft_arrayjoin_free ft_arrayjoin.c:33
  40:     #4 0x10435b902 in exec_simple_command exec_simple_command.c:137
  41:     #5 0x1043573d5 in exec exec.c:39
  42:     #6 0x104358484 in exec_command exec_command.c:20
  43:     #7 0x1043573d5 in exec exec.c:39
  44:     #8 0x104359b85 in exec_pipe_sequence exec_pipe_sequence.c:9
  45:     #9 0x1043573d5 in exec exec.c:39
  46:     #10 0x10435a564 in exec_pipeline exec_pipeline.c:83
  47:     #11 0x1043573d5 in exec exec.c:39
  48:     #12 0x104357521 in exec_and_or exec_and_or.c:13
  49:     #13 0x1043573d5 in exec exec.c:39
  50:     #14 0x104358887 in exec_complete_command exec_complete_command.c:45
  51:     #15 0x1043573d5 in exec exec.c:39
  52:     #16 0x104358b41 in exec_complete_commands exec_complete_commands.c:10
  53:     #17 0x1043573d5 in exec exec.c:39
  54:     #18 0x10435a729 in exec_program exec_program.c:10
  55:     #19 0x1043573d5 in exec exec.c:39
  56:     #20 0x104354456 in exec_main_loop lex_and_parse.c:27
  57:     #21 0x104354dcf in lex_and_parse lex_and_parse.c:97
  58:     #22 0x1043555ac in main_loop main_loop.c:52
  59:     #23 0x104339b7a in main main.c:97
  60:     #24 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  61: 
  62: SUMMARY: AddressSanitizer: heap-buffer-overflow local_get.c:11 in local_get_node
  63: Shadow bytes around the buggy address:
  64:   0x1c0800001c30: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  65:   0x1c0800001c40: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  66:   0x1c0800001c50: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  67:   0x1c0800001c60: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  68:   0x1c0800001c70: fa fa fd fd fd fd fd fd fa fa fd fd fd fd fd fd
  69: =>0x1c0800001c80: fa fa 00 00 00 00 00[fa]fa fa fd fd fd fd fd fa
  70:   0x1c0800001c90: fa fa fd fd fd fd fd fa fa fa fd fd fd fd fd fa
  71:   0x1c0800001ca0: fa fa fd fd fd fd fd fa fa fa fa fa fa fa fa fa
  72:   0x1c0800001cb0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  73:   0x1c0800001cc0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  74:   0x1c0800001cd0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  75: Shadow byte legend (one shadow byte represents 8 application bytes):
  76:   Addressable:           00
  77:   Partially addressable: 01 02 03 04 05 06 07 
  78:   Heap left redzone:       fa
  79:   Freed heap region:       fd
  80:   Stack left redzone:      f1
  81:   Stack mid redzone:       f2
  82:   Stack right redzone:     f3
  83:   Stack after return:      f5
  84:   Stack use after scope:   f8
  85:   Global redzone:          f9
  86:   Global init order:       f6
  87:   Poisoned by user:        f7
  88:   Container overflow:      fc
  89:   Array cookie:            ac
  90:   Intra object redzone:    bb
  91:   ASan internal:           fe
  92:   Left alloca redzone:     ca
  93:   Right alloca redzone:    cb
  94: ==84409==ABORTING
  95: ./lib/main.sh: line 102: 84409 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

----------------------------------------------------------------

[37;1mminishell/builtins/exit/002-status-passed-as-argument[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a number as first argument with the builtin `exit` results in the Shell termination with given number as exit status.[0m

  STDIN:
[38;5;239m  01: exit 42[0m

  STDOUT:
[31m[1;33m  WARNING    might be_empty[0m
[38;5;239m  01: tcsetattr error[0m

  STDERR:
[38;5;239m  01: open: Bad address[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to exit_with_status `42`[0m

----------------------------------------------------------------

[37;1mminishell/builtins/exit/errors/001-too-many-args[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a wrong number of arguments with the builtin `exit` does not result in the Shell termination but an error on standard error.[0m

  STDIN:
[38;5;239m  01: exit 21 42
  02: ./write_on_stdout TOKEN201711180618[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    expected_to match_regex `TOKEN201711180618`[0m
[38;5;239m  01: TOKEN201711180618[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `([Tt]oo many arguments|[Aa]rgument list too long)`[0m
[38;5;239m  01: exit: to many arguments[0m

  MISC:
[31m[38;5;34m  SUCCESS    expected_to exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/builtins/exit/errors/002-non-numeric-argument[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a non-numeric argument with the builtin `exit` results in the Shell termination and an error on standard error.[0m

  STDIN:
[38;5;239m  01: exit abc
  02: ./write_on_stdout TOKEN201711180618[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to_not match_regex `TOKEN201711180618`[0m
[38;5;239m  01: TOKEN201711180618[0m

  STDERR:
[31m[38;5;34m  SUCCESS    might_not be_empty[0m
[31m[38;5;34m  SUCCESS    might match_regex `[Nn]umeric argument required`[0m
[38;5;239m  01: exit: numeric argument required[0m

  MISC:
[31m[38;5;160m  FAILURE    expected_to_not exit_with_status `0`[0m

----------------------------------------------------------------

[37;1mminishell/builtins/setenv/002-add-new-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `setenv` (or `export`) can add a new variable to the environment, either with the syntax `setenv KEY VALUE` or with `setenv KEY=VALUE`.[0m

  Before test:
[38;5;239m  01: unset "TESTVAR1"[0m

  STDIN:
[38;5;239m  01: setenv TESTVAR1 VALUE_TOKEN201711180618
  02: ./display_env
  03: 
  04: setenv TESTVAR1=VALUE_TOKEN201711180618
  05: ./display_env
  06: 
  07: export TESTVAR1=VALUE_TOKEN201711180618
  08: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR1=VALUE_TOKEN201711180618`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  09: ZSH=/Users/vcombey/.oh-my-zsh
  10: USER=vcombey
  11: COMMAND_MODE=unix2003
  12: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  13: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  14: PAGER=less
  15: LSCOLORS=Gxfxcxdxbxegedabagacad
  16: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  17: PWD=/Users/vcombey/42ShellTester/tmp
  18: BASE16_THEME=base16-nord
  19: ITERM_PROFILE=Default
  20: XPC_FLAGS=0x0
  21: XPC_SERVICE_NAME=0
  22: SHLVL=3
  23: HOME=/Users/vcombey
  24: COLORFGBG=7;0
  25: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  26: LESS=-R
  27: LOGNAME=vcombey
  28: LC_CTYPE=UTF-8
  29: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  30: SECURITYSESSIONID=186a6
  31: COLORTERM=truecolor
  32: OLDPWD=/Users/vcombey/42ShellTester
  33: _=/Users/vcombey/42/42sh/42sh
  34: HISTFILE=/Users/vcombey/.42sh_history
  35: ------------------------------
  36: TOTAL ENVIRONMENT VARIABLES: 33[0m

  STDERR:
[38;5;239m  01: usage: setenv key1=value1 key2=value2 ..
  02: ASAN:DEADLYSIGNAL
  03: =================================================================
  04: ==85576==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x00010d8cf3ff bp 0x7fff52370450 sp 0x7fff523702e0 T0)
  05: ==85576==The signal is caused by a READ memory access.
  06: ==85576==Hint: address points to the zero page.
  07:     #0 0x10d8cf3fe in get_token_list get_token_list.c:227
  08:     #1 0x10d8aba2f in lex_and_parse lex_and_parse.c:73
  09:     #2 0x10d8ac5ac in main_loop main_loop.c:52
  10:     #3 0x10d890b7a in main main.c:97
  11:     #4 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  12: 
  13: ==85576==Register values:
  14: rax = 0x0000000000000000  rbx = 0x00007fff52370320  rcx = 0x0000000000000000  rdx = 0x0000000000000000  
  15: rdi = 0x00001fffea46e000  rsi = 0x0000100000000000  rbp = 0x00007fff52370450  rsp = 0x00007fff523702e0  
  16:  r8 = 0x00007fff52370300   r9 = 0x8476adfbe3530094  r10 = 0x0000000000000000  r11 = 0xffffffffffffffff  
  17: r12 = 0x00007fff52370510  r13 = 0x00007fff52370530  r14 = 0x00007fff523704a0  r15 = 0x00007fff523704f0  
  18: AddressSanitizer can not provide additional info.
  19: SUMMARY: AddressSanitizer: SEGV get_token_list.c:227 in get_token_list
  20: ==85576==ABORTING
  21: ./lib/main.sh: line 102: 85576 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

----------------------------------------------------------------

[37;1mminishell/builtins/setenv/003-set-existing-variable[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `setenv` (or `export`) can add a new variable to the environment, either with the syntax `setenv KEY VALUE` or with `setenv KEY=VALUE`.[0m

  Before test:
[38;5;239m  01: export "TESTVAR1=OLD_TOKEN201711180618"[0m

  STDIN:
[38;5;239m  01: setenv TESTVAR1 NEW_TOKEN201711180618
  02: ./display_env
  03: 
  04: setenv TESTVAR1=NEW_TOKEN201711180618
  05: ./display_env
  06: 
  07: export TESTVAR1=NEW_TOKEN201711180618
  08: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR1=NEW_TOKEN201711180618`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: OLDPWD=/Users/vcombey/42ShellTester
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: TESTVAR1=OLD_TOKEN201711180618
  14: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  15: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  16: PAGER=less
  17: LSCOLORS=Gxfxcxdxbxegedabagacad
  18: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  19: PWD=/Users/vcombey/42ShellTester/tmp
  20: BASE16_THEME=base16-nord
  21: ITERM_PROFILE=Default
  22: XPC_FLAGS=0x0
  23: XPC_SERVICE_NAME=0
  24: SHLVL=3
  25: HOME=/Users/vcombey
  26: COLORFGBG=7;0
  27: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  28: LESS=-R
  29: LOGNAME=vcombey
  30: LC_CTYPE=UTF-8
  31: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  32: SECURITYSESSIONID=186a6
  33: COLORTERM=truecolor
  34: _=/Users/vcombey/42/42sh/42sh
  35: HISTFILE=/Users/vcombey/.42sh_history
  36: ------------------------------
  37: TOTAL ENVIRONMENT VARIABLES: 34[0m

  STDERR:
[38;5;239m  01: usage: setenv key1=value1 key2=value2 ..
  02: ASAN:DEADLYSIGNAL
  03: =================================================================
  04: ==85709==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x00010c2e13ff bp 0x7fff5395e430 sp 0x7fff5395e2c0 T0)
  05: ==85709==The signal is caused by a READ memory access.
  06: ==85709==Hint: address points to the zero page.
  07:     #0 0x10c2e13fe in get_token_list get_token_list.c:227
  08:     #1 0x10c2bda2f in lex_and_parse lex_and_parse.c:73
  09:     #2 0x10c2be5ac in main_loop main_loop.c:52
  10:     #3 0x10c2a2b7a in main main.c:97
  11:     #4 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  12: 
  13: ==85709==Register values:
  14: rax = 0x0000000000000000  rbx = 0x00007fff5395e300  rcx = 0x0000000000000000  rdx = 0x0000000000000000  
  15: rdi = 0x00001fffea72bc00  rsi = 0x0000100000000000  rbp = 0x00007fff5395e430  rsp = 0x00007fff5395e2c0  
  16:  r8 = 0x00007fff5395e2e0   r9 = 0xf6177f3851740096  r10 = 0x0000000000000000  r11 = 0xffffffffffffffff  
  17: r12 = 0x00007fff5395e4f0  r13 = 0x00007fff5395e510  r14 = 0x00007fff5395e480  r15 = 0x00007fff5395e4d0  
  18: AddressSanitizer can not provide additional info.
  19: SUMMARY: AddressSanitizer: SEGV get_token_list.c:227 in get_token_list
  20: ==85709==ABORTING
  21: ./lib/main.sh: line 102: 85709 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

----------------------------------------------------------------

[37;1mminishell/builtins/setenv/004-invalid-identifier[0m [31m[1;33m(WARNING)[0m

  Description:
[38;5;239m  The purpose of this test is to check that using a wrong variable name with the builtin `setenv` (or `export`) results in error.[0m

  STDIN:
[38;5;239m  01: setenv 42
  02: export 42[0m

  STDOUT:
[31m[38;5;34m  SUCCESS    might be_empty[0m
[38;5;239m  (no output)[0m

  STDERR:
[31m[38;5;34m  SUCCESS    expected_to_not be_empty[0m
[31m[1;33m  WARNING    might match_regex `(not.*identifier|must begin.*letter)`[0m
[38;5;239m  01: usage: setenv key1=value1 key2=value2 ..[0m

----------------------------------------------------------------

[37;1mminishell/builtins/setenv/005-add-and-set-multiple-variables[0m [31m[38;5;160m(FAILED)[0m

  Description:
[38;5;239m  The purpose of this test is to check that the builtin `setenv` (or `export`) can add multiples variables into the environment, either with the syntax `setenv KEY VALUE` or with `setenv KEY=VALUE`.[0m

  Before test:
[38;5;239m  01: unset "TESTVAR1"
  02: unset "TESTVAR2"
  03: unset "TESTVAR3"
  04: unset "TESTVAR4"
  05: unset "TESTVAR5"
  06: unset "TESTVAR6"
  07: unset "TESTVAR7"
  08: unset "TESTVAR8"
  09: unset "TESTVAR9"
  10: unset "TESTVAR10"
  11: 
  12: export "TEST2VAR1=OLD_TOKEN201711180618_1"
  13: export "TEST2VAR2=OLD_TOKEN201711180618_2"
  14: export "TEST2VAR3=OLD_TOKEN201711180618_3"
  15: export "TEST2VAR4=OLD_TOKEN201711180618_4"
  16: export "TEST2VAR5=OLD_TOKEN201711180618_5"
  17: export "TEST2VAR6=OLD_TOKEN201711180618_6"
  18: export "TEST2VAR7=OLD_TOKEN201711180618_7"
  19: export "TEST2VAR8=OLD_TOKEN201711180618_8"
  20: export "TEST2VAR9=OLD_TOKEN201711180618_9"
  21: export "TEST2VAR10=OLD_TOKEN201711180618_10"[0m

  STDIN:
[38;5;239m  01: setenv TESTVAR1 VALUE_TOKEN201711180618_1
  02: setenv TEST2VAR1 VALUE_TOKEN201711180618_1
  03: setenv TESTVAR2 VALUE_TOKEN201711180618_2
  04: setenv TEST2VAR2 VALUE_TOKEN201711180618_2
  05: setenv TESTVAR3 VALUE_TOKEN201711180618_3
  06: setenv TEST2VAR3 VALUE_TOKEN201711180618_3
  07: setenv TESTVAR4 VALUE_TOKEN201711180618_4
  08: setenv TEST2VAR4 VALUE_TOKEN201711180618_4
  09: setenv TESTVAR5 VALUE_TOKEN201711180618_5
  10: setenv TEST2VAR5 VALUE_TOKEN201711180618_5
  11: setenv TESTVAR6 VALUE_TOKEN201711180618_6
  12: setenv TEST2VAR6 VALUE_TOKEN201711180618_6
  13: setenv TESTVAR7 VALUE_TOKEN201711180618_7
  14: setenv TEST2VAR7 VALUE_TOKEN201711180618_7
  15: setenv TESTVAR8 VALUE_TOKEN201711180618_8
  16: setenv TEST2VAR8 VALUE_TOKEN201711180618_8
  17: setenv TESTVAR9 VALUE_TOKEN201711180618_9
  18: setenv TEST2VAR9 VALUE_TOKEN201711180618_9
  19: setenv TESTVAR10 VALUE_TOKEN201711180618_10
  20: setenv TEST2VAR10 VALUE_TOKEN201711180618_10
  21: ./display_env
  22: 
  23: setenv TESTVAR1=VALUE_TOKEN201711180618_1
  24: setenv TEST2VAR1=VALUE_TOKEN201711180618_1
  25: setenv TESTVAR2=VALUE_TOKEN201711180618_2
  26: setenv TEST2VAR2=VALUE_TOKEN201711180618_2
  27: setenv TESTVAR3=VALUE_TOKEN201711180618_3
  28: setenv TEST2VAR3=VALUE_TOKEN201711180618_3
  29: setenv TESTVAR4=VALUE_TOKEN201711180618_4
  30: setenv TEST2VAR4=VALUE_TOKEN201711180618_4
  31: setenv TESTVAR5=VALUE_TOKEN201711180618_5
  32: setenv TEST2VAR5=VALUE_TOKEN201711180618_5
  33: setenv TESTVAR6=VALUE_TOKEN201711180618_6
  34: setenv TEST2VAR6=VALUE_TOKEN201711180618_6
  35: setenv TESTVAR7=VALUE_TOKEN201711180618_7
  36: setenv TEST2VAR7=VALUE_TOKEN201711180618_7
  37: setenv TESTVAR8=VALUE_TOKEN201711180618_8
  38: setenv TEST2VAR8=VALUE_TOKEN201711180618_8
  39: setenv TESTVAR9=VALUE_TOKEN201711180618_9
  40: setenv TEST2VAR9=VALUE_TOKEN201711180618_9
  41: setenv TESTVAR10=VALUE_TOKEN201711180618_10
  42: setenv TEST2VAR10=VALUE_TOKEN201711180618_10
  43: ./display_env
  44: 
  45: export TESTVAR1=VALUE_TOKEN201711180618_1
  46: export TEST2VAR1=VALUE_TOKEN201711180618_1
  47: export TESTVAR2=VALUE_TOKEN201711180618_2
  48: export TEST2VAR2=VALUE_TOKEN201711180618_2
  49: export TESTVAR3=VALUE_TOKEN201711180618_3
  50: export TEST2VAR3=VALUE_TOKEN201711180618_3
  51: export TESTVAR4=VALUE_TOKEN201711180618_4
  52: export TEST2VAR4=VALUE_TOKEN201711180618_4
  53: export TESTVAR5=VALUE_TOKEN201711180618_5
  54: export TEST2VAR5=VALUE_TOKEN201711180618_5
  55: export TESTVAR6=VALUE_TOKEN201711180618_6
  56: export TEST2VAR6=VALUE_TOKEN201711180618_6
  57: export TESTVAR7=VALUE_TOKEN201711180618_7
  58: export TEST2VAR7=VALUE_TOKEN201711180618_7
  59: export TESTVAR8=VALUE_TOKEN201711180618_8
  60: export TEST2VAR8=VALUE_TOKEN201711180618_8
  61: export TESTVAR9=VALUE_TOKEN201711180618_9
  62: export TEST2VAR9=VALUE_TOKEN201711180618_9
  63: export TESTVAR10=VALUE_TOKEN201711180618_10
  64: export TEST2VAR10=VALUE_TOKEN201711180618_10
  65: ./display_env[0m

  STDOUT:
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR1=VALUE_TOKEN201711180618_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR2=VALUE_TOKEN201711180618_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR3=VALUE_TOKEN201711180618_3`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR4=VALUE_TOKEN201711180618_4`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR5=VALUE_TOKEN201711180618_5`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR6=VALUE_TOKEN201711180618_6`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR7=VALUE_TOKEN201711180618_7`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR8=VALUE_TOKEN201711180618_8`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR9=VALUE_TOKEN201711180618_9`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TESTVAR10=VALUE_TOKEN201711180618_10`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR1=VALUE_TOKEN201711180618_1`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR2=VALUE_TOKEN201711180618_2`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR3=VALUE_TOKEN201711180618_3`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR4=VALUE_TOKEN201711180618_4`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR5=VALUE_TOKEN201711180618_5`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR6=VALUE_TOKEN201711180618_6`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR7=VALUE_TOKEN201711180618_7`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR8=VALUE_TOKEN201711180618_8`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR9=VALUE_TOKEN201711180618_9`[0m
[31m[38;5;160m  FAILURE    expected_to match_regex `TEST2VAR10=VALUE_TOKEN201711180618_10`[0m
[38;5;239m  01: ------------------------------
  02: TERM_PROGRAM=iTerm.app
  03: TERM=xterm-256color
  04: SHELL=42sh
  05: TMPDIR=/var/folders/x1/h5xkx7bn4_xdp90cr3vsc1700000gp/T/
  06: Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.BdhxTtlWoN/Render
  07: TERM_PROGRAM_VERSION=3.1.5
  08: OLDPWD=/Users/vcombey/42ShellTester
  09: TERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  10: ZSH=/Users/vcombey/.oh-my-zsh
  11: USER=vcombey
  12: COMMAND_MODE=unix2003
  13: SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.DjsbF4A67B/Listeners
  14: __CF_USER_TEXT_ENCODING=0x1F6:0x0:0x1
  15: PAGER=less
  16: LSCOLORS=Gxfxcxdxbxegedabagacad
  17: PATH=/Users/vcombey/.cargo/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/vcombey/Users/vcombey/mongo/bin:/Users/vcombey/.gem/ruby/2.4.0/bin
  18: PWD=/Users/vcombey/42ShellTester/tmp
  19: BASE16_THEME=base16-nord
  20: ITERM_PROFILE=Default
  21: XPC_FLAGS=0x0
  22: TEST2VAR10=OLD_TOKEN201711180618_10
  23: XPC_SERVICE_NAME=0
  24: SHLVL=3
  25: HOME=/Users/vcombey
  26: COLORFGBG=7;0
  27: ITERM_SESSION_ID=w0t1p1:AA6E4D2D-12B7-490D-A2B9-15090FF0E0C9
  28: LESS=-R
  29: LOGNAME=vcombey
  30: LC_CTYPE=UTF-8
  31: TEST2VAR9=OLD_TOKEN201711180618_9
  32: TEST2VAR8=OLD_TOKEN201711180618_8
  33: TEST2VAR7=OLD_TOKEN201711180618_7
  34: TEST2VAR6=OLD_TOKEN201711180618_6
  35: TEST2VAR5=OLD_TOKEN201711180618_5
  36: TEST2VAR4=OLD_TOKEN201711180618_4
  37: TEST2VAR3=OLD_TOKEN201711180618_3
  38: TEST2VAR2=OLD_TOKEN201711180618_2
  39: BASE16_SHELL=/Users/vcombey/.config/base16-shell/
  40: SECURITYSESSIONID=186a6
  41: TEST2VAR1=OLD_TOKEN201711180618_1
  42: COLORTERM=truecolor
  43: _=/Users/vcombey/42/42sh/42sh
  44: HISTFILE=/Users/vcombey/.42sh_history
  45: ------------------------------
  46: TOTAL ENVIRONMENT VARIABLES: 43[0m

  STDERR:
[38;5;239m  01: usage: setenv key1=value1 key2=value2 ..
  02: usage: setenv key1=value1 key2=value2 ..
  03: usage: setenv key1=value1 key2=value2 ..
  04: usage: setenv key1=value1 key2=value2 ..
  05: usage: setenv key1=value1 key2=value2 ..
  06: usage: setenv key1=value1 key2=value2 ..
  07: usage: setenv key1=value1 key2=value2 ..
  08: usage: setenv key1=value1 key2=value2 ..
  09: usage: setenv key1=value1 key2=value2 ..
  10: usage: setenv key1=value1 key2=value2 ..
  11: usage: setenv key1=value1 key2=value2 ..
  12: usage: setenv key1=value1 key2=value2 ..
  13: usage: setenv key1=value1 key2=value2 ..
  14: usage: setenv key1=value1 key2=value2 ..
  15: usage: setenv key1=value1 key2=value2 ..
  16: usage: setenv key1=value1 key2=value2 ..
  17: usage: setenv key1=value1 key2=value2 ..
  18: usage: setenv key1=value1 key2=value2 ..
  19: usage: setenv key1=value1 key2=value2 ..
  20: usage: setenv key1=value1 key2=value2 ..
  21: ASAN:DEADLYSIGNAL
  22: =================================================================
  23: ==86056==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x0001083a33ff bp 0x7fff5789c2b0 sp 0x7fff5789c140 T0)
  24: ==86056==The signal is caused by a READ memory access.
  25: ==86056==Hint: address points to the zero page.
  26:     #0 0x1083a33fe in get_token_list get_token_list.c:227
  27:     #1 0x10837fa2f in lex_and_parse lex_and_parse.c:73
  28:     #2 0x1083805ac in main_loop main_loop.c:52
  29:     #3 0x108364b7a in main main.c:97
  30:     #4 0x7fffd2e4a234 in start (libdyld.dylib:x86_64+0x5234)
  31: 
  32: ==86056==Register values:
  33: rax = 0x0000000000000000  rbx = 0x00007fff5789c180  rcx = 0x0000000000000000  rdx = 0x0000000000000000  
  34: rdi = 0x00001fffeaf13800  rsi = 0x0000100000000000  rbp = 0x00007fff5789c2b0  rsp = 0x00007fff5789c140  
  35:  r8 = 0x00007fff5789c160   r9 = 0x6993b651eb760096  r10 = 0x0000000000000000  r11 = 0xffffffffffffffff  
  36: r12 = 0x00007fff5789c370  r13 = 0x00007fff5789c390  r14 = 0x00007fff5789c300  r15 = 0x00007fff5789c350  
  37: AddressSanitizer can not provide additional info.
  38: SUMMARY: AddressSanitizer: SEGV get_token_list.c:227 in get_token_list
  39: ==86056==ABORTING
  40: ./lib/main.sh: line 102: 86056 Abort trap: 6           /Users/vcombey/42/42sh/42sh[0m

Total tests: 286
Total failed tests: 79
Total pending tests: 3
